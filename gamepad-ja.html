<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>Gamepad （日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-w3c.css" type="text/css" />

<script src="common0.js" ></script>
<script src="common1.js" async></script>


<script>
Util.ready = function(){
	const source_data = {
		toc_main: 'MAIN0',
		collectParts: Util.collectParts,
		generate: expand
	}

	Util.switchWordsInit(source_data);
}

function expand(){
	const class_map = this.class_map;
	const tag_map = this.tag_map;
	const link_map = this.link_map;
	const unicode_map = this.unicode_map;

	let current_ifc = '';

	return this.html.replace(
		/%[\w\-~一-鿆]+|`(.*?)([$@!\^])(\w*)/g,
		create_html
	);

	function create_html(match, key, indicator, klass){
if(!indicator) {//%
	return `<var>${match.slice(1)}</var>`;
}

let text = key;
let href = '';

switch(klass){
case 'r':
	text = `[${key}]`;
	href = `#bib-${key.toLowerCase()}`;
	break;
case 'm' :
	const n = text.indexOf('(');
	if(n > 0){
		key = text.slice(0, n);
		text = key + text.slice(n).replace(/\w+/g, '<var>$&</var>');
	}
	break;
case 'l':
	text = `"<code class="literal">${key}</code>"`;
	break;
case 'dgm':
	return `<a id="_dgm-${key}">＊</a>`;
case 'en':
	return `<span lang="en-x-a0">${key}</span>`;
	break;
}

let tag = tag_map[klass];
if(tag) {
	let classname = class_map[klass];
	classname = classname ? ` class="${classname}"` : '';
	text = `<${tag}${classname}>${text}</${tag}>`;
}

if(indicator !== '^'){
	href = link_map[ klass ? `${klass}.${key}` : key ] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '!':
	case '$':
		text = `<a href="${href}">${text}</a>`;
		break;
	case '@':
		text = `<dfn id="${href.slice(1)}">${text}</dfn>`;
		break;
	}
}

return text;

	}
}
</script>



<script type="text/plain" id="_source_data">


●●options
spec_title:Gamepad
spec_date:2020-06-18
trans_update:2020-06-20
	source_checked:190531
page_state_key:UIEVENTS
	original_url:https://www.w3.org/TR/gamepad/
original_url:https://w3c.github.io/gamepad/
	abbr_url:GAMEPAD
spec_status:ED
ref_id_prefix:bib-
ref_id_lowercase:true
conformance:w3c
copyright:2020,permissive
trans_1st_pub:2019-07-08


●●class_map
E:error
et:event-type
e:element
v:value

●●tag_map
c:code
I:code
E:code
m:code
mb:code
et:code
e:code
v:code
i:i
V:var

●●original_id_map

●●mdn_urls
dom-gamepad:API/Gamepad
dom-gamepadbutton:API/GamepadButton
dom-gamepadevent:API/GamepadEvent
	dom-gamepadeventinit:API/GamepadEventInit
	dom-gamepadmappingtype:API/GamepadMappingType

dfn-gamepadconnected:API/Window/gamepadconnected_event
dfn-gamepaddisconnected:API/Window/gamepaddisconnected_event

●●link_map

Exposed:~WEBIDLjs#Exposed
SameObject:~WEBIDLjs#SameObject

long:~WEBIDL#idl-long
boolean:~WEBIDL#idl-boolean
double:~WEBIDL#idl-double
sequence:~WEBIDL##idl-sequence
DOMString:~WEBIDL#idl-DOMString
FrozenArray:~WEBIDL#idl-frozen-array

I.Event:~DOM4#interface-event
I.EventInit:~DOM4#dictdef-eventinit
I.DOMHighResTimeStamp:~HRTIME#dom-domhighrestimestamp
	I.DOMHighResTimeStamp:#dfn-domhighrestimestamp
I.Gamepad:#dom-gamepad
I.GamepadButton:#dom-gamepadbutton
I.GamepadEvent:#dom-gamepadevent
I.GamepadEventInit:#dom-gamepadeventinit
I.GamepadMappingType:#dom-gamepadmappingtype
	I.Navigator:#dom-navigator
I.Navigator:~HTMLnavigator#navigator
I.PerformanceTiming:~NAV-TIMING#dom-performancetiming
	I.PerformanceTiming:#dfn-performancetiming
	I.PerformanceTiming:~TR/navigation-timing/#performancetiming
I.Window:~WINDOW#window

m.axes:#dom-gamepad-axes
m.button:#dom-gamepad-buttons
m.buttons:#dom-gamepad-buttons
m.connected:#dom-gamepad-connected
m.id:#dom-gamepad-id
m.index:#dom-gamepad-index
m.mapping:#dom-gamepad-mapping
m.timestamp:#dom-gamepad-timestamp

m.pressed:#dom-gamepadbutton-pressed
m.touched:#dom-gamepadbutton-touched
m.value:#dom-gamepadbutton-value

m.gamepad:#dom-gamepadevent-gamepad
m.getGamepads:#dom-navigator-getgamepads

mb.gamepad:#dom-gamepadeventinit-gamepad

m.requestAnimationFrame:~HTMLGAPI#dom-animationframeprovider-requestanimationframe
m.navigationStart:~NAV-TIMING#dom-performancetiming-navigationstart

l.standard:#dom-gamepadmappingtype-standard

	"":#dom-gamepadmappingtype-the-empty-string
	:#dom-gamepadmappingtype-the-empty-string

et.gamepadconnected:#dfn-gamepadconnected
et.gamepaddisconnected:#dfn-gamepaddisconnected

	対応付直法:#dfn-standard-gamepad-layout
標準~gamepad:#dfn-standard-gamepad-layout
標準~gamepad~layout:#dfn-standard-gamepad-layout
	標準~gamepad~layout:#remapping

	●
関連な大域~obj:~WAPI#concept-relevant-global
時刻~起点:~HRTIME#dfn-time-origin
	m.timeOrigin:~HRTIME#dom-performance-timeorigin
	時刻~起点~時刻印:#dfn-time-origin-timestamp

	BCP 14:~RFCx/bcp14
	Best Practice 1:#practice-timing
	Example 1:#example-1
	Example 2:#example-2


●●words_table1

●●words_table

	●Gamepad／hardware
Gamepad:
ID:
USB:
2D:
X:
Y:
controller::::コントローラ
game::::ゲーム
gamepad::::ゲームパッド
gaming::::ゲーミング
プレゼン:presentation:::~
pedal::::ペダル
sensor::::センサ
switch::::スイッチ
touch::::タッチ
viewer::::ビューア
stick::::スティック
ハンドル:driving wheel:::~
accelerator::::アクセル
	加速度計:accelerometer
方向-:directional::~
押す:pressする::~
押され:pressされ::~
	押されていない:unpressed
	pressed$m:pressed
	に一体化された:pressed
放され:releaseされ::~
gesture::::ジェスチャ
joystick::::ジョイスティック
analog::::アナログ
digital::::デジタル
製品:product:~
製造元:manufacturer:~
動き:motion::~
動かし:moveし:~
奥行き:depth::~
感知:sensing::~
装着-:attach:~
driver::::ドライバ
切断-:disconnect::~
切断:disconnection::~
電源:power:~
	電源が切られた:powered off

対応付直す:remapする::対応付け直す
対応付直法:remap 法::対応付け直し法

水平-:horizontal::~
垂直-:vertical::~
線形:linear::~
閾:threshold::~

	上:top
	下:bottom
	上:up
	下:down
	右:right
	左:left
	中央:center
	左上:top left
	右上:top right
	左下:bottom left
	右下:bottom right
	左側は負:negative left／
	右側は正:positive right
	上側は負:negative up
	下側は正:positive down
	前方:forward
	後方:backward
	左方:left
	右方:right
	天を指して:perpendicular to the ground with 〜 pointing up
	前面:front
	~~前方に面した:front facing
	~~前方に面し，左右各側に 2 個ずつある:pair of front facing buttons on the left and right side
	左右各側にある:a pair of 〜 one on the left and one on the right

	●event

	●animation
時刻:time::~
単調増加-:monotonic に increase:~
	単調増加:monotonically increasing
標本化-:sample::~::サンプル
稼働-:run::~
	稼働している:running
起点:origin::~
更新周期:frequency:~
rate::::レート

	●仕様
協調-:coordinate:~
協調:coordination:~
模倣-:emulate:~
模倣:emulation:~
一般性:generality:~
事実上の:de-facto:~
文書化:documentation:~
解決策:solution:~
第一:primary:~
第二:secondary:~
第三:tertiary:~
brand::::ブランド
	デモ:demo
poll:
転がす:rollする:~
失う:loseする:~
適度:reasonable:~
選ぶ:chooseする:~

	-:trying to be a
	~interface法:interfacing
	可用でなくなった:becomes unavailable
	に基づいて:basis
	利用-不能:unusable
	片:snippet
	広くから:widely
	おそれ:potential
	~~普及した:have been made popular
	その一方、~meanwhile:#1
	広く:broadly
	代表する呼称:exemplary:#1
	手に負えなく:intractable
	多少:somewhat
	能力がある／ない:capable of
	望ましい:desirable
	巨大:large
	種:type
	の様になる:look like
	適する:suited
	も含めるかどうか，〜 含める場合、:whether to include or exclude
	絞る:choose to narrow

	●未分類
snapshot::::スナップショット
分析:analysis:~
生の:raw:~
一定量:certain amount:~
形:form:~
アテガい:assignし::あてがい
現れる:appearする:~
現れな:appearしな:~

	~index:indice
	〜中の:continue
	変化-用:changed
	取り出され:drawn
	列挙:enum
	-:mirror
	-:present

	●指示語
	より新しい:newer
	より旧い:older
	0 でない:greater than 0
	交互に:next to each other
	現在:currently
	現時点で:currently
	てから:subsequently
	から:starting
	それまでに／以前に:previously
	上回る:above
	低~level:low-level
	近く／近くに:closely
	表:table
	範囲をとる:ranging from
	~~固有の:unique
	個別:individual
	最初に来たものから順に:first-come first-serve
	高いものから順:decreasing order／:decreasing
	最低:lowest


●●ref_normative

[DOM]
    DOM Standard. Anne van Kesteren. WHATWG. Living Standard. URL: https://dom.spec.whatwg.org/
[hr-time]
    High Resolution Time Level 2. Ilya Grigorik. W3C. 21 November 2019. W3C Recommendation. URL: https://www.w3.org/TR/hr-time-2/
[HTML]
    HTML Standard. Anne van Kesteren; Domenic Denicola; Ian Hickson; Philip Jägenstedt; Simon Pieters. WHATWG. Living Standard. URL: https://html.spec.whatwg.org/multipage/
[NAVIGATION-TIMING]
    Navigation Timing. Zhiheng Wang. W3C. 17 December 2012. W3C Recommendation. URL: https://www.w3.org/TR/navigation-timing/
[RFC2119]
    Key words for use in RFCs to Indicate Requirement Levels. S. Bradner. IETF. March 1997. Best Current Practice. URL: https://tools.ietf.org/html/rfc2119
[RFC8174]
    Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words. B. Leiba. IETF. May 2017. Best Current Practice. URL: https://tools.ietf.org/html/rfc8174
[WebIDL]
    Web IDL. Boris Zbarsky. W3C. 15 December 2016. W3C Editor's Draft. URL: https://heycam.github.io/webidl/

●●
ref_informative


●●trans_metadata
<p>
~THIS_PAGEは、~W3Cにより編集者草案として公開された
<a href="~SPEC_URL">Gamepad</a>
を日本語に翻訳したものです。
~PUB
</p>


●●spec_metadata

最新発行バージョン
	https://www.w3.org/TR/gamepad/
編集者草案
	https://w3c.github.io/gamepad/
テスト一式
	https://w3c-test.org/gamepad/
実装報告書
	https://wpt.fyi/results/gamepad
編集
	Steve Agoston (Sony)
	James Hollyer (Google)
	Matt Reynolds (Google)
前任編集者
	<a href="http://tojicode.com/">Brandon Jones</a> (Google)
	<a href="http://h4ck3r.net/">Scott Graham</a> (Google)
	<a href="http://ted.mielczarek.org/">Ted Mielczarek</a> (Mozilla)
Participate
	<a href="https://github.com/w3c/gamepad/">GitHub w3c/gamepad</a>
	<a href="https://github.com/w3c/gamepad/issues/">File a bug</a>
	<a href="https://github.com/w3c/gamepad/commits/gh-pages">Commit history</a>
	<a href="https://github.com/w3c/gamepad/pulls/">Pull requests</a>
	<a href="https://github.com/w3c/gamepad/issues/">GitHub Issues</a>
発行者
	<a href="https://www.w3.org/2019/webapps/">Web Applications Working Group</a>

</script>

</head>

<body>

<div id="_persisted_parts" hidden>

<img
	id="_dgm-standard_gamepad"
	src="gamepad/standard_gamepad.svg"
	alt=""
	style="width:100%; max-width:800px; object-fit: contain;"
>

</div>

<header>
	<hgroup>
<h1 id="title">Gamepad</h1>
	</hgroup>
</header>

<div id="MAIN" hidden>

	<section id="abstract">
~ABSTRACT

<p>
~Gamepad仕様は、~gamepad装置を表現する低~levelな~interfaceを定義する。
◎
The Gamepad specification defines a low-level interface that represents gamepad devices.
</p>

	</section>
	<section id="sotd">
~STATUSofTHIS

<p>
`この節では、発行時点における…^em
【以下、この節の他の内容は <a href="w3c-common-ja.html#status">W3C 日本語訳 共通ページ</a>／冒頭の仕様~metadataに委譲。】
</p>
	</section>

<main id="MAIN0">

    <section id="introduction" class="informative">
<h2 title="Introduction">1. 序論</h2>

~INFORMATIVE

<p>
~UAには、~gamepad装置が接続されるものもある。
これらの装置は、~gaming~app用の入力や
“数歩先の” ~UI
【<a href="https://en.wikipedia.org/wiki/10-foot_user_interface">10 foot UI</a>】
（プレゼン, ~media~viewerなど）
に望ましい, かつ適する。
◎
Some user agents have connected gamepad devices. These devices are desirable and suited to input for gaming applications, and for "10 foot" user interfaces (presentations, media viewers).
</p>

<p>
~gamepadを入力として利用する仕方は、現時点では，［
~mouse／~keyboard
］~eventで模倣する他にない。
しかしながら，これは、情報を失うことに加え，模倣を成遂げるために，~UAの外側に追加的な~softwareを要求することになる。
◎
Currently, the only way for a gamepad to be used as input would be to emulate mouse or keyboard events, however this would lose information and require additional software outside of the user agent to accomplish emulation.
</p>

<p>
その一方，~native~appには、~system~APIを介してこれらの装置へ~accessする能力がある。
◎
Meanwhile, native applications are capable of accessing these devices via system APIs.
</p>

<p>
~Gamepad~APIは、［
~gamepad~data上で直に動作することを~web~appに許容する~interface
］を指定することにより，この問題への解決策を供する。
◎
The Gamepad API provides a solution to this problem by specifying interfaces that allow web applications to directly act on gamepad data.
</p>

	</section>
	<section id="_conventions">
<h2>【この訳に固有の表記規約】</h2>

<p>
この訳の，~algoの記述に利用されている各種記号（此れ, ~LET, ~T, ~IF, ~RET, 等々）の意味や定義の詳細は、~SYMBOL_DEF_REFを~~参照されたし。
</p>

	</section>
	<section id="dependencies">
<h2 title="Dependencies">2. 依存関係</h2>

<p>
【この節の内容（他の仕様に定義される~interface一覧）の和訳は、省略する。】
◎
This specification references interfaces from a number of other specifications:
• PerformanceTiming [NAVIGATION-TIMING].
</p>

	</section>
	<section id="scope">
<h2 title="Scope">3. 視野</h2>

<p>
~gameの制御-用に設計された外部~装置との~interface法は、全部的な一般性に向かって~approachすると，巨大で手に負えなくなるおそれがある。
この仕様では、明示的に視野を絞って，そのような機能性のうち［
広くから実装でき，広く有用になる下位集合
］を供する。
◎
Interfacing with external devices designed to control games has the potential to become large and intractable if approached in full generality. In this specification we explicitly choose to narrow scope to provide a useful subset of functionality that can be widely implemented and broadly useful.
</p>

<p>
特定的には，ここでは、~gamepadを~supportするために要求される機能性に限り~supportする。
~gamepad用の~supportは、 2 種の入力
— ~button, 軸（ `axis^en ） —
を要求する。
両者とも~analog値として報告され、各~buttonは［
0 以上, 1 以下
］の範囲を, 各~軸は［
−1 以上, 1 以下
］の範囲をとる。
◎
Specifically, we choose to only support the functionality required to support gamepads. Support for gamepads requires two input types: buttons and axes. Both buttons and axes are reported as analog values, buttons ranging from [0..1], and axes ranging from [-1..1].
</p>

<p>
首な目標は，~gamepad装置~用の~supportであるが、この 2 種の~analog入力を~supportすることで，［
現在の~gaming~systemに共通な，他の類似な装置
］
— ［
~joystick,
ハンドル,
~pedal,
~accelerator【！accelerometer】,
等々
］も含む —
用の~supportも許容する。
そのようなわけで、 “~gamepad” という名前は
— この仕様が取組む装置の集合~全体を汎用に表すものではなく —
それらを~~代表する呼称である。
◎
While the primary goal is support for gamepad devices, supporting these two types of analog inputs allows support for other similar devices common to current gaming systems including joysticks, driving wheels, pedals, and accelerometers. As such, the name "gamepad" is exemplary rather than trying to be a generic name for the entire set of devices addressed by this specification.
</p>

<p>
特定的には、［
動き感知,
奥行き感知,
動画~分析,
~gesture認識,
等々
］を行うような，［
一部の~gaming文脈で利用され得る，より複階的な装置
］の~supportは除外される。
◎
We specifically exclude support for more complex devices that may also be used in some gaming contexts, including those that that do motion sensing, depth sensing, video analysis, gesture recognition, and so on.
</p>

	</section>
	<section id="gamepad-interface">
<h2 title="Gamepad interface">4. `Gamepad^I ~interface</h2>

<p>
この~interfaceは、個々の~gamepad装置を定義する。
◎
This interface defines an individual gamepad device.
</p>

<pre class="idl">
[`Exposed$=Window]
interface `Gamepad@I {
  readonly attribute `DOMString$ `id$m;
  readonly attribute `long$ `index$m;
  readonly attribute `boolean$ `connected$m;
  readonly attribute `DOMHighResTimeStamp$I `timestamp$m;
  readonly attribute `GamepadMappingType$I `mapping$m;
  readonly attribute `FrozenArray$&lt;`double$&gt; `axes$m;
  readonly attribute `FrozenArray$&lt;`GamepadButton$I&gt; `buttons$m;
};
</pre>

<dl class="idl-def">
	<dt>`id@m</dt>
	<dd>
~gamepad用の識別~文字列を指示する。
◎
An identification string for the gamepad.＼
</dd>
	<dd>
この文字列は、接続された~gamepad装置の~brandや~styleを識別する。
これは概して、~USB~vendorと製品~IDを含むことになる。
◎
This string identifies the brand or style of connected gamepad device. Typically, this will include the USB vendor and a product ID.
</dd>

	<dt>`index@m</dt>
	<dd>
`Navigator$I
【の `getGamepads()$m が返す配列】
における，この~gamepadの~indexを指示する。
◎
The index of the gamepad in the Navigator.＼
</dd>
	<dd>
<p>
~UAは、各~gamepadに~indexをアテガうときには，次に従うモノトスル：
</p>
		<ul>
			<li>
接続されている~gamepadが複数ある場合、最初に接続されたものから順に， 0 から~indexをアテガう。
</li>
			<li>
ある~gamepadが切断されても、それにアテガわれていた~indexを接続-中の~gamepadにはアテガい直さない。
【接続-中のどの~gamepadも，その~indexは変化しない。】
</li>
			<li>
~gamepadが切断されてから，同じまたは異なる~gamepadが接続された場合、それまでに利用された【かつ接続-中の~gamepadにアテガっていない】最低の~indexを再利用する。
</li>
		</ul>
◎
When multiple gamepads are connected to a user agent, indices MUST be assigned on a first-come, first-serve basis, starting at zero. If a gamepad is disconnected, previously assigned indices MUST NOT be reassigned to gamepads that continue to be connected. However, if a gamepad is disconnected, and subsequently the same or a different gamepad is then connected, the lowest previously used index MUST be reused.
</dd>

	<dt>`connected@m</dt>
	<dd>
この~objにより表現される物理的な装置は、依然として~systemに接続されているかどうかを指示する。
◎
Indicates whether the physical device represented by this object is still connected to the system.＼
</dd>
	<dd>
~gamepadが可用でなくなったとき
— 物理的に切断された, 電源が切られた, その他~利用-不能になったなど —
この属性は、~F を返すモノトスル。
◎
When a gamepad becomes unavailable, whether by being physically disconnected, powered off or otherwise unusable, the connected attribute MUST be set to false.
</dd>

	<dt>`timestamp@m</dt>
	<dd>
この~gamepad用の~dataが最後に更新された時刻を指示する。
◎
Last time the data for this gamepad was updated.＼
</dd>
	<dd>
返される時刻印は，単調増加する値であり、［［
`axes$m／`buttons$m
］~dataが~hardwareから更新されたかどうか
］を決定することを作者に許容する。
値は［
`PerformanceTiming$I ~interfaceの `navigationStart$m 属性
］†
に相対的になるモノトスル。
値は単調増加する
— すなわち、より新しい値は常に，より旧い値~以上になる —
ので，比較すれば各~更新の順序を決定できる。
~hardwareから受取った~dataは無い場合、この属性は， `navigationStart^m に相対的な［
`Gamepad$I ~objが最初に~scriptに可用にされた時刻
］を返すベキである。
◎
Timestamp is a monotonically increasing value that allows the author to determine if the axes and button data have been updated from the hardware. The value must be relative to the navigationStart attribute of the PerformanceTiming interface. Since values are monotonically increasing they can be compared to determine the ordering of updates, as newer values will always be greater than or equal to older values. If no data has been received from the hardware, the value of the timestamp attribute should be the time relative to navigationStart when the Gamepad object was first made available to script.
</dd>
	<dd class="trans-note">【†
`PerformanceTiming^I は廃用にされているので、この定義は理想的ではない。
代わる記述としては、
“此れに`関連な大域~obj$の`時刻~起点$”
が挙げられる。
】</dd>

	<dt>`mapping@m</dt>
	<dd>
この装置~用に利用-中の~layout対応付けを指示する。
◎
The mapping in use for this device.＼
</dd>
	<dd>
~UAは，装置の~layoutについて知識がある場合は、既知な対応付け名を返すようにして，その対応付けが利用-中にあることを指示するベキである。
現時点で既知な対応付けは、`標準~gamepad~layout$に対応する `standard$l の他にない。
~UAは、［
装置~layoutについて知識がなく，単純に利用-中にある~driverが表現する~controlをそのまま供している場合
］には，空~文字列を返すモノトスル。
◎
If the user agent has knowledge of the layout of the device, then it SHOULD indicate that a mapping is in use by setting this property to a known mapping name. Currently the only known mapping is "standard", which corresponds to the Standard Gamepad layout. If the user agent does not have knowledge of the device layout and is simply providing the controls as represented by the driver in use, then it MUST set the mapping property to the empty string.
</dd>

	<dt>`axes@m</dt>
	<dd>
この~gamepadを成す すべての軸の値たちからなる配列を返す。
◎
Array of values for all axes of the gamepad.＼
</dd>
	<dd>
すべての軸~値は［
−1.0 以上 1.0 以下
］の範囲に線形に正規化するモノトスル。
【！何に対し線形になるかは、述べられていない。】
~controllerの方向-~stickは天を指しているならば、
−1.0 は［
“前方” ／ “左方”
］に対応し，
1.0 は［
“後方” ／ “右方”
］に対応するベキである。
◎
All axis values MUST be linearly normalized to the range [-1.0 .. 1.0].＼
If the controller is perpendicular to the ground with the directional stick pointing up, -1.0 SHOULD correspond to "forward" or "left", and 1.0 SHOULD correspond to "backward" or "right".＼
</dd>
	<dd>
~2D入力~装置から取り出される軸は、配列~内で［
~X軸, ~Y軸
］の順に，交互に現れるベキである。
軸たちは、重要度の高いものから順に
— 概して，［
0 番, 1 番
］の要素が順に，方向-~stickの［
~X軸, ~Y軸
］を表現するように —
現れることが推奨される。
◎
Axes that are drawn from a 2D input device SHOULD appear next to each other in the axes array, X then Y. It is RECOMMENDED that axes appear in decreasing order of importance, such that element 0 and 1 typically represent the X and Y axis of a directional stick.＼
</dd>
	<dd>
この属性は、異なる値たちを返す（あるいは値たちを異なる順序にする）必要があるときまで，同じ~objを返すモノトスル。
◎
The same object MUST be returned until the user agent needs to return different values (or values in a different order).
</dd>

	<dt>`buttons@m</dt>
	<dd>
この~gamepadを成す すべての~buttonの状態からなる配列を返す。
◎
Array of button states for all buttons of the gamepad.＼
</dd>
	<dd>
各~buttonは、重要度の高いものから順に現れる
— ［
第一~button, 第二~button, 第三~button, 等々
］が配列~内で［
0, 1, 2, …
］番の要素として現れる —
ことが推奨される。
◎
It is RECOMMENDED that buttons appear in decreasing importance such that the primary button, secondary button, tertiary button, and so on appear as elements 0, 1, 2, ... in the buttons array.＼
</dd>
	<dd>
この属性は、異なる値たちを返す（あるいは値たちを異なる順序にする）必要があるときまで，同じ~objを返すモノトスル。
◎
The same object MUST be returned until the user agent needs to return different values (or values in a different order).
</dd>
</dl>

	</section>
	<section id="gamepadbutton-interface">
<h2 title="GamepadButton Interface">5. `GamepadButton^I ~interface</h2>

<p>
この~interfaceは、~gamepad装置~上の個々の~buttonの状態を定義する。
◎
This interface defines the state of an individual button on a gamepad device.
</p>

<pre class="idl">
[`Exposed$=Window]
interface `GamepadButton@I {
  readonly attribute `boolean$ `pressed$m;
  readonly attribute `boolean$ `touched$m;
  readonly attribute `double$ `value$m;
};
</pre>

<dl class="idl-def">
	<dt>`pressed@m</dt>
	<dd>
~buttonが押されたかどうかの状態を指示する。
◎
The pressed state of the button.＼
</dd>
	<dd>
取得子は、~buttonが現在~押されて［
いるならば~T／
いないならば ~F
］を返すモノトスル。
◎
This property MUST be true if the button is currently pressed, and false if it is not pressed.＼
</dd>
	<dd>
［
純粋に，押されたか放されたかの状態を指示する~digital~switch
］を備えない~button用には、~UAは［
~buttonの値が一定量を上回るとき押されたものと指示するような，閾~値
］を選ぶモノトスル。
~UAは、~platform~APIから閾~値として推奨される値が与えられて［
いるならば それを利用する／
いないならば 他の何らかの適度な値を選ぶ
］ベキである。
◎
For buttons which do not have a digital switch to indicate a pure pressed or released state, the user agent MUST choose a threshold value to indicate the button as pressed when its value is above a certain amount. If the platform API gives a recommended value, the user agent SHOULD use that. In other cases, the user agent SHOULD choose some other reasonable value.
</dd>

	<dt>`touched@m</dt>
	<dd>
<p>
~buttonが~touchされた状態を指示する。
取得子は、次を走らすモノトスル：
◎
The touched state of the button.＼
</p>
		<ol>
			<li>
~IF［
当の~buttonには~touchを検出する能力はある
］
⇒
~RET 当の~buttonは現在~touchされて［
いるならば ~T
いないならば ~F 
］
◎
If the button is capable of detecting touch, this property MUST be true if the button is currently being touched, and false otherwise.＼
</li>
			<li>
~IF［
当の~buttonには~analog値を報告する能力はある
］
⇒
~RET 此れの `value$m が返す値に応じて
⇒＃
0 でないならば ~T ／
0 ならば ~F
◎
If the button is not capable of detecting touch and is capable of reporting an analog value, this property MUST be true if the value property is greater than 0, and false if the value is 0.＼
</li>
			<li>
~RET 此れの `pressed$m 属性が返す値
◎
If the button is not capable of detecting touch and can only report a digital value, this property MUST mirror the pressed attribute.
</li>
		</ol>
	</dd>

	<dt>`value@m</dt>
	<dd>
~buttonが~analog~sensorを備える場合、押されている量【押圧など】を表現するモノトスル。
~button値は［
0.0 以上, 1.0 以下
］に線形に正規化し，［
0.0 ／ 1.0
］は全部的に［
押されていない／押されている
］ことを意味するモノトスル。
◎
For buttons that have an analog sensor, this property MUST represent the amount which the button has been pressed. All button values MUST be linearly normalized to the range [0.0 .. 1.0]. 0.0 MUST mean fully unpressed, and 1.0 MUST mean fully pressed.＼
</dd>
	<dd>
~buttonが~analog~sensorを備えない場合、押されているかどうかに応じて，値［
0.0 ／ 1.0
］のみを供するモノトスル。
◎
For buttons without an analog sensor, only the values 0.0 and 1.0 for fully unpressed and fully pressed respectively, MUST be provided.
</dd>
</dl>

	</section>
	<section id="gamepadmappingtype-enum">
<h2 title="GamepadMappingType enum">6. `GamepadMappingType^I 列挙</h2>

<p>
この列挙は、~Gamepad用の既知な対応付けからなる集合を定義する。
◎
This enum defines the set of known mappings for a Gamepad.
</p>

<pre class="idl">
enum `GamepadMappingType@I {
  "",
  `standard$l
};
</pre>

<dl class="idl-def">
	<dt id="dom-gamepadmappingtype-the-empty-string">""</dt>
	<dd>
空~文字列は、この~gamepad用に利用-中にある対応付けは無いことを指示する。
◎
The empty string indicates that no mapping is in use for this gamepad.
</dd>

	<dt>`standard@l</dt>
	<dd>
~gamepadを成す各~controlは、`標準~gamepad~layout$に対応付けられている。
◎
The Gamepad's controls have been mapped to the Standard Gamepad layout.
</dd>
</dl>

	</section>
	<section id="navigator-interface-extension">
<h2 title="Navigator Interface extension">7. `Navigator^I ~interfaceに対する拡張</h2>

<p>
この部分的~interfaceは、
`Navigator$I ~interfaceに対する拡張を定義する。
◎
This partial interface defines an extension to the Navigator interface.
</p>

<pre class="idl">
[`Exposed$=Window]
partial interface `Navigator$I {
  `sequence$&lt;`Gamepad$I?&gt; `getGamepads$m();
};
</pre>

<dl class="idl-def">
	<dt>`getGamepads()@m</dt>
	<dd>
現在［
接続されていて，ヤリトリしている~gamepad
］用の~dataの~snapshotを検索取得する。
◎
Retrieve a snapshot of the data for the the currently connected and interacted-with gamepads.＼
</dd>
	<dd>
<p>
返される配列は、次を満たす~listを表現するモノトスル：
</p>
		<ul>
			<li>
<p>
［
0 個以上の ~NULL
］および［
次を満たす `Gamepad$I ~objすべて
］からなる
⇒
［
現在の~pageから可視である
］~AND［
現在，~UAに接続されている
］~AND［
利用者がヤリトリしている
］
</p>

<p>
利用者がヤリトリしていない装置は、悪意的な~pageによる利用者の指紋収集を避けるため，~list内には現れない。
【~eventの挙動との整合性の観点から言い換えるなら、 `gamepadconnected$et が発火され, 対応する `gamepaddisconnected$et は発火されていない装置のみが現れることになるであろう。】
</p>
			</li>
			<li>
~listの~size ~MINUS 1 ~EQ ［
前項を満たす `Gamepad$I ~objの `index$m が返す値
］のうち，最大
</li>
			<li>
~listの %~index 番の~itemは `Gamepad$I ~objであるならば、その `index$m が返す値 ~EQ %~index
</li>
			<li>
~listの %~index 番の~item ~EQ ~NULL ならば，その~indexに対応する~gamepadは接続されていない【接続されていたが切断された】ことを指示するベキである。
</li>
		</ul>
◎
Gamepads MUST only appear in the list if they are currently connected to the user agent, and at least one device has been interacted with by the user. If no devices have been interacted with, devices MUST NOT appear in the list to avoid a malicious page from fingerprinting the user. The length of the array returned MUST be one more than the maximum index value of the Gamepad objects returned in the array. The entries in the array MUST be the set of Gamepad objects that are visible to the current page, with each Gamepad present at the index in the array specified by its index attribute. Array indices for which there is no connected Gamepad with the corresponding index should return null.
</dd>
	<dd>
この~methodが返す~gamepad状態は、［
`gamepaddisconnected$et ／ `gamepadconnected$et
］~eventが発火されるまで，切断か接続かを反映しない。
◎
The gamepad state returned from getGamepads() does not reflect disconnection or connection until after the gamepaddisconnected or gamepadconnected events have fired.
</dd>
	<dd class="example" id="example-1">
<p>
例~として、接続された~gamepadが 1 個あって，~index 1 を伴う場合、次の~code片は期待される挙動を述べる：
◎
As an example, if there is one connected gamepad with an index of 1, then the following code snippet describes the expected behavior:
◎
Example 1
</p>

<pre class="lang-js">
/* <span class="comment">
%gamepads は `[null, [object Gamepad]]^c の様になるベキである。
◎
gamepads should look like [null, [object Gamepad]]
</span> */
var %gamepads = navigator.getGamepads();
/* <span class="comment">
次のどの言明も， ~T に評価されるべきである：
◎
The following statements should all evaluate to true.
</span> */
%gamepads[0] == null;
%gamepads[1].index == 1;
%gamepads.length == 2;
</pre>

	</dd>
</dl>

	</section>
	<section id="gamepadevent-interface">
<h2 title="GamepadEvent Interface">8. `GamepadEvent^I ~interface</h2>

<pre class="idl">
[`Exposed$=Window]
interface `GamepadEvent@I: `Event$I {
  constructor(`DOMString$ %type, `GamepadEventInit$I %eventInitDict);
  [`SameObject$] readonly attribute `Gamepad$I `gamepad$m;
};
</pre>

<dl class="idl-def">
	<dt>`gamepad@m</dt>
	<dd>
この~event用に結付けらている~gamepad~dataへの~accessを供する。
◎
The single gamepad attribute provides access to the associated gamepad data for this event.
</dd>
</dl>

			<section id="gamepadeventinit-dictionary">
<h3 title="GamepadEventInit dictionary">8.1. `GamepadEventInit^I 辞書</h3>

<pre class="idl">
dictionary `GamepadEventInit$I : `EventInit$I {
  required `Gamepad$I `gamepad$mb;
};
</pre>

<dl class="idl-def">
	<dt>`gamepad@mb</dt>
	<dd>
この~memberは、当の~eventに結付けられている~gamepadを与える。
◎
The gamepad associated with this event.
</dd>
</dl>

		</section>
	</section>
	<section id="remapping">
<h2 title="Remapping">9. 対応付直法</h2>

<p>
各~装置の製造元は、多くの異なる製品を作成し，そのそれぞれが~~固有の［
~button ／ 軸
］~style, ~layoutを備える。
［
~UAは、これらのうち，アリな限り多くを~supportする
］ことが意図される。
◎
Each device manufacturer creates many different products and each has unique styles and layouts of buttons and axes. It is intended that the user agent support as many of these as possible.
</p>

<p>
加えて，~game~consoleにより~~普及し，`事実上の標準^emになった~layoutがある。
~UAは、装着された装置を認識するときは，［
アリなときは，正準的な順序付けへ対応付直す ／
認識できない装置であっても，生の形で公開する
］ことが推奨される。
◎
Additionally there are de facto standard layouts that have been made popular by game consoles. When the user agent recognizes the attached device, it is RECOMMENDED that it be remapped to a canonical ordering when possible. Devices that are not recognized should still be exposed in their raw form.
</p>

<p>
正準的な装置としては、現時点では
`標準~gamepad@
（ `Standard Gamepad^en ）
1 つしかない。
標準~gamepadには 4 本の軸があり， 17 個までの~buttonがある。
対応付直すときは、
`Gamepad$I の［
`axes$m,
`buttons$m
］が返す配列の各~indexは、下に与える図式における物理的な所在にアリな限り近く対応するベキである。
加えて、 `mapping$m ~propは，文字列 `standard$l に設定するベキである。
◎
There is currently one canonical device, the "Standard Gamepad". The standard gamepad has 4 axes, and up to 17 buttons. When remapping, the indices in axes[] and buttons[] should correspond as closely as possible to the physical locations in the diagram below. Additionally, the mapping property of the Gamepad SHOULD be set to the string "standard".
</p>

<p>
`標準~gamepad$を成す各~buttonの物理的な所在は、次に挙げるものに~lay-outされる：
◎
The "Standard Gamepad" physical button locations are layed out in＼
</p>
<ul>
	<li>
左~clusterを成す 4 個の~button
◎
a left cluster of four buttons,＼
</li>
	<li>
右~clusterを成す 4 個の~button
◎
a right cluster of four buttons,＼
</li>
	<li>
中央~clusterを成す 3 個の~button
◎
a center cluster of three buttons,＼
</li>
	<li>
~gamepadの~~前方に面した【利用者から見て奥側】, 左右各側に 2 個ずつある~button
◎
and a pair of front facing buttons on the left and right side of the gamepad.＼
</li>
</ul>

<p>
“標準~gamepad” を成す 4 個の軸は、
左右各側にある~analog~stickに 2 軸ずつ結付けられる。
◎
The four axes of the "Standard Gamepad" are associated with a pair of analog sticks, one on the left and one on the right.＼
</p>

<p>
各［
~button ／ 軸
］および それぞれの物理的な所在を，次の表に述べる：
◎
The following table describes the buttons/axes and their physical locations.
</p>

<div>
<table><thead><tr><th>~button／軸
<th>所在
</thead><tbody>

<tr><td>`buttons[0]^c
<td>右~cluster内の下~button

<tr><td>`buttons[1]^c
<td>右~cluster内の右~button

<tr><td>`buttons[2]^c
<td>右~cluster内の左~button

<tr><td>`buttons[3]^c
<td>右~cluster内の上~button

<tr><td>`buttons[4]^c
<td>前面~左上~button

<tr><td>`buttons[5]^c
<td>前面~右上~button

<tr><td>`buttons[6]^c
<td>前面~左下~button

<tr><td>`buttons[7]^c
<td>前面~右下~button

<tr><td>`buttons[8]^c
<td>中央~cluster内の左~button（ “select” ／ “back” ）

<tr><td>`buttons[9]^c
<td>中央~cluster内の右~button（ “start” ／ “forward” ）

<tr><td>`buttons[10]^c
<td>左~stickに一体化された~button

<tr><td>`buttons[11]^c
<td>右~stickに一体化された~button

<tr><td>`buttons[12]^c
<td>左~cluster内の上~button

<tr><td>`buttons[13]^c
<td>左~cluster内の下~button

<tr><td>`buttons[14]^c
<td>左~cluster内の左~button

<tr><td>`buttons[15]^c
<td>左~cluster内の右~button

<tr><td>`buttons[16]^c
<td>中央~cluster内の中央~button

<tr><td>`axes[0]^c
<td>左~stick用の水平-軸（左側は負／右側は正）

<tr><td>`axes[1]^c
<td>左~stick用の垂直-軸（上側は負／下側は正）

<tr><td>`axes[2]^c
<td>右~stick用の水平-軸（左側は負／右側は正）

<tr><td>`axes[3]^c
<td>右~stick用の垂直-軸（上側は負／下側は正）

</tbody></table>

◎
buttons[0] 	Bottom button in right cluster
buttons[1] 	Right button in right cluster
buttons[2] 	Left button in right cluster
buttons[3] 	Top button in right cluster
buttons[4] 	Top left front button
buttons[5] 	Top right front button
buttons[6] 	Bottom left front button
buttons[7] 	Bottom right front button
buttons[8] 	Left button in center cluster
buttons[9] 	Right button in center cluster
buttons[10] 	Left stick pressed button
buttons[11] 	Right stick pressed button
buttons[12] 	Top button in left cluster
buttons[13] 	Bottom button in left cluster
buttons[14] 	Left button in left cluster
buttons[15] 	Right button in left cluster
buttons[16] 	Center button in center cluster
axes[0] 	Horizontal axis for left stick (negative left/positive right)
axes[1] 	Vertical axis for left stick (negative up/positive down)
axes[2] 	Horizontal axis for right stick (negative left/positive right)
axes[3] 	Vertical axis for right stick (negative up/positive down) 
</div>

<figure id="fig-visual-representation-of-a-standard-gamepad-layout">
`standard_gamepad^dgm
<figcaption>
標準な~gamepad~layoutの視覚的な表現。
角括弧付き数字は、~button~index。
丸囲み数字は、軸~index
— 黒塗り（白抜き）は負側／その逆塗りは正側。
◎
Figure 1
Visual representation of a standard gamepad layout.
</figcaption></figure>

	</section>
	<section class="informative" id="usage-examples">
<h2 title="Usage Examples">10. 用法~例</h2>

~INFORMATIVE

<div class="example" id="example-2">

<p>
代表的な~gamepadへの~accessを，次の例にデモる。
`requestAnimationFrame()$m ~methodとの関係性に注意。
◎
The example below demonstrates typical access to gamepads. Note the relationship with the requestAnimationFrame() method.
◎
Example 2
</p>

<pre class="lang-js">
function %runAnimation() {
    window.requestAnimationFrame(%runAnimation);
    for (const %pad of navigator.getGamepads()) {
      /* <span class="issue comment">
%pad`.axes^c, %pad`.buttons^c を表示する単純なデモをここに記す
◎
todo; simple demo of displaying pad.axes and pad.buttons
</span> */
      console.log(%pad);
    }
}

window.requestAnimationFrame(%runAnimation);
</pre>

</div>

<div class="practice advisement" id="practice-timing">
<p>
最善な実施：
`requestAnimationFrame()^m との協調
◎
Best Practice 1： Coordination with requestAnimationFrame()
</p>
<p class="practicedesc">
`requestAnimationFrame()$m ~methodを利用している対話的な~appは、概して，~animationを駆動して，~animationを利用者の~gamepad入力と協調したいと求めることになる。
そのようなわけで，~gamepad~dataは、アリな限り~animation~callbackが実行される直前近くに~pollして，~animationの更新周期に合致させるベキである。
すなわち、~animation~callbackが 60Hz で稼働しているなら、~gamepad入力も，その~rateで標本化されるベキである。
◎
Interactive applications will typically be using the requestAnimationFrame() method to drive animation, and will want coordinate animation with user gamepad input. As such, the gamepad data should be polled as closely as possible to immediately before the animation callbacks are executed, and with frequency matching that of the animation. That is, if the animation callbacks are running at 60Hz, the gamepad inputs should also be sampled at that rate.
</p>
</div>

	</section>
	<section id="the-gamepadconnected-event">
<h2 id="event-gamepadconnected" title="The gamepadconnected event">11. `gamepadconnected^et ~event</h2>

<p>
この仕様を実装している~UAは、名前
`gamepadconnected@et
の新たな~DOM~eventを供するモノトスル。
対応する~eventは，
`GamepadEvent$I ~interfaceを利用し，
`Window$I ~objに向けて発火するモノトスル。
`gamepadconnected^et ~event発火~用の登録は、~DOM~eventの通例の挙動に従うモノトスル。
`DOM$r
◎
User agents implementing this specification must provide a new DOM event, named gamepadconnected. The corresponding event MUST be of type GamepadEvent and MUST fire on the window object. Registration for and firing of the gamepadconnected event MUST follow the usual behavior of DOM Events. [DOM]
</p>

<p>
~UAは，利用者が~gamepadを接続したとき、
`gamepadconnected$et ~eventを配送して，それを指示するモノトスル。
~pageが読込まれた時点で，~gamepadはすでに接続されていた場合、利用者が~buttonを押すか軸を動かしたとき，この~eventを配送するベキである。
◎
A user agent MUST dispatch this event type to indicate the user has connected a gamepad. If a gamepad was already connected when the page was loaded, the gamepadconnected event SHOULD be dispatched when the user presses a button or moves an axis.
</p>

		</section>
		<section id="the-gamepaddisconnected-event">
<h2 id="event-gamepaddisconnected" title="The gamepaddisconnected event">12. `gamepaddisconnected^et ~event</h2>

<p>
この仕様を実装している~UAは、名前
`gamepaddisconnected@et
の新たな~DOM~eventを供するモノトスル。
対応する~eventは，
`GamepadEvent$I ~interfaceを利用し，
`Window$I ~objに向けて発火するモノトスル。
`gamepaddisconnected^et ~event発火~用の登録は、~DOM~eventの通例の挙動に従うモノトスル。
`DOM$r
◎
User agents implementing this specification must provide a new DOM event, named gamepaddisconnected. The corresponding event MUST be of type GamepadEvent and MUST fire on the window object. Registration for and firing of the gamepaddisconnected event MUST follow the usual behavior of DOM Events. [DOM]
</p>

<p>
~UAは，利用者が~gamepadを切断したときは、［
その~gamepad用の `gamepadconnected$et ~eventを，~windowに向けて以前に配送していた
］ならば，同じ~windowに向けて `gamepaddisconnected$et ~eventを配送するモノトスル。
◎
When a gamepad is disconnected from the user agent, if the user agent has previously dispatched a gamepadconnected event for that gamepad to a window, a gamepaddisconnected event MUST be dispatched to that same window.
</p>
	</section>
	<section id="other-events">
<h2 title="Other events">13. 他の~event</h2>

<p>
軸や~buttonの変化-用の~eventも含めるかどうか，もっと論が必要である。
含める場合、それらを一緒に転がすか（ `gamepadchanged^et ？），または［
多少，あるいは［
軸／~button
］ごとに個別に
］分離するか（ `gamepadaxischanged^et ？）についても。
◎
More discussion needed, on whether to include or exclude axis and button changed events, and whether to roll them more together (gamepadchanged?), separate somewhat (gamepadaxischanged?), or separate by individual axis and button.
</p>

	</section>

【！14. Conformance id="conformance"】

	<section id="a-acknowledgements">
<h2 title="A. Acknowledgements">謝辞</h2>

~INFORMATIVE

<p>
~code, ~comment, 文書化に貢献された次の方々に：
</p>

<div lang="en-x-a0">
Many have made contributions in code, comments, or documentation:
David Humphrey,
Gregg Tavares,
Marcin Wichary,
Jason Orendorff,
Olli Pettay,
Rick Waldron,
Please let me know if I have inadvertently omitted your name.
</div>

	</section>
</main></div>
