<!DOCTYPE html>
<html lang="ja">
<head>





	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title title="Text">テキスト – SVG 1.1 （第２版）</title>
	<link rel="stylesheet" type="text/css" media="screen" href="style/svg-style.css">
	<link rel="stylesheet" href="style/W3C-REC.css">
</head><body>

<div class="header top">
<a href="index.html#minitoc">目次</a> ⋅
<a href="expanded-toc.html">詳細目次</a> ⋅
<a href="shapes.html">前章</a> ⋅
<a href="painting.html">次章</a> ⋅
<a href="eltindex.html">要素</a> ⋅
<a href="attindex.html">属性</a> ⋅
<a href="propidx.html">プロパティ</a>
</div>

<h1 title="10 Text">10 テキスト</h1>

<h2 title="Contents" id="toc">目次</h2>


<ul class="toc">
<li><a title="10.1 Introduction" href="text.html#Introduction">
10.1 概要</a></li>
<li><a title="10.2 Characters and their corresponding glyphs" href="text.html#CharactersAndGlyphs">
10.2 文字とグリフの対応</a></li>
<li><a title="10.3 Fonts, font tables and baselines" href="text.html#FontsTablesBaselines">
10.3 フォント, フォントテーブル, 基底線</a></li>
<li><a title="10.4 The ‘text’ element" href="text.html#TextElement">
10.4 <span class="element-name">text</span> 要素</a></li>
<li><a title="10.5 The ‘tspan’ element" href="text.html#TSpanElement">
10.5 <span class="element-name">tspan</span> 要素</a></li>
<li><a title="10.6 The ‘tref’ element" href="text.html#TRefElement">
10.6 <span class="element-name">tref</span> 要素</a></li>
<li><a title="10.7 Text layout" href="text.html#TextLayout">
10.7 テキスト配置</a>
<ul class="toc">
<li><a title="10.7.1 Text layout introduction" href="text.html#TextLayoutIntroduction">
10.7.1 テキスト配置の概要</a></li>
<li><a title="10.7.2 Setting the inline-progression-direction" href="text.html#SettingInlineProgressionDirection">
10.7.2 行内進行方向の設定</a></li>
<li><a title="10.7.3 Glyph orientation within a text run" href="text.html#GlyphOrientation">
10.7.3 行内グリフ方位</a></li>
<li><a title="10.7.4 Relationship with bidirectionality" href="text.html#RelationshipWithBiDirectionality">
10.7.4 双方向性との関係</a></li>
</ul></li>
<li><a title="10.8 Text rendering order" href="text.html#TextRenderingOrder">
10.8 テキストの描画順序</a></li>
<li><a title="10.9 Alignment properties" href="text.html#AlignmentProperties">
10.9 整列プロパティ</a>
<ul class="toc">
<li><a title="10.9.1 Text alignment properties" href="text.html#TextAlignmentProperties">
10.9.1 テキスト整列プロパティ</a></li>
<li><a title="10.9.2 Baseline alignment properties" href="text.html#BaselineAlignmentProperties">
10.9.2 基底線整列プロパティ</a></li>
</ul></li>
<li><a title="10.10 Font selection properties" href="text.html#FontPropertiesUsedBySVG">
10.10 フォント選択プロパティ</a></li>
<li><a title="10.11 Spacing properties" href="text.html#SpacingProperties">
10.11 間隔調整プロパティ</a></li>
<li><a title="10.12 Text decoration" href="text.html#TextDecorationProperties">
10.12 テキスト装飾</a></li>
<li><a title="10.13 Text on a path" href="text.html#TextOnAPath">
10.13 パス上のテキスト</a>
<ul class="toc">
<li><a title="10.13.1 Introduction to text on a path" href="text.html#TextOnAPathIntroduction">
10.13.1 パス上のテキストの概要</a></li>
<li><a title="10.13.2 The ‘textPath’ element" href="text.html#TextPathElement">
10.13.2 <span class="element-name">textPath</span> 要素</a></li>
<li><a title="10.13.3 Text on a path layout rules" href="text.html#TextpathLayoutRules">
10.13.3 パス上のテキストの配置規則</a></li>
</ul></li>
<li><a title="10.14 Alternate glyphs" href="text.html#AlternateGlyphs">
10.14 代替グリフ</a>
<ul class="toc">
<li><a title="10.14.1 The ‘altGlyph’ element" href="text.html#AltGlyphElement">
10.14.1 <span class="element-name">altGlyph</span> 要素</a></li>
<li><a title="10.14.2 The ‘altGlyphDef’, ‘altGlyphItem’ and ‘glyphRef’ elements" href="text.html#AlternateGlyphDefinitions">
10.14.2 <span class="element-name">altGlyphDef</span>, <span class="element-name">altGlyphItem</span>, <span class="element-name">glyphRef</span> 要素</a></li>
</ul></li>
<li><a title="10.15 White space handling" href="text.html#WhiteSpace">
10.15 空白の処理</a></li>
<li><a title="10.16 Text selection and clipboard operations" href="text.html#TextSelection">
10.16 テキスト選択とクリップボード処理</a></li>
<li><a title="10.17 DOM interfaces" href="text.html#DOMInterfaces">
10.17 DOM インタフェース</a>
<ul class="toc">
<li><a title="10.17.1 Interface SVGTextContentElement" href="text.html#InterfaceSVGTextContentElement">
10.17.1 インタフェース SVGTextContentElement</a></li>
<li><a title="10.17.2 Interface SVGTextPositioningElement" href="text.html#InterfaceSVGTextPositioningElement">
10.17.2 インタフェース SVGTextPositioningElement</a></li>
<li><a title="10.17.3 Interface SVGTextElement" href="text.html#InterfaceSVGTextElement">
10.17.3 インタフェース SVGTextElement</a></li>
<li><a title="10.17.4 Interface SVGTSpanElement" href="text.html#InterfaceSVGTSpanElement">
10.17.4 インタフェース SVGTSpanElement</a></li>
<li><a title="10.17.5 Interface SVGTRefElement" href="text.html#InterfaceSVGTRefElement">
10.17.5 インタフェース SVGTRefElement</a></li>
<li><a title="10.17.6 Interface SVGTextPathElement" href="text.html#InterfaceSVGTextPathElement">
10.17.6 インタフェース SVGTextPathElement</a></li>
<li><a title="10.17.7 Interface SVGAltGlyphElement" href="text.html#InterfaceSVGAltGlyphElement">
10.17.7 インタフェース SVGAltGlyphElement</a></li>
<li><a title="10.17.8 Interface SVGAltGlyphDefElement" href="text.html#InterfaceSVGAltGlyphDefElement">
10.17.8 インタフェース SVGAltGlyphDefElement</a></li>
<li><a title="10.17.9 Interface SVGAltGlyphItemElement" href="text.html#InterfaceSVGAltGlyphItemElement">
10.17.9 インタフェース SVGAltGlyphItemElement</a></li>
<li><a title="10.17.10 Interface SVGGlyphRefElement" href="text.html#InterfaceSVGGlyphRefElement">
10.17.10 インタフェース SVGGlyphRefElement</a></li></ul></li>
</ul>


<h2 title="10.1 Introduction" id="Introduction">10.1 概要</h2>

<p class="T">
SVG 文書片の一部として描画されるテキストは
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素で指定する。
描く文字は
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素内に
<a href="http://www.w3.org/TR/2008/REC-xml-20081126/#syntax">XML 文字データ</a>
([<a href="refs.html#ref-XML10">XML10</a>], 2.4 節)
として記述する。
<span lang="en">
Text that is to be rendered as part of an SVG document fragment is specified using the ‘text’ element. The characters to be drawn are expressed as XML character data ([XML10], section 2.4) inside the ‘text’ element.
</span></p>

<p class="T">
SVG の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素は 他のグラフィックス要素と同じように描画される。
すなわち、
<a href="coords.html">座標系変換</a>,
<a href="painting.html">塗り</a>,
<a href="masking.html">クリッピング</a>,
<a href="masking.html">マスキング</a>
の特能は
<a href="paths.html">パス</a>
や
<a href="shapes.html#RectElement">矩形</a>
などの
<a href="intro.html#TermShape">図形</a>
に対する適用と同じように
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素にも適用される。
<span lang="en">
SVG's ‘text’ elements are rendered like other graphics elements. Thus, coordinate system transformations, painting, clipping and masking features apply to ‘text’ elements in the same way as they apply to shapes such as paths and rectangles.
</span></p>

<p class="T">
各
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素ごとに１個の文字列が描画される。
SVG は自動改行やワードラップをしない。
複数行に渡るテキストを得るには次のいずれかの方法を用いる：
<span lang="en">
Each ‘text’ element causes a single string of text to be rendered. SVG performs no automatic line breaking or word wrapping. To achieve the effect of multiple lines of text, use one of the following methods:
</span></p>


<ul>

<li class="T">
文書作成者または文書作成ツールは、改行をあらかじめ計算に入れて，複数の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素を用いる（１行ごとに１個ずつ）。
<span lang="en">
The author or authoring package needs to pre-compute the line breaks and use multiple ‘text’ elements (one for each line of text).
</span></li>

<li class="T">
文書作成者または文書作成ツールは、改行をあらかじめ計算に入れて，１個の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素に１個以上の
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
子要素を持たせ、各行ごとに新たな開始位置を設定するために，
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>,
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
属性に適切な値を指定する。
（この方法は利用者が一度に複数行のテキストを選択することを可能にする。
<a href="text.html#TextSelection">テキスト選択とクリップボード処理</a>
を見よ）
<span lang="en">
The author or authoring package needs to pre-compute the line breaks and use a single ‘text’ element with one or more ‘tspan’ child elements with appropriate values for attributes ‘x’, ‘y’, ‘dx’ and ‘dy’ to set new start positions for those characters which start new lines. (This approach allows user text selection across multiple lines of text -- see Text selection and clipboard operations.)
</span></li>

<li class="T">
テキストを
<a href="extend.html#ForeignObjectElement"><span class="element-name">foreignObject</span></a>
要素内にインラインに埋め込み、描画を XHTML
[<a href="refs.html#ref-XHTML">XHTML</a>]
などの他の XML の名前空間に任せる。
（注記：この方法の正確な意味論は現在のところ完全に定義されてはいない。）
<span lang="en">
Express the text to be rendered in another XML namespace such as XHTML [XHTML] embedded inline within a ‘foreignObject’ element. (Note: the exact semantics of this approach are not completely defined at this time.)
</span></li>
</ul>

<p class="T">
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素内のテキストは直線的にも, あるいは
<a href="paths.html#PathElement"><span class="element-name">path</span></a>
要素の外形線に沿うようにも描画させられる。
SVG は 直線上の，パス上のいずれのテキストにおいても、以下の多言語テキスト処理をサポートする：
<span lang="en">
The text strings within ‘text’ elements can be rendered in a straight line or rendered along the outline of a ‘path’ element. SVG supports the following international text processing features for both straight line text and text on a path:
</span></p>


<ul>

<li class="T">
横書と縦書のテキスト。
<span lang="en">
horizontal and vertical orientation of text
</span></li>

<li class="T">
左から右, または双方向のテキスト（すなわち，ヘブライ語やアラビア語など、左から右のテキストと右から左のテキストの両方が混在した言語）。
<span lang="en">
left-to-right or bidirectional text (i.e., languages which intermix right-to-left and left-to-right text, such as Arabic and Hebrew)
</span></li>

<li class="T">
<a href="fonts.html#SVGFonts">SVG フォント</a>
が利用されている場合には、
<a href="fonts.html#GlyphElementArabicFormAttribute">アラビア語</a>
や
<a href="fonts.html#GlyphElementLangAttribute">漢字</a>
（ Han ）テキストに対する文脈に応じた正しいグリフの自動的な選択。
<span class="transNote">【
Han text — 日本語では文脈に応じてグリフが変化することは通常考えにくいので、現代の中国語あるいは他のものを指すのかもしれない。
あるいは、縦書きと横書きでの句読点の位置の違いや，括弧類の向きの違いがグリフに反映することを指しているようにも思われる。
】</span>
<span lang="en">
when SVG fonts are used, automatic selection of the correct glyph corresponding to the current form for Arabic and Han text
</span></li>
</ul>

<p class="T">
（直線上のテキストに対する配置規則は
<a href="text.html#TextLayout">テキスト配置</a>
で述べる。
パス上のテキストに対する配置規則は
<a href="text.html#TextpathLayoutRules">パス上のテキストの配置規則</a>
で述べる。）
<span lang="en">
(The layout rules for straight line text are described in Text layout. The layout rules for text on a path are described in Text on a path layout rules.)
</span></p>

<p class="T">
SVG テキストは XML 文字データとしてまとめられているので：
<span lang="en">
Because SVG text is packaged as XML character data:
</span></p>


<ul>

<li class="T">
SVG 内容のテキストデータは視覚障害を持つ者にも容易にアクセスできる（
<a href="access.html">アクセシビリティのサポート</a>
を見よ）。
<span lang="en">
Text data in SVG content is readily accessible to the visually impaired (see Accessibility Support)
</span></li>

<li class="T">
多くの場面で、利用者はテキストの検索と選択，更には システムのクリップボードへのコピーも可能になる（
<a href="text.html#TextSelection">テキスト選択とクリップボード処理</a>
を見よ）
<span lang="en">
In many viewing scenarios, the user will be able to search for and select text strings and copy selected text strings to the system clipboard (see Text selection and clipboard operations)
</span></li>

<li class="T">
XML 互換ウェブ検索エンジンは、一般の XML 文書に必要とされる以上の労力をかけずに， SVG 内容の文字列を検索できるようになる。
<span lang="en">
XML-compatible Web search engines will find text strings in SVG content with no additional effort over what they need to do to find text strings in other XML documents
</span></li>
</ul>

<p class="T">
<a href="i18n.html#I18nTextSubstitution">利用者が選好する言語に基づいて異なる文字列に置き換える</a>
ことにより、多言語化された SVG 内容が可能になる。
<span lang="en">
Multi-language SVG content is possible by substituting different text strings based on the user's preferred language.
</span></p>

<p class="T">
アクセシビリティの理由から，文書に含まれるテキストには、その機能を指示する適切な意味論に基づくマークアップを施すことが推奨される（詳細は
<a href="access.html#SVGAccessibilityGuidelines">SVG アクセシビリティ指針</a>
を見よ）。
<span lang="en">
For accessibility reasons, it is recommended that text which is included in a document have appropriate semantic markup to indicate its function. See SVG accessibility guidelines for more information.
</span></p>


<h2 title="10.2 Characters and their corresponding glyphs" id="CharactersAndGlyphs">10.2 文字とグリフの対応</h2>

<p class="T">
XML
[<a href="http://www.w3.org/TR/2008/REC-xml-20081126/">XML10</a>]
においては，テキスト内容は、特定の Unicode 符号位置
[<a href="refs.html#ref-UNICODE">UNICODE</a>]
で定義される XML <span class="SVG-Term" title="character">文字</span> の並びにより 表現される。
一方，フォントは、<span class="SVG-Term" title="glyph">グリフ</span> とそれに関連する
<a href="text.html#FontsTablesBaselines">フォントテーブル</a>
などの情報から 構成される。
グリフは１個以上の文字（場合によっては文字の一部分）の可表示形式である。
各グリフは 一連の描画のための指示命令を伴う，ある種の識別子（文字列で表現されることもあり、数値で表現されることもある）から構成される。
<span lang="en">
In XML [XML10], textual content is defined in terms of a sequence of XML characters, where each character is defined by a particular Unicode code point [UNICODE]. Fonts, on the other hand, consist of a collection of glyphs and other associated information, such as font tables. A glyph is a presentable form of one or more characters (or a part of a character in some cases). Each glyph consists of some sort of identifier (in some cases a string, in other cases a number) along with drawing instructions for rendering that particular glyph.
</span></p>

<p class="T">
多くの場合、 Unicode 文字（すなわち Unicode 符号位置）とフォントのグリフとの間には１対１の関係がある。
例えば，ラテン系の言語（<em>ラテン</em> という語は英語などアルファベットがラテン語から派生しているような欧州の言語に用いられる）のためにデザインされたフォントが、標準 ASCII 文字（すなわち A から Z, a から z, 0 から 9, および ASCII に含まれる種々の句読点など）の各々に対応するグリフを持つことは一般的なことである。
したがって，大抵の場合、３つの Unicode 文字による文字列 "XML" は，それぞれ "X", "M", "L" に対応する，３つのグリフで描画される。
<span lang="en">
In many cases, there is a one-to-one mapping of Unicode characters (i.e., Unicode code points) to glyphs in a font. For example, it is common for a font designed for Latin languages (where the term Latin is used for European languages such as English with alphabets similar to and/or derivative to the Latin language) to contain a single glyph for each of the standard ASCII characters (i.e., A-to-Z, a-to-z, 0-to-9, plus the various punctuation characters found in ASCII). Thus, in most situations, the string "XML", which consists of three Unicode characters, would be rendered by the three glyphs corresponding to "X", "M" and "L", respectively.
</span></p>

<p class="T">
しかしながら，他の様々な状況下では、 Unicode 文字とグリフは厳密な１対１対応をしない。
そのような状況を幾つか挙げる：
<span lang="en">
In various other cases, however, there is not a strict one-to-one mapping of Unicode characters to glyphs. Some of the circumstances when the mapping is not one-to-one:
</span></p>

    <ul>

<li class="T">
リガチャ（ ligature ） — 印字を見栄え良くするために、特定の文字の並びに対し，単独のグリフで描画させることが望まれることはよくある。
一例として 単語 "office" がある。
多くのフォントは "ffi" に対応するグリフを定義している。
"office" が描画されるとき、 UA は "ffi" に対し，３文字それぞれに別々のグリフ（すなわち "f", "f", "i"）を使う代わりに， "ffi" に対応するグリフで描画することがある。
このように，リガチャにおいては、複数の Unicode 文字が１個のグリフに対応する。
（注記：一部の言語では、特定の文字の組合わせにリガチャを用いることが，正当な描画に要求されている。）
<span lang="en">
Ligatures - For best looking typesetting, it is often desirable that particular sequences of characters are rendered as a single glyph. An example is the word "office". Many fonts will define an "ffi" ligature. When the word "office" is rendered, sometimes the user agent will render the glyph for the "ffi" ligature instead of rendering distinct glyphs (i.e., "f", "f" and "i") for each of the three characters. Thus, for ligatures, multiple Unicode characters map to a single glyph. (Note that for proper rendering of some languages, ligatures are required for certain character combinations.)
</span></li>

<li class="T">
合字（ composite characters ） — 様々な状況下で、発音区別符のようなよく使われる装飾が，フォントの中に別個のグリフとして収められ、文字描画の際に，他の１個以上のグリフと合成して用いられることがある。
例えばフォントエンジンは，文字 <span class="code-fragment">é</span> に対し、文字 <span class="code-fragment">e</span>
のグリフを描画した後， <span class="code-fragment">´</span> （アクセント記号）のグリフが文字 <span class="code-fragment">e</span> の上に現れるように描画することがある。
この場合、１個の Unicode 文字が複数のグリフに対応する。
<span lang="en">
Composite characters - In various situations, commonly used adornments such as diacritical marks will be stored once in a font as a particular glyph and then composed with one or more other glyphs to result in the desired character. For example, it is possible that a font engine might render the é character by first rendering the glyph for e and then rendering the glyph for ´ (the accent mark) such that the accent mark will appear over the e. In this situation, a single Unicode character maps to multiple glyphs.
</span></li>

<li class="T">
グリフの置換 — 印刷システムによっては、テキスト内容の特徴が吟味され，その仔細に応じて異なったグリフが利用されることがある。
例えばアラビア語においては、１個の Unicode 文字に対し，それが筆記的に続けられた文字列の 始まりか, 終わりか, 途中か のどこに現れるかに応じて，４種の異なるグリフで描画される。
あるいは、行内進行方向（すなわち横書か縦書か）に依存して，同じ句読点に対し異なるグリフが用いられることがある。
このような場合、１個の Unicode 文字が いくつかのグリフからの選択として対応するであろう。
<span lang="en">
Glyph substitution - Some typography systems examine the nature of the textual content and utilize different glyphs in different circumstances. For example, in Arabic, the same Unicode character might render as any of four different glyphs, depending on such factors as whether the character appears at the start, the end or the middle of a sequence of cursively joined characters. Different glyphs might be used for a punctuation character depending on inline-progression-direction (e.g., horizontal vs. vertical). In these situations, a single Unicode character might map to one of several alternative glyphs.
</span></li>

<li class="T">
言語によっては、特定の文字並びにおいて，ある文字の一部が１個のグリフ, その残りが別のグリフに属するような形で，複数のグリフに対応する。
<span lang="en">
In some languages, particular sequences of characters will be converted into multiple glyphs such that parts of a particular character are in one glyph and the remainder of that character is in another glyph.
</span></li>

<li class="T">
代替グリフの指定 — SVG には、文書作成者が，特定の Unicode 文字の並びが 特定のグリフで描画されるように 明示的に指定するための仕組が用意されている（
<a href="text.html#AlternateGlyphs">代替グリフ</a>
を見よ）。
この仕組が利用される所では、複数の Unicode 文字が単独のグリフに対応する。
<span lang="en">
Alternative glyph specification - SVG contains a facility for the author to explicitly specify that a particular sequence of Unicode characters is to be rendered using a particular glyph. (See Alternate glyphs.) When this facility is used, multiple Unicode characters map to a single glyph.
</span></li>
</ul>

<p class="T">
多くの場合，文字からグリフへの対応アルゴリズムはシステムに依存しており、描画されるテキストは 利用者の環境に依存して（通常は少しだけ）異なる可能性がある。
SVG 文書作成者が正確なフォントとグリフの選択を必要とするならば、必要なフォントを（必要なら文書に必要なグリフのみを含むものに限定して）
<a href="fonts.html#SVGFonts">SVG フォント</a>
として SVG 内容に埋めこむか，あるいは SVG 内容と同じウェブ上に
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/fonts.html#q1">Webフォント</a>
([<a href="refs.html#ref-CSS2">CSS2</a>], 15.1 節)
として与えることが推奨される。
<span lang="en">
In many situations, the algorithms for mapping from characters to glyphs are system-dependent, resulting in the possibility that the rendering of text might be (usually slightly) different when viewed in different user environments. If the author of SVG content requires precise selection of fonts and glyphs, then the recommendation is that the necessary fonts (potentially subsetted to include only the glyphs needed for the given document) be available either as SVG fonts embedded within the SVG content or as WebFonts ([CSS2], section 15.1) posted at the same Web location as the SVG content.
</span></p>

<p class="T">
この章を通して、 <span class="SVG-Term" title="character">文字</span> とは XML
[<a href="http://www.w3.org/TR/2008/REC-xml-20081126/">XML10</a>]
で定義される文字を指すものとする。
<span lang="en">
Throughout this chapter, the term character shall be equivalent to the definition of a character in XML [XML10].
</span></p>


<h2 title="10.3 Fonts, font tables and baselines" id="FontsTablesBaselines">10.3 フォント, フォントテーブル, 基底線</h2>

<p class="T">
フォントは 一連のグリフと, それらを用いて何らかのメディアに文字を表示させるために必要な情報（１個以上のフォントテーブル）から構成される。
この一連のグリフとフォントテーブルの組は<em>フォントデータ</em>と呼ばれる。
フォントテーブルには、文字とグリフの対応付けや, グリフの表示域の大きさと位置を決めるために必要な情報が含まれる。
各フォントテーブルは、フォントウェイト（ font-weight ）やフォントスタイル（ font-style ）など，１個以上のフォント特性（ font characteristics ）から構成される。
<span lang="en">
A font consists of a collection of glyphs together with the information (the font tables) necessary to use those glyphs to present characters on some medium. The combination of the collection of glyphs and the font tables is called the font data. The font tables include the information necessary to map characters to glyphs, to determine the size of glyph areas and to position the glyph area. Each font table consists of one or more font characteristics, such as the font-weight and font-style.
</span></p>

<p class="T">
フォントの幾何的特徴はエム平方（ EM box ）に基づく座標系で表される。
（エムとはフォントのグリフの高さに相対的な量である — 
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/fonts.html#emsq">エム平方の座標単位</a>
([<a href="refs.html#ref-CSS2">CSS2</a>], 15.4.3 節)
参照。）
高さ１エム, 幅１エムの矩形は <em>デザイン空間</em>（ design space ）と呼ばれる。
この空間の座標は １エムを <em>units-per-em</em> （エムあたりの単位数）で細分したものにより 与えられる。
<span lang="en">
The geometric font characteristics are expressed in a coordinate system based on the EM box. (The EM is a relative measure of the height of the glyphs in the font; see Coordinate units on the em square; in [CSS2], section 15.4.3.) The box 1 EM high and 1 EM wide is called the design space. This space is given a geometric coordinates by sub-dividing the EM into a number of units per em.
</span></p>

<p class="T">
注記： units-per-em すなわち，１エムがデザイン単位でいくつになるかは、フォント特性の一つであり，通常は 1000 か 2048 の値をとる。
<span lang="en">
Note: Units per em is a font characteristic. A typical value for units per em is 1000 or 2048.
</span></p>

<p class="T">
エム平方の座標系は<em>デザイン空間座標系</em>と呼ばれている。
スケーラブルなフォントにおいては、グリフを描くための直線や曲線はこの座標系で表現される。
<span lang="en">
The coordinate space of the EM box is called the design space coordinate system. For scalable fonts, the curves and lines that are used to draw a glyph are represented using this coordinate system.
</span></p>

<p class="T">
注記：大抵の場合、この座標系の点 (0,0) はエム平方の左端に位置しており，左下隅ではない。
通常、ローマ大文字の下端の Y 座標は 0 であり, ローマ小文字のディセンダは負の座標値をとる。
<span lang="en">
Note: Most often, the (0,0) point in this coordinate system is positioned on the left edge of the EM box, but not at the bottom left corner. The Y coordinate of the bottom of a roman capital letter is usually zero. And the descenders on lowercase roman letters have negative coordinate values.
</span></p>

<p class="T">
SVG においては，フォントテーブルは、最低限，次の３つのフォント特性：アセント（ ascent ）, ディセント（ descent ）, 基底線テーブル（ baseline-tables ）の組を提供するものとみなされる。
アセントとは 点 (0,0) からエム平方の上端までの距離である。
ディセントとは 点 (0,0) からエム平方の下端までの距離である。
基底線テーブルについては以下で述べる。
<span lang="en">
SVG assumes that the font tables will provide at least three font characteristics: an ascent, a descent and a set of baseline-tables. The ascent is the distance to the top of the EM box from the (0,0) point of the font; the descent is the distance to the bottom of the EM box from the (0.0) point of the font. The baseline-table is explained below.
</span></p>

<p class="T">
注記： OpenType フォントにおいては、横書の場合，アセントとディセントは OS/2 テーブルの sTypoAscender と sTypoDescender エントリで与えられる。
縦書の場合，点 (0,0) が左端に位置するので、ディセント（この場合点 (0,0) からグリフの左端までの距離）は通常ゼロであり，アセントは 1 em になるか, または OpenType Base table の縦書モードに対する表意文字上端基底線値により指定される。
<span lang="en">
Note: Within an OpenType font, for horizontal writing-modes, the ascent and descent are given by the sTypoAscender and sTypoDescender entries in the OS/2 table. For vertical writing-modes, the descent (the distance, in this case from the (0,0) point to the left edge of the glyph) is normally zero because the (0,0) point is on the left edge. The ascent for vertical writing-modes is either 1 em or is specified by the ideographic top baseline value in the OpenType Base table for vertical writing-modes.
</span></p>

<p class="T">
横書の場合、用字系のグリフは
<em><a href="text.html#AlignmentPoint">整列点</a></em>
と呼ばれる，グリフごとに定められた特定の点が、他のグリフの整列点に揃うよう配列される。
異なる用字系に属するグリフ，例えば 西欧, 北インド, 極東地域の用字系では、概して，揃えられる点も互いに異なる。
例えば、西欧系のグリフは大文字の下端が揃えられ，北インド語派のグリフは上端に近い水平方向のストロークの上端が揃えられ，極東系のグリフは中心または下端が揃えられる。
一つの用字系における一定フォントサイズの１行のテキストにおいて，行内進行方向に沿う整列点の並びによって定まる幾何学的な線は、<em>基底線</em>（ baseline ）と呼ばれる。
西欧もしくは他のほとんどのアルファベット音節綴りのグリフは「アルファベット」（ alphabetic ）基底線に, 北インド語派のグリフは「吊り下げ」（ hanging ）基底線に, 極東系のグリフは「表意文字」（ ideographic ）基底線に揃えられる。
<span lang="en">
In horizontal writing-modes, the glyphs of a given script are positioned so that a particular point on each glyph, the alignment-point, is aligned with the alignment-points of the other glyphs in that script. The glyphs of different scripts, for example, Western, Northern Indic and Far-Eastern scripts, are typically aligned at different points on the glyph. For example, Western glyphs are aligned on the bottoms of the capital letters, northern indic glyphs are aligned at the top of a horizontal stroke near the top of the glyphs and far-eastern glyphs are aligned either at the bottom or center of the glyph. Within a script and within a line of text having a single font-size, the sequence of alignment-points defines, in the inline- progression-direction, a geometric line called a baseline. Western and most other alphabetic and syllabic glyphs are aligned to an "alphabetic" baseline, the northern indic glyphs are aligned to a "hanging" baseline and the far-eastern glyphs are aligned to an "ideographic" baseline.
</span></p>

<p class="T">
<em>基底線テーブル</em>（ baseline-table ）は、デザイン空間座標系における１本以上の基底線を指定する。
基底線テーブルの機能は、異なる用字系が一行に混在されたときに，互いの存在を考慮して揃えることを容易にすることである。
どのような相対的字揃えが望ましいかは，どの用字系がその行（またはブロック）で支配的になるかに依存するので、用字系それぞれに対し，異なる基底線テーブルが用意されていることがある。
更に、縦書と横書では 異なる整列位置が必要になる。
そのため、フォントには １個以上の基底線テーブル（典型的には１個以上の横書用のものとゼロ個以上の縦書用のもの）が用意されていることがある。
<span lang="en">
A baseline-table specifies the position of one or more baselines in the design space coordinate system. The function of the baseline table is to facilitate the alignment of different scripts with respect to each other when they are mixed on the same text line. Because the desired relative alignments may depend on which script is dominant in a line (or block), there may be a different baseline table for each script. In addition, different alignment positions are needed for horizontal and vertical writing modes. Therefore, the font may have a set of baseline tables: typically, one or more for horizontal writing-modes and zero or more for vertical writing-modes.
</span></p>

<p class="T">
（注記：一部のフォントは基底線テーブルを持たない。
フォントに基底線テーブルが存在しない場合、近似的な基底線テーブルを得るために，経験的方法の利用が考えられる。）
<span lang="en">
Note: Some fonts may not have values for the baseline tables. Heuristics are suggested for approximating the baseline tables when a given font does not supply baseline tables.
</span></p>

<p class="T">
SVG においては、フォントデータの各グリフが、横書用と縦書用のそれぞれについて，幅, 整列基底線（ alignment-baseline ）, 整列点を持つものとみなされる（幅と称されてはいるが、縦書の場合は縦方向の距離を表す）。
グリフが属する用字系はグリフが揃えられる整列基底線を定める。
<a href="text.html#InlineProgressionDirection">行内進行方向</a>
における整列点の位置はグリフの始端（ start-edge ）上にある。
<span lang="en">
SVG further assumes that for each glyph in the font data for a font, there are two width values, two alignment-baselines and two alignment-points, one each for horizontal writing-modes and the other for vertical writing-modes. (Even though it is specified as a width, for vertical writing-modes the width is used in the vertical direction.) The script to which a glyph belongs determines an alignment-baseline to which the glyph is to be aligned. The inline-progression-direction position of the alignment-point is on the start-edge of the glyph.
</span></p>

<p class="T">
基底線に関するプロパティは後の
<a href="text.html#BaselineAlignmentProperties">基底線整列プロパティ</a>
で述べられる。
<span lang="en">
Properties related to baselines are described below under Baseline alignment properties.
</span></p>

<p class="T">
上記の要求されているフォント特性に加えて，フォントには、フォーマッタによる一連のグリフに対する 順序の入れ換え, 結合, 位置決め に利用される，置換および位置決め用のテーブルが用意されていることがある。
それらの組み合わせには、リガチャの様な単純なものから，インド語派のシラブルの様に（大抵は順序組み替えを伴う）複数の子音と母音のグリフが組合わさった複雑なものまである。
<span lang="en">
In addition to the font characteristics required above, a font may also supply substitution and positioning tables that can be used by a formatter to re-order, combine and position a sequence of glyphs to make one or more composite glyphs. The combination may be as simple as a ligature, or as complex as an indic syllable which combines, usually with some re-ordering, multiple consonants and vowel glyphs.
</span></p>


<h2 title="10.4 The ‘text’ element" id="TextElement">10.4 <span class="element-name">text</span> 要素</h2>

<p class="T">
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素はテキストからなるグラフィックス要素を定義する。
描画されるグリフは、
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素内の XML 文字データとそれらに伴う関連の属性やプロパティ，およびフォント自身に含まれる文字からグリフへの対応表から定まる（
<a href="text.html#CharactersAndGlyphs">文字とグリフの対応関係</a>
を見よ）。
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の属性とプロパティは、書字方向, フォント指定, 塗り属性など，文字をどのように正確に描画するかについてを指示する。
この章の以下の節では、テキストに特化された関連の属性とプロパティ，特に
<a href="text.html#TextLayout">テキスト配置</a>
と
<a href="text.html#RelationshipWithBiDirectionality">双方向性</a>
について述べる。
<span lang="en">
The ‘text’ element defines a graphics element consisting of text. The XML character data within the ‘text’ element, along with relevant attributes and properties and character-to-glyph mapping tables within the font itself, define the glyphs to be rendered. (See Characters and their corresponding glyphs.) The attributes and properties on the ‘text’ element indicate such things as the writing direction, font specification and painting attributes which describe how exactly to render the characters. Subsequent sections of this chapter describe the relevant text-specific attributes and properties, particular text layout and bidirectionality.
</span></p>

<p class="T">
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素は他のグラフィックス要素と同じ描画方式により描画されるので、
<a href="paths.html">パス</a>
や
<a href="shapes.html#RectElement">矩形</a>
などの
<a href="intro.html#TermShape">図形</a>
に適用される
<a href="coords.html">座標系変換</a>,
<a href="painting.html">塗り</a>,
<a href="masking.html">クリッピング</a>,
<a href="masking.html">マスキング</a>
の特能すべては，そのまま
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素にも適用される。
<span lang="en">
Since ‘text’ elements are rendered using the same rendering methods as other graphics elements, all of the same coordinate system transformations, painting, clipping and masking features that apply to shapes such as paths and rectangles also apply to ‘text’ elements.
</span></p>

<p class="T" id="ObjectBoundingBoxUnitsTextObjects">
テキストには、グラデーション, パターン, クリッピングパス, マスク, フィルタを適用することができる。
これらのうち一つでもテキストに適用されていて, かつ キーワード <span class="attr-value">'objectBoundingBox'</span> によりオブジェクトの限界ボックスに対し相対的なグラフィックス効果が指定されている場合（
<a href="coords.html#ObjectBoundingBox">オブジェクトの限界ボックスに対して相対的な単位</a>
を見よ）、オブジェクトの限界ボックスにおける単位はどんな場合でも — たとえ同じ
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素内の異なる
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素に異なる効果が適用されていたとしても — 
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素全体に対して相対的なものとして計算される。
<span lang="en">
It is possible to apply a gradient, pattern, clipping path, mask or filter to text. When one of these facilities is applied to text and keyword 'objectBoundingBox' is used (see Object bounding box units) to specify a graphical effect relative to the "object bounding box", then the object bounding box units are computed relative to the entire ‘text’ element in all cases, even when different effects are applied to different ‘tspan’ elements within the same ‘text’ element.
</span></p>

<p class="T">
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の描画は、まず（
<a href="text.html#RelationshipWithBiDirectionality">双方向性</a>
による再配列の後）最初のグリフに対し，初期の
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
になされる。
初期の現在のテキスト位置は、
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の
<a href="text.html#TextElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TextElementYAttribute"><span class="attr-name">y</span></a>
属性により確立される（ただし，以下により調整されることがある：
<a href="text.html#TextAnchorProperty"><span class="prop-name">text-anchor</span></a>
プロパティの値, 最初の文字を含む
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
要素の存在, 最初の文字を含む
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>,
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>,
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素のいずれかの
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>,
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
属性）。
文字に対応するグリフ（たち）が描画された後、現在のテキスト位置は 次の文字へ更新される。
最も単純な場合、新たな現在のテキスト位置は 前の現在のテキスト位置にグリフの（横か縦の）アドバンス（ advance ）値を加えたものになる。
グリフの配置とグリフ・アドバンスについては
<a href="text.html#TextLayout">テキスト配置</a>
を見よ。
<span lang="en">
The ‘text’ element renders its first glyph (after bidirectionality reordering) at the initial current text position, which is established by the ‘x’ and ‘y’ attributes on the ‘text’ element (with possible adjustments due to the value of the ‘text-anchor’ property, the presence of a ‘textPath’ element containing the first character, and/or an ‘x’, ‘y’, ‘dx’ or ‘dy’ attributes on a ‘tspan’, ‘tref’ or ‘altGlyph’ element which contains the first character). After the glyph(s) corresponding to the given character is(are) rendered, the current text position is updated for the next character. In the simplest case, the new current text position is the previous current text position plus the glyphs' advance value (horizontal or vertical). See text layout for a description of glyph placement and glyph advance.
</span></p>


<div class="element-summary"><div class="element-summary-name"><span class="element-name">text</span></div><dl><dt>分類：</dt><dd><a href="intro.html#TermGraphicsElement">グラフィックス要素</a>,
<a href="intro.html#TermTextContentElement">テキスト内容要素</a></dd>
<dt>内容モデル：</dt><dd>以下の要素の任意個数, 任意順序の組み合わせ：
<ul class="no-bullets">
<li><a class="T-ex" href="intro.html#TermAnimationElement">アニメーション要素</a></li>
<li><a class="T-ex" href="intro.html#TermDescriptiveElement">記述的要素</a></li>
<li><a class="T-ex" href="intro.html#TermTextContentChildElement">テキスト内容子要素</a></li>
<li><a href="linking.html#AElement"><span class="element-name">a</span></a></li></ul></dd><dt>属性：</dt><dd><ul class="no-bullets">
<li><a class="T-ex" href="intro.html#TermConditionalProcessingAttribute">条件付き処理属性</a></li>
<li><a class="T-ex" href="intro.html#TermCoreAttributes">中核属性</a></li>
<li><a class="T-ex" href="intro.html#TermGraphicalEventAttribute">グラフィカルイベント属性</a></li>
<li><a class="T-ex" href="intro.html#TermPresentationAttribute">呈示属性</a></li>
<li><a href="styling.html#ClassAttribute"><span class="attr-name">class</span></a></li><li><a href="styling.html#StyleAttribute"><span class="attr-name">style</span></a></li><li><a href="struct.html#ExternalResourcesRequiredAttribute"><span class="attr-name">externalResourcesRequired</span></a></li><li><a href="coords.html#TransformAttribute"><span class="attr-name">transform</span></a></li><li><a href="text.html#TextElementLengthAdjustAttribute"><span class="attr-name">lengthAdjust</span></a></li><li><a href="text.html#TextElementXAttribute"><span class="attr-name">x</span></a></li><li><a href="text.html#TextElementYAttribute"><span class="attr-name">y</span></a></li><li><a href="text.html#TextElementDXAttribute"><span class="attr-name">dx</span></a></li><li><a href="text.html#TextElementDYAttribute"><span class="attr-name">dy</span></a></li><li><a href="text.html#TextElementRotateAttribute"><span class="attr-name">rotate</span></a></li><li><a href="text.html#TextElementTextLengthAttribute"><span class="attr-name">textLength</span></a></li></ul></dd><dt>DOM インタフェース：</dt><dd><ul class="no-bullets"><li><a class="idlinterface" href="text.html#InterfaceSVGTextElement">SVGTextElement</a></li></ul></dd></dl></div>

    <div class="adef-list">
      <p><em>属性定義</em></p>
      <dl><dt id="TextElementXAttribute"><span class="adef">x</span> = "<a href="types.html#DataTypeCoordinates"><span class="attr-value">&lt;list-of-coordinates&gt;</span></a>"</dt><dd>

<p class="T">
<a href="types.html#DataTypeCoordinate">&lt;coordinate&gt;</a>
が１個だけ与えられた場合、この要素とそのすべての子孫要素のそれぞれに対し，最初の文字に対応するグリフの描画における
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
の絶対 X 座標を新しく設定する。
<span lang="en">
If a single &lt;coordinate&gt; is provided, then the value represents the new absolute X coordinate for the current text position for rendering the glyphs that correspond to the first character within this element or any of its descendants.
</span></p>

<p class="T">
コンマまたは空白区切りの <var>n</var> 個の
<a href="types.html#DataTypeCoordinate">&lt;coordinate&gt;</a>
のリストが与えられた場合、この要素とそのすべての子孫要素のそれぞれに対し，最初の <var>n</var> 文字に対応するグリフの描画における
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
の絶対 X 座標を新しく設定する。
<span lang="en">
If a comma- or space-separated list of n &lt;coordinate&gt;s is provided, then the values represent new absolute X coordinates for the current text position for rendering the glyphs corresponding to each of the first n characters within this element or any of its descendants.
</span></p>


<p class="T">
追加の処理規則については
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>
属性の記述を参照のこと。
<span lang="en">
For additional processing rules, refer to the description of the ‘x’ attribute on the ‘tspan’ element.
</span></p>


<p class="T">
この属性が指定されていない場合の効果は、値 "0" が指定されたときと同じになる。
<span lang="en">
If the attribute is not specified, the effect is as if a value of "0" were specified.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd><dt id="TextElementYAttribute"><span class="adef">y</span> = "<a href="types.html#DataTypeCoordinates"><span class="attr-value">&lt;list-of-coordinates&gt;</span></a>"</dt><dd>

<p class="T">
この要素内の文字に対応するグリフの絶対 Y 座標のリスト。
<a href="text.html#TextElementYAttribute"><span class="attr-name">y</span></a>
属性の処理規則は
<a href="text.html#TextElementXAttribute"><span class="attr-name">x</span></a>
属性の処理規則に並行する。
<span lang="en">
The corresponding list of absolute Y coordinates for the glyphs corresponding to the characters within this element. The processing rules for the ‘y’ attribute parallel the processing rules for the ‘x’ attribute.
</span></p>

<p class="T">
この属性が指定されていない場合の効果は、値 "0" が指定されたときと同じになる。
<span lang="en">
If the attribute is not specified, the effect is as if a value of "0" were specified.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd><dt id="TextElementDXAttribute"><span class="adef">dx</span> = "<a href="types.html#DataTypeLengths"><span class="attr-value">&lt;list-of-lengths&gt;</span></a>"</dt><dd>

<p class="T">
この要素とそのすべての子孫要素の文字たちに対し、
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
を X 軸方向にずらす量を指示する。
<span lang="en">
Shifts in the current text position along the x-axis for the characters within this element or any of its descendants.
</span></p>


<p class="T">
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>
属性についての記述を参照のこと。
<span lang="en">
Refer to the description of the ‘dx’ attribute on the ‘tspan’ element.
</span></p>


<p class="T">
この属性がこの要素またはその子孫要素に指定されていない場合、 X 軸方向への追加のずらしは行われない。
<span lang="en">
If the attribute is not specified on this element or any of its descendants, no supplemental shifts along the x-axis will occur.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd><dt id="TextElementDYAttribute"><span class="adef">dy</span> = "<a href="types.html#DataTypeLengths"><span class="attr-value">&lt;list-of-lengths&gt;</span></a>"</dt><dd>

<p class="T">
要素またはその子孫要素の文字たちに対し
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
を Y 軸方向にずらす量を指示する。
<span lang="en">
Shifts in the current text position along the y-axis for the characters within this element or any of its descendants.
</span></p>


<p class="T">
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
属性についての記述を参照のこと。
<span lang="en">
Refer to the description of the ‘dy’ attribute on the ‘tspan’ element.
</span></p>


<p class="T">
この属性がこの要素またはその子孫要素に指定されていない場合、 Y 軸方向への追加のずらしは行われない。
<span lang="en">
If the attribute is not specified on this element or any of its descendants, no supplemental shifts along the y-axis will occur.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd><dt id="TextElementRotateAttribute"><span class="adef">rotate</span> = "<a href="types.html#DataTypeNumbers"><span class="attr-value">&lt;list-of-numbers&gt;</span></a>"</dt><dd>

<p class="T">
要素の各文字に対応するすべてのグリフに適用される
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
に対する追加の回転。
<span lang="en">
The supplemental rotation about the current text position that will be applied to all of the glyphs corresponding to each character within this element.
</span></p>


<p class="T">
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
属性についての記述を参照のこと。
<span lang="en">
Refer to the description of the ‘rotate’ attribute on the ‘tspan’ element.
</span></p>


<p class="T">
この属性がこの要素またはその子孫要素に指定されていない場合、追加の回転は行われない。
<span lang="en">
If the attribute is not specified on this element or any of its descendants, no supplemental rotations will occur.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可 (非加法的)</span>

</dd><dt id="TextElementTextLengthAttribute"><span class="adef">textLength</span> = "<a href="types.html#DataTypeLength"><span class="attr-value">&lt;length&gt;</span></a>"</dt><dd>

<p class="T">
文書作成者の計算による，この要素の文字データのアドバンス値の総和。
この計算には、対応するグリフの（縦または横の）アドバンス値，
<a href="text.html#KerningProperty"><span class="prop-name">kerning</span></a>,
<a href="text.html#LetterSpacingProperty"><span class="prop-name">letter-spacing</span></a>,
<a href="text.html#WordSpacingProperty"><span class="prop-name">word-spacing</span></a>
プロパティによる効果，
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
属性による調整も含まれる。
この値は UA 自身の計算と文書作成者による計算との換算に利用される。
<span lang="en">
The author's computation of the total sum of all of the advance values that correspond to character data within this element, including the advance value on the glyph (horizontal or vertical), the effect of properties ‘kerning’, ‘letter-spacing’ and ‘word-spacing’ and adjustments due to attributes ‘dx’ and ‘dy’ on ‘tspan’ elements. This value is used to calibrate the user agent's own calculations with that of the author.
</span></p>


<p class="T">
この属性の目的は、文書作成者に — 
<a href="text.html#RelationshipWithBiDirectionality">双方向再配列</a>
の後の視覚的描画順序において — この要素で最初と最後に描画されるグリフに対する正確な整列を可能にすることである。
したがって， UA がテキストを
<a href="text.html#TextElementTextLengthAttribute"><span class="attr-name">textLength</span></a>
の長さに丁度良くはまるように拡縮させるための，適正な量を決定したとき、（
<a href="text.html#RelationshipWithBiDirectionality">双方向再配列</a>
の後の視覚的描画順序において）最後に描画される文字に対しては，通常のグリフアドバンスの範囲を越える追加の文字間の間隔調整は（ほとんどの場合）無視される。
<span lang="en">
The purpose of this attribute is to allow the author to achieve exact alignment, in visual rendering order after any bidirectional reordering, for the first and last rendered glyphs that correspond to this element; thus, for the last rendered character (in visual rendering order after any bidirectional reordering), any supplemental inter-character spacing beyond normal glyph advances are ignored (in most cases) when the user agent determines the appropriate amount to expand/compress the text string to fit within a length of ‘textLength’.
</span></p>

<p class="T">
負値はエラー（
<a href="implnote.html#ErrorProcessing">エラー処理</a>
を見よ）。
<span lang="en">
A negative value is an error (see Error processing).
</span></p>


<p class="T">
この属性が指定されていない場合、 UA による計算が文書作成者によるそれと同じものであるとみなされ，アドバンスの調整は行われない。
<span lang="en">
If the attribute is not specified, the effect is as if the author's computation exactly matched the value calculated by the user agent; thus, no advance adjustments are made.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd><dt id="TextElementLengthAdjustAttribute"><span class="adef">lengthAdjust</span> = "<span class="attr-value">spacing|spacingAndGlyphs</span>"</dt><dd>

<p class="T">
テキストが描画されるときの長さを
<a href="text.html#TextElementTextLengthAttribute"><span class="attr-name">textLength</span></a>
属性で指定された値に一致させるために UA がすべき調整の種類を指示する。
<span lang="en">
Indicates the type of adjustments which the user agent shall make to make the rendered length of the text match the value specified on the ‘textLength’ attribute.
</span></p>


<p class="T">
<span class="attr-value">spacing</span>
はアドバンス値のみを調整することを指示する。
グリフ自身は拡縮されない。
<span lang="en">
'spacing' indicates that only the advance values are adjusted. The glyphs themselves are not stretched or compressed.
</span></p>


<p class="T">
<span class="attr-value">spacingAndGlyphs</span> はアドバンス値とグリフ自身の拡縮を軸方向（すなわち行内進行方向）に調整することを指示する。
<span lang="en">
'spacingAndGlyphs' indicates that the advance values are adjusted and the glyphs themselves stretched or compressed in one axis (i.e., a direction parallel to the inline-progression-direction).
</span></p>

<p class="T">
UA にはテキストの正しい始点と終点を得ることが要求されるが、中間のグリフの位置は予測できない。
何故なら UA は、始点と終点の位置と最適な印字との調和をとるために，テキストの拡縮に高度なアルゴリズムを用いるかもしれないからである。
<span lang="en">
The user agent is required to achieve correct start and end positions for the text strings, but the locations of intermediate glyphs are not predictable because user agents might employ advanced algorithms to stretch or compress text strings in order to balance correct start and end positioning with optimal typography.
</span></p>


<p class="T">
注記：文字数 <var>n</var> のテキストの場合、グリフ拡縮は <var>n</var> 文字すべてに適用される一方，アドバンス値の調整は大抵は <var>n</var>−1 文字に対してのみなされる（属性
<a href="text.html#TextElementTextLengthAttribute"><span class="attr-name">textLength</span></a>
についての記述を見よ）。
<span lang="en">
Note that, for a text string that contains n characters, the adjustments to the advance values often occur only for n−1 characters (see description of attribute ‘textLength’), whereas stretching or compressing of the glyphs will be applied to all n characters.
</span></p>

<p class="T">
この属性が指定されていない場合の効果は、値 <span class="attr-value">spacing</span> が指定されたときと同じになる。
<span lang="en">
If the attribute is not specified, the effect is as a value of 'spacing' were specified.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd></dl>
    </div>

<p class="T" id="ExampleText01">
下の
<span class="example-ref">Example text01</span>
はテキスト "Hello, out there" を含む。
グリフ内部への塗りは青色にされ， Verdana フォントファミリを用いてキャンバスに描画される。
<span lang="en">
Example text01 below contains the text string "Hello, out there" which will be rendered onto the canvas using the Verdana font family with the glyphs filled with the color blue.
</span></p>


<pre class="xml">&lt;?xml version="1.0" standalone="no"?&gt;
&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
  "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;
&lt;svg width="10cm" height="3cm" viewBox="0 0 1000 300"
     xmlns="http://www.w3.org/2000/svg" version="1.1"&gt;
  &lt;desc&gt;Example text01 - <span title="'Hello, out there' in blue">青色の 'Hello, out there'</span> &lt;/desc&gt;

  &lt;text x="250" y="150" 
        font-family="Verdana" font-size="55" fill="blue" &gt;
    Hello, out there
  &lt;/text&gt;

  &lt;!-- <span title="Show outline of canvas using 'rect' element"
  >'rect' 要素によりキャンバスの外形線を表示</span> --&gt;
  &lt;rect x="1" y="1" width="998" height="298"
        fill="none" stroke="blue" stroke-width="2" /&gt;
&lt;/svg&gt;</pre><table><caption>Example test01</caption><tbody><tr><td><img title="Example test01 — 'Hello, out there' in blue" alt="Example test01 — 'Hello, out there' in blue" src="images/text/text01.png"></td></tr></tbody></table>
<p class="view-as-svg"><a href="images/text/text01.svg">この例を SVG で表示（ SVG 対応ブラウザのみ）</a></p>



<h2 title="10.5 The ‘tspan’ element" id="TSpanElement">10.5 <span class="element-name">tspan</span> 要素</h2>

<p class="T">
<span class="element-name">tspan</span> 要素を
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素に含めることにより、テキストとフォントのプロパティ, および
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
を絶対あるいは相対の座標値で調整できるようになる。
<span lang="en">
Within a ‘text’ element, text and font properties and the current text position can be adjusted with absolute or relative coordinate values by including a ‘tspan’ element.
</span></p>




<div class="element-summary"><div class="element-summary-name"><span class="element-name">tspan</span></div><dl><dt>分類：</dt><dd><a href="intro.html#TermTextContentElement">テキスト内容要素</a>,
<a href="intro.html#TermTextContentChildElement">テキスト内容子要素</a></dd>
<dt>内容モデル：</dt><dd>以下の要素の任意個数, 任意順序の組み合わせ：
<ul class="no-bullets">
<li><a class="T-ex" href="intro.html#TermDescriptiveElement">記述的要素</a></li>
<li><a href="linking.html#AElement"><span class="element-name">a</span></a></li><li><a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a></li><li><a href="animate.html#AnimateElement"><span class="element-name">animate</span></a></li><li><a href="animate.html#AnimateColorElement"><span class="element-name">animateColor</span></a></li><li><a href="animate.html#SetElement"><span class="element-name">set</span></a></li><li><a href="text.html#TRefElement"><span class="element-name">tref</span></a></li><li><a href="text.html#TSpanElement"><span class="element-name">tspan</span></a></li></ul></dd><dt>属性：</dt><dd><ul class="no-bullets">
<li><a class="T-ex" href="intro.html#TermConditionalProcessingAttribute">条件付き処理属性</a></li>
<li><a class="T-ex" href="intro.html#TermCoreAttributes">中核属性</a></li>
<li><a class="T-ex" href="intro.html#TermGraphicalEventAttribute">グラフィカルイベント属性</a></li>
<li><a class="T-ex" href="intro.html#TermPresentationAttribute">呈示属性</a></li>
<li><a href="styling.html#ClassAttribute"><span class="attr-name">class</span></a></li><li><a href="styling.html#StyleAttribute"><span class="attr-name">style</span></a></li><li><a href="struct.html#ExternalResourcesRequiredAttribute"><span class="attr-name">externalResourcesRequired</span></a></li><li><a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a></li><li><a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a></li><li><a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a></li><li><a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a></li><li><a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a></li><li><a href="text.html#TSpanElementTextLengthAttribute"><span class="attr-name">textLength</span></a></li><li><a href="text.html#TextElementLengthAdjustAttribute"><span class="attr-name">lengthAdjust</span></a></li></ul></dd><dt>DOM インタフェース：</dt><dd><ul class="no-bullets"><li><a class="idlinterface" href="text.html#InterfaceSVGTSpanElement">SVGTSpanElement</a></li></ul></dd></dl></div>

    <div class="adef-list">
      <p><em>属性定義</em></p>
      <dl><dt id="TSpanElementXAttribute"><span class="adef">x</span> = "<a href="types.html#DataTypeCoordinates"><span class="attr-value">&lt;list-of-coordinates&gt;</span></a>"</dt><dd>

<p class="T">
<a href="types.html#DataTypeCoordinate">&lt;coordinate&gt;</a>
が１個だけ与えられた場合、この要素とそのすべての子孫要素のそれぞれに対し，最初の文字に対応するグリフの描画における
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
の絶対 X 座標を新しく設定する。
<span lang="en">
If a single &lt;coordinate&gt; is provided, then the value represents the new absolute X coordinate for the current text position for rendering the glyphs that correspond to the first character within this element or any of its descendants.
</span></p>

<p class="T">
コンマまたは空白区切りの <var>n</var> 個の
<a href="types.html#DataTypeCoordinate">&lt;coordinate&gt;</a>
のリストが与えられた場合、この要素とそのすべての子孫要素のそれぞれに対し，最初の <var>n</var> 文字に対応するグリフの描画における
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
の絶対 X 座標を新しく設定する。
<span lang="en">
If a comma- or space-separated list of n &lt;coordinate&gt;s is provided, then the values represent new absolute X coordinates for the current text position for rendering the glyphs corresponding to each of the first n characters within this element or any of its descendants.
</span></p>


<p class="T">
与えられた
<a href="types.html#DataTypeCoordinate">&lt;coordinate&gt;</a>
が文字数より多い場合、余分な
<a href="types.html#DataTypeCoordinate">&lt;coordinate&gt;</a>
はグリフの位置決めには影響しない。
<span lang="en">
If more &lt;coordinate&gt;s are provided than characters, then the extra &lt;coordinate&gt;s will have no effect on glyph positioning.
</span></p>

<p class="T">
文字数の方が与えられた
<a href="types.html#DataTypeCoordinate">&lt;coordinate&gt;</a>
より多い場合、超過分の文字については：
(a) 先祖の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
または
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の <span class="attr-name">x</span> 属性により絶対 X 座標が指定されていた場合、それらが文字に対応するグリフの描画における始点 X 座標に用いられる（より近い先祖が優先される）。
(b) そうでない場合、現在の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素において直前のグリフの描画による結果の
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
がグリフの描画における始点 X 座標に用いられる。
<span lang="en">
If more characters exist than &lt;coordinate&gt;s, then for each of these extra characters: (a) if an ancestor ‘text’ or ‘tspan’ element specifies an absolute X coordinate for the given character via an ‘x’ attribute, then that absolute X coordinate is used as the starting X coordinate for that character (nearest ancestor has precedence), else (b) the starting X coordinate for rendering the glyphs corresponding to the given character is the X coordinate of the resulting current text position from the most recently rendered glyph for the current ‘text’ element.
</span></p>


<p class="T">
この属性が指定されていない場合：
(a) 先祖の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
または
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の <span class="attr-name">x</span> 属性によって絶対 X 座標が指定されていた場合、それらが文字に対応するグリフの描画における始点 X 座標に用いられる（より近い先祖が優先される）。
(b) そうでない場合、現在の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素において直前のグリフの描画による結果の
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
がグリフの描画における始点 X 座標に用いられる。
<span lang="en">
If the attribute is not specified: (a) if an ancestor ‘text’ or ‘tspan’ element specifies an absolute X coordinate for a given character via an ‘x’ attribute, then that absolute X coordinate is used (nearest ancestor has precedence), else (b) the starting X coordinate for rendering the glyphs corresponding to a given character is the X coordinate of the resulting current text position from the most recently rendered glyph for the current ‘text’ element.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd><dt id="TSpanElementYAttribute"><span class="adef">y</span> = "<a href="types.html#DataTypeCoordinates"><span class="attr-value">&lt;list-of-coordinates&gt;</span></a>"</dt><dd>

<p class="T">
この要素内の文字に対応するグリフの絶対 Y 座標のリスト。
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>
属性の処理規則は
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>
属性の処理規則に並行する。
<span lang="en">
The corresponding list of absolute Y coordinates for the glyphs corresponding to the characters within this element. The processing rules for the ‘y’ attribute parallel the processing rules for the ‘x’ attribute.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd><dt id="TSpanElementDXAttribute"><span class="adef">dx</span> = "<a href="types.html#DataTypeLengths"><span class="attr-value">&lt;list-of-lengths&gt;</span></a>"</dt><dd>

<p class="T">
<a href="types.html#DataTypeLength">&lt;length&gt;</a>
が１個だけ与えられた場合、この要素とそのすべての子孫要素のそれぞれに対し，最初の文字に対応するグリフの描画における
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
の相対 X 座標を新しく設定する。
グリフが描画される前に，
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
は 現在の利用座標系において X 軸方向に
<a href="types.html#DataTypeLength">&lt;length&gt;</a>
だけずらされる。
<span lang="en">
If a single &lt;length&gt; is provided, this value represents the new relative X coordinate for the current text position for rendering the glyphs corresponding to the first character within this element or any of its descendants. The current text position is shifted along the x-axis of the current user coordinate system by &lt;length&gt; before the first character's glyphs are rendered.
</span></p>

<p class="T">
コンマまたは空白区切りの <var>n</var> 個の
<a href="types.html#DataTypeLength">&lt;length&gt;</a>
のリストで与えられた場合、この要素とそのすべての子孫要素のそれぞれに対し，最初の文字が描画される前に，最初の <var>n</var> 文字に対応するグリフの描画における
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
の X 軸方向の逐次的な増分を指定する。
したがって，各文字に対し、対応するグリフが描画される前に，現在の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素における直前のグリフの描画による結果の
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
が X 軸方向に
<a href="types.html#DataTypeLength">&lt;length&gt;</a>
だけずらされる。
<span lang="en">
If a comma- or space-separated list of n &lt;length&gt;s is provided, then the values represent incremental shifts along the x-axis for the current text position before rendering the glyphs corresponding to the first n characters within this element or any of its descendants. Thus, before the glyphs are rendered corresponding to each character, the current text position resulting from drawing the glyphs for the previous character within the current ‘text’ element is shifted along the X axis of the current user coordinate system by &lt;length&gt;.
</span></p>


<p class="T">
与えられた
<a href="types.html#DataTypeLength">&lt;length&gt;</a>
が文字数より多い場合、余分な
<a href="types.html#DataTypeLength">&lt;length&gt;</a>
はグリフの位置決めには影響しない。
<span lang="en">
If more &lt;length&gt;s are provided than characters, then any extra &lt;length&gt;s will have no effect on glyph positioning.
</span></p>

<p class="T">
文字数の方が与えられた
<a href="types.html#DataTypeLength">&lt;length&gt;</a>
より多い場合、超過分の文字については：
(a) 先祖の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
または
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の <span class="attr-name">dx</span> 属性により相対 X 座標が指定されていた場合、
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
は現在の利用座標系においてそれらの量だけ X 軸方向にずらされる（より近い先祖が優先される）。
(b) そうでない場合、現在の X 軸方向への追加のずらしは生じない。
<span lang="en">
If more characters exist than &lt;length&gt;s, then for each of these extra characters: (a) if an ancestor ‘text’ or ‘tspan’ element specifies a relative X coordinate for the given character via a ‘dx’ attribute, then the current text position is shifted along the x-axis of the current user coordinate system by that amount (nearest ancestor has precedence), else (b) no extra shift along the x-axis occurs.
</span></p>


<p class="T">
この属性が指定されていない場合：
(a) 先祖の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
または
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<span class="attr-name">dx</span>
属性により相対 X 座標が指定されていた場合、
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
は 現在の利用座標系においてそれらの量だけ X 軸方向にずらされる（より近い先祖が優先される）。
(b) そうでない場合、現在の X 軸方向への追加のずらしは生じない。
<span lang="en">
If the attribute is not specified: (a) if an ancestor ‘text’ or ‘tspan’ element specifies a relative X coordinate for a given character via a ‘dx’ attribute, then the current text position is shifted along the x-axis of the current user coordinate system by that amount (nearest ancestor has precedence), else (b) no extra shift along the x-axis occurs.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd><dt id="TSpanElementDYAttribute"><span class="adef">dy</span> = "<a href="types.html#DataTypeLengths"><span class="attr-value">&lt;list-of-lengths&gt;</span></a>"</dt><dd>

<p class="T">
この要素内の文字の相対 Y 座標のリスト。
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
属性の処理規則は
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>
属性の処理規則に並行する。
<span lang="en">
The corresponding list of relative Y coordinates for the characters within the ‘tspan’ element. The processing rules for the ‘dy’ attribute parallel the processing rules for the ‘dx’ attribute.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd><dt id="TSpanElementRotateAttribute"><span class="adef">rotate</span> = "<a href="types.html#DataTypeNumbers"><span class="attr-value">&lt;list-of-numbers&gt;</span></a>"</dt><dd>

<p class="T">
この要素内の各文字に対応するすべてのグリフに適用される
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
に対する追加の回転。
<span lang="en">
The supplemental rotation about the current text position that will be applied to all of the glyphs corresponding to each character within this element.
</span></p>

<p class="T">
コンマまたは空白区切りの
<a href="types.html#DataTypeNumber">&lt;number&gt;</a>
のリストで与えられた場合、この要素とそのすべての子孫要素のそれぞれに対し，最初の
<a href="types.html#DataTypeNumber">&lt;number&gt;</a>
は最初の文字に対応するグリフへの回転を表し, ２番目の
<a href="types.html#DataTypeNumber">&lt;number&gt;</a>
は２番目の文字に対応するグリフへの回転を表し，以下同様である。
<span lang="en">
If a comma- or space-separated list of &lt;number&gt;s is provided, then the first &lt;number&gt; represents the supplemental rotation for the glyphs corresponding to the first character within this element or any of its descendants, the second &lt;number&gt; represents the supplemental rotation for the glyphs that correspond to the second character, and so on.
</span></p>


<p class="T">
与えられた
<a href="types.html#DataTypeNumber">&lt;number&gt;</a>
が文字数より多い場合、余分な
<a href="types.html#DataTypeNumber">&lt;number&gt;</a>
は無視される。
<span lang="en">
If more &lt;number&gt;s are provided than there are characters, then the extra &lt;number&gt;s will be ignored.
</span></p>

<p class="T">
文字数の方が与えられた
<a href="types.html#DataTypeNumber">&lt;number&gt;</a>
より多い場合、最後に指定された回転が超過分のそれぞれの文字に用いられなければならない。
<span lang="en">
If more characters are provided than &lt;number&gt;s, then for each of these extra characters the rotation value specified by the last number must be used.
</span></p>


<p class="T">
この属性が指定されていない場合、先祖の 
<a href="text.html#TextElement"><span class="element-name">text</span></a>
または
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素から
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
属性を通して与えられた文字に追加の回転が指定されているならば，それらの文字にその追加の回転が適用される（最も近い先祖のものが優先される）。
もし文字数が先祖の
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
属性で指定された
<a href="types.html#DataTypeNumber">&lt;number&gt;</a>
より多い場合、最後に指定された回転が残りのそれぞれの文字に用いられなければならない。
<span lang="en">
If the attribute is not specified and if an ancestor ‘text’ or ‘tspan’ element specifies a supplemental rotation for a given character via a ‘rotate’ attribute, then the given supplemental rotation is applied to the given character (nearest ancestor has precedence). If there are more characters than &lt;number&gt;s specified in the ancestor's ‘rotate’ attribute, then for each of these extra characters the rotation value specified by the last number must be used.
</span></p>

<p class="T">
この追加の回転はグリフが描画されることに伴う
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
の変化には影響しない。
また、
<a href="text.html#TextOnAPath">パス上のテキスト</a>
や
<a href="text.html#GlyphOrientationHorizontalProperty"><span class="prop-name">glyph-orientation-horizontal</span></a>,
<a href="text.html#GlyphOrientationVerticalProperty"><span class="prop-name">glyph-orientation-vertical</span></a>
により生じる回転に対し追加的なものとなる。
<span lang="en">
This supplemental rotation has no impact on the rules by which current text position is modified as glyphs get rendered and is supplemental to any rotation due to text on a path and to ‘glyph-orientation-horizontal’ or ‘glyph-orientation-vertical’.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可（非加法的）</span>

</dd><dt id="TSpanElementTextLengthAttribute"><span class="adef">textLength</span> = "<a href="types.html#DataTypeLength"><span class="attr-value">&lt;length&gt;</span></a>"</dt><dd>

<p class="T">
文書作成者の計算による，この要素の文字データのアドバンス値の総和。
この計算には 対応するグリフ（縦または横）のアドバンス値,
<a href="text.html#KerningProperty"><span class="prop-name">kerning</span></a>,
<a href="text.html#LetterSpacingProperty"><span class="prop-name">letter-spacing</span></a>,
<a href="text.html#WordSpacingProperty"><span class="prop-name">word-spacing</span></a>
プロパティによる効果, この
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素とその子孫要素の属性
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
による調整も含まれる。
この値は UA 自身の計算と文書作成者の計算との換算に利用される。
<span lang="en">
The author's computation of the total sum of all of the advance values that correspond to character data within this element, including the advance value on the glyph (horizontal or vertical), the effect of properties ‘kerning’, ‘letter-spacing’ and ‘word-spacing’ and adjustments due to attributes ‘dx’ and ‘dy’ on this ‘tspan’ element or any descendants. This value is used to calibrate the user agent's own calculations with that of the author.
</span></p>


<p class="T">
この属性の目的は、文書作成者による（
<a href="text.html#RelationshipWithBiDirectionality">双方向再配列</a>
の後の視覚的描画順序において）この要素の最初と最後に描画されるグリフに対する正確な整列を可能にすることである。
したがって， UA がテキストを
<a href="text.html#TextElementTextLengthAttribute"><span class="attr-name">textLength</span></a>
の長さに丁度良くはまるように拡縮させるための適正な量を決定したとき、（
<a href="text.html#RelationshipWithBiDirectionality">双方向再配列</a>
の後の視覚的描画順序において）最後に描画される文字に対しては，通常のグリフアドバンスの範囲を越える追加の間隔調整は（ほとんどの場合）無視される。
<span lang="en">
The purpose of this attribute is to allow the author to achieve exact alignment, in visual rendering order after any bidirectional reordering, for the first and last rendered glyphs that correspond to this element; thus, for the last rendered character (in visual rendering order after any bidirectional reordering), any supplemental inter-character spacing beyond normal glyph advances are ignored (in most cases) when the user agent determines the appropriate amount to expand/compress the text string to fit within a length of ‘textLength’.
</span></p>

<p class="T">
もし
<a href="text.html#TextElementTextLengthAttribute"><span class="attr-name">textLength</span></a>
属性がこの要素とその先祖要素の両方に指定されていた場合、この要素内のすべての文字データに対する調整はこの要素の
<a href="text.html#TextElementTextLengthAttribute"><span class="attr-name">textLength</span></a>
の値によって排他的に制御され、その副作用として，この要素の内容に対する調整比率が同じ先祖をもつ別の要素で利用される調整比率と異なる可能性が生じる。
UA には、先祖要素内の他のすべての内容のアドバンス値の総和が、先祖要素のアドバンス値とこの要素のアドバンス値との差であるとみなすことが要求される。
<span lang="en">
If attribute ‘textLength’ is specified on a given element and also specified on an ancestor, the adjustments on all character data within this element are controlled by the value of ‘textLength’ on this element exclusively, with the possible side-effect that the adjustment ratio for the contents of this element might be different than the adjustment ratio used for other content that shares the same ancestor. The user agent must assume that the total advance values for the other content within that ancestor is the difference between the advance value on that ancestor and the advance value for this element.
</span></p>


<p class="T">
負値はエラー（
<a href="implnote.html#ErrorProcessing">エラー処理</a>
を見よ）。
<span lang="en">
A negative value is an error (see Error processing).
</span></p>


<p class="T">
この属性が
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素内のどこにも指定されていない場合、 UA による計算が文書作成者によるそれと同じものであるとみなされ，アドバンスの調整は行われない。
<span lang="en">
If the attribute is not specified anywhere within a ‘text’ element, the effect is as if the author's computation exactly matched the value calculated by the user agent; thus, no advance adjustments are made.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd></dl>
    </div>

<p class="T">
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>,
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>,
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
属性は最高品質の印刷において、個々のグリフの正確な位置決めが必要とされるときに役立つ。
これらの属性は文字間の微調整や，テキストの視覚的な改行を得る目的で
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
を新たな位置に設定するような 大きな位置調整に便利である。
複数行の効果を得る
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素は、各行に対し異なる
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素を定義し，その各々に対し属性
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>,
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
のいくつかを指定することにより、可能になる（このような方法の利点は、利用者が複数行に渡る
<a href="text.html#TextSelection">テキスト選択</a>
を行える点にある）。
<span lang="en">
The ‘x’, ‘y’, ‘dx’, ‘dy’ and ‘rotate’ on the ‘tspan’ element are useful in high-end typography scenarios where individual glyphs require exact placement. These attributes are useful for minor positioning adjustments between characters or for major positioning adjustments, such as moving the current text position to a new location to achieve the visual effect of a new line of text. Multi-line ‘text’ elements are possible by defining different ‘tspan’ elements for each line of text, with attributes ‘x’, ‘y’, ‘dx’ and/or ‘dy’ defining the position of each ‘tspan’. (An advantage of such an approach is that users will be able to perform multi-line text selection.)
</span></p>

<p class="T">
高度な印刷制御のために 極小レベルの位置調整が必要な状況においては、 SVG 内容デザイナにとっては，必要なフォントがすべての文書ビューアで確実に可用であること（例えば必要なフォントを SVG フォント形式として, または SVG 内容と同じウェブサイトに存在する
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/fonts.html#q1">Webフォント</a>
<!--? "http://www.w3.org/TR/CSS2/fonts.html#q1" -->
形式として）, および ビューアがフォントを意図されたとおりに処理することが要件となる（能力, 特徴, フォント配置の仕組はシステム間で非常にばらつきがある）。
もし SVG 内容が、特定の文書表示ソフトウエアシステムで処理される特定のフォントへの対応を意図した
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>,
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
属性値を含んでいて，上の要件のいずれかが満たされない場合、テキスト表示は低品質なものになり得る。
<span lang="en">
In situations where micro-level positioning adjustment are necessary for advanced typographic control, the SVG content designer needs to ensure that the necessary font will be available for all viewers of the document (e.g., package up the necessary font data in the form of an SVG font or an alternative WebFont format which is stored at the same Web site as the SVG content) and that the viewing software will process the font in the expected way (the capabilities, characteristics and font layout mechanisms vary greatly from system to system). If the SVG content contains ‘x’, ‘y’, ‘dx’ or ‘dy’ attribute values which are meant to correspond to a particular font processed by a particular set of viewing software and either of these requirements is not met, then the text might display with poor quality.
</span></p>

<p class="T">
属性
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>,
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>,
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
が数値のリストを含む場合、以下の追加規則が適用される：
<span lang="en">
The following additional rules apply to attributes ‘x’, ‘y’, ‘dx’, ‘dy’ and ‘rotate’ when they contain a list of numbers:
</span></p>

    <ul>

<li class="T">
XML 文字とグリフが一対一に対応する場合：
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>,
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>,
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
属性の
<span class="code-fragment">i</span> 番目の値が
<span class="code-fragment">i</span> 番目の文字に対応するグリフに適用される。
<span lang="en">
When a single XML character maps to a single glyph - In this case, the i-th value for the ‘x’, ‘y’, ‘dx’, ‘dy’ and ‘rotate’ attributes is applied to the glyph that corresponds to the i-th character.
</span></li>

<li class="T">
１個の XML 文字が複数のグリフに対応する場合（例えばアクセント記号のグリフが基になるグリフの上に置かれたとき）：
<span class="code-fragment">i</span> 番目の XML 文字が複数のグリフに対応しているならば、
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>,
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
属性の
<span class="code-fragment">i</span> 番目の値が それらのグリフのうちの最初のものが描画される前に適用される（すなわち
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
が調整される）。
<span class="code-fragment">i</span> 番目の
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
の値に対応する回転変換が それらのグリフとこの文字に対応するグリフ間アドバンス値に対し適用される（すなわち，変換によって回転された新たな座標系が一時的に作成され、文字に対応するグリフが回転された座標系に描画される）。
<span lang="en">
When a single XML character maps to multiple glyphs (e.g., when an accent glyph is placed on top of a base glyph) - In this case, the i-th value for the ‘x’, ‘y’, ‘dx’ and ‘dy’ values are applied (i.e., the current text position is adjusted) before rendering the first glyph. The rotation transformation corresponding to the i-th ‘rotate’ value is applied to the glyphs and to the inter-glyph advance values corresponding to this character on a group basis (i.e., the rotation value creates a temporary new rotated coordinate system, and the glyphs orresponding<!-- corresponding --> to the character are rendered into this rotated coordinate system).
</span></li>

<li class="T">
複数の XML 文字が１個のグリフに対応する場合（例えばリガチャ）：
<span class="code-fragment">i</span> 番目と
<span class="code-fragment">(i+1)</span> 番目の XML 文字が１個のグリフに対応しているならば、属性
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>,
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>,
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
属性の
<span class="code-fragment">i</span> 番目の値が グリフの描画に適用される。
しかしながら，
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>,
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
属性の
<span class="code-fragment">(i+1)</span> 番目の値は この文字の描画では無視される（ただし例外として，リストの最後の
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
の値は 後続の文字たちに適用される）。
一方、
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
属性は 後続する１個の XML 文字（すなわち
<span class="code-fragment">(i+2)</span> 番目の文字）があれば、その文字に対応する最初のグリフが描画される前に
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
を与えられた量だけ移動させることにより，その文字に適用される。
<span lang="en">
When multiple XML characters map to a single glyph (e.g., when a ligature is used) - Suppose that the i-th and (i+1)-th XML characters map to a single glyph. In this case, the i-th value for the ‘x’, ‘y’, ‘dx’, ‘dy’ and ‘rotate’ attributes all apply when rendering the glyph. The (i+1)-th values, however, for ‘x’, ‘y’ and ‘rotate’ are ignored (exception: the final ‘rotate’ value in the list would still apply to subsequent characters), whereas the ‘dx’ and ‘dy’ are applied to the subsequent XML character (i.e., the (i+2)-th character), if one exists, by translating the current text position by the given amounts before rendering the first glyph associated with that character.
</span></li>

<li class="T">
複数の文字が複数のグリフに対応する場合（例えば３文字が２つのグリフに対応するなど、最初の文字と２番目の文字の半分が最初のグリフに対応し，残る半分と３番目の文字が２番目のグリフに対応するとき）：
<span class="code-fragment">i</span>, <span class="code-fragment">(i+1)</span>, <span class="code-fragment">(i+2)</span> 番目の XML 文字が２つのグリフに対応しているならば、属性
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>,
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
の値の
<span class="code-fragment">i</span> 番目の値が 最初のグリフが描画される前に適用される（すなわち
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
が調整される）。
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
の
<span class="code-fragment">i</span> 番目の値に対応する回転変換は、２つのグリフ両方と最初のグリフのグリフ間アドバンス値に対し，まとめて適用される（すなわち，回転値によって回転された座標系が一時的に新たに作成され、２つのグリフが回転された座標系に描画される）。
しかしながら，
<span class="code-fragment">(i+1)</span> 番目と
<span class="code-fragment">(i+2)</span> 番目の値は 無視される（ただし例外として，リストの最後の
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
の値は 後続の文字たちに適用される）。
一方，
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
属性の
<span class="code-fragment">(i+1)</span> 番目と
<span class="code-fragment">(i+2)</span> 番目の値は、後続する１個の XML 文字（すなわち
<span class="code-fragment">(i+3)</span> 番目の文字）が在れば，その文字に対応する最初のグリフが描画される前に
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
を与えられた量だけ移動させることにより、その文字に適用される。
<span lang="en">
When there is a many-to-many mapping of characters to glyphs (e.g., when three characters map to two glyphs, such as when the first glyph expresses the first character and half of the second character, and the second glyph expresses the other half of the second character plus the third character) - Suppose that the i-th, (i+1)-th and (i+2)-th XML characters map to two glyphs. In this case, the i-th value for the ‘x’, ‘y’, ‘dx’ and ‘dy’ values are applied (i.e., the current text position is adjusted) before rendering the first glyph. The rotation transformation corresponding to the i-th ‘rotate’ value is applied to both the two glyphs and the glyph advance values for the first glyph on a group basis (i.e., the rotation value creates a temporary new rotated coordinate system, and the two glyphs are rendered into the temporary rotated coordinate system). The (i+1)-th and (i+2)-th values, however, for the ‘x’, ‘y’ and ‘rotate’ attributes are not applied (exception: the final ‘rotate’ value in the list would still apply to subsequent characters), whereas the (i+1)-th and (i+2)-th values for the ‘dx’ and ‘dy’ attributes are applied to the subsequent XML character (i.e., the (i+3)-th character), if one exists, by translating the current text position by the given amounts before rendering the first glyph associated with that character.
</span></li>
<li>

<p class="T">
双方向性との関係：
下の
<a href="text.html#RelationshipWithBiDirectionality">双方向性</a>
の節で述べられるように、テキストは２段階の処理を経て配置される。
どの双方向テキストも、最初に左から右への列に再配列され，それに対しテキスト配置が適用される。
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の文字データが再配列されるときは常に、対応する
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>,
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>,
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
パラメタもまた，対応関係が維持されるように再配列される。
例えば 次のような
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素があったとする：
<span lang="en">
Relationship to bidirectionality - As described below in the discussion on bidirectionality, text is laid out in a two-step process, where any bidirectional text is first re-ordered into a left-to-right string, and then text layout occurs with the re-ordered text string. Whenever the character data within a ‘tspan’ element is re-ordered, the corresponding elements within the ‘x’, ‘y’, ‘dx’, ‘dy’ and ‘rotate’ are also re-ordered to maintain the correspondence. For example, suppose that you have the following ‘tspan’ element:
</span></p>


<pre>&lt;tspan dx="11 12 13 14 15 0 21 22 23 0 31 32 33 34 35 36"&gt;Latin and Hebrew&lt;/tspan&gt;
</pre>

<p class="T">
ここで単語 "Hebrew" は右から左に描画されるとする。
まず、文字データと
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>
属性内のリストの対応する値は、テキストが "Latin and werbeH" に，
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>
属性内のリストの値が "11 12 13 14 15 0 21 22 23 0 36 35 34 33 32 31" になるように再配列される。
しかる後、文字たちに対応するグリフたちが 標準の左から右への配置規則によって位置決めされる。
<span lang="en">
and that the word "Hebrew" will be drawn right-to-left. First, the character data and the corresponding values in the ‘dx’ list will be reordered, such that the text string will be "Latin and werbeH" and the list of values for the ‘dx’ attribute will be "11 12 13 14 15 0 21 22 23 0 36 35 34 33 32 31". After this re-ordering, the glyphs corresponding to the characters will be positioned using standard left-to-right layout rules.
</span></p>

</li></ul>

<p class="T">
次の例に
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の基本的な使い方を示す。
<span lang="en">
The following examples show basic use of the ‘tspan’ element.
</span></p>

<p class="T" id="ExampleTSpan01">
<span class="example-ref">Example tspan01</span>
では、
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素は単語 "not" に対し、太字フォントの利用と赤色のフィルを指示している。
<span lang="en">
Example tspan01 uses a ‘tspan’ element to indicate that the word "not" is to use a bold font and have red fill.
</span></p>


<pre class="xml">&lt;?xml version="1.0" standalone="no"?&gt;
&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
  "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;
&lt;svg width="10cm" height="3cm" viewBox="0 0 1000 300"
     xmlns="http://www.w3.org/2000/svg" version="1.1"&gt;
  &lt;desc&gt;Example tspan01 - <span title="using tspan to change visual attributes"
  >tspan による視覚的属性の変更</span> &lt;/desc&gt;

  &lt;g font-family="Verdana" font-size="45" &gt;
    &lt;text x="200" y="150" fill="blue" &gt;
      You are
        &lt;tspan font-weight="bold" fill="red" &gt;not&lt;/tspan&gt;
      a banana.
    &lt;/text&gt;
  &lt;/g&gt;

  &lt;!-- <span title="Show outline of canvas using 'rect' element"
  >'rect' 要素によりキャンバスの外形線を表示</span> --&gt;
  &lt;rect x="1" y="1" width="998" height="298"
        fill="none" stroke="blue" stroke-width="2" /&gt;
&lt;/svg&gt;</pre><table><caption>Example tspan01</caption><tbody><tr><td><img title="Example tspan01 — using tspan to change visual attributes" alt="Example tspan01 — using tspan to change visual attributes" src="images/text/tspan01.png"></td></tr></tbody></table>
<p class="view-as-svg"><a href="images/text/tspan01.svg">この例を SVG で表示（ SVG 対応ブラウザのみ）</a></p>

<p class="T" id="ExampleTSpan02">
<span class="example-ref">Example tspan02</span>
では、
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
属性により，
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の特定のテキストに対する
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
を 縦横ともに調整している。
<span lang="en">
Example tspan02 uses the ‘dx’ and ‘dy’ attributes on the ‘tspan’ element to adjust the current text position horizontally and vertically for particular text strings within a ‘text’ element.
</span></p>


<pre class="xml">&lt;?xml version="1.0" standalone="no"?&gt;
&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
  "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;
&lt;svg width="10cm" height="3cm" viewBox="0 0 1000 300"
     xmlns="http://www.w3.org/2000/svg" version="1.1"&gt;
  &lt;desc&gt;Example tspan02 - <span title="using tspan's dx and dy attributes 
        for incremental positioning adjustments">Example tspan02 - tspan の dx と dy 属性による
        増分的な位置の調整</span> &lt;/desc&gt;

  &lt;g font-family="Verdana" font-size="45" &gt;
    &lt;text x="200" y="150" fill="blue" &gt;
      But you
        &lt;tspan dx="2em" dy="-50" font-weight="bold" fill="red" &gt;
          are
        &lt;/tspan&gt;
        &lt;tspan dy="100"&gt;
           a peach!
        &lt;/tspan&gt;
    &lt;/text&gt;
  &lt;/g&gt;

  &lt;!-- <span title="Show outline of canvas using 'rect' element"
  >'rect' 要素によりキャンバスの外形線を表示</span> --&gt;
  &lt;rect x="1" y="1" width="998" height="298"
        fill="none" stroke="blue" stroke-width="2" /&gt;
&lt;/svg&gt;</pre><table><caption>Example tspan02</caption><tbody><tr><td><img title="Example tspan02 — using tspan's dx and dy attributes for incremental positioning adjustments" alt="Example tspan02 — using tspan's dx and dy attributes for incremental positioning adjustments" src="images/text/tspan02.png"></td></tr></tbody></table>
<p class="view-as-svg"><a href="images/text/tspan02.svg">この例を SVG で表示（ SVG 対応ブラウザのみ）</a></p>

<p class="T" id="ExampleTSpan03">
<span class="example-ref">Example tspan03</span>
では、描画される各グリフに対する
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
を新たな絶対位置に設定するために
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>
属性を利用している。
この例では２行のテキストが１個の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素に入れられている。
２行とも同じ
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素内にあるので、 UA が
<a href="text.html#TextSelection">テキスト選択とクリップボード処理</a>
をサポートしているならば，利用者は２行を同時に選択して システムのクリップボードにコピーすることができる。
<span lang="en">
Example tspan03 uses the ‘x’ and ‘y’ attributes on the ‘tspan’ element to establish a new absolute current text position for each glyph to be rendered. The example shows two lines of text within a single ‘text’ element. Because both lines of text are within the same ‘text’ element, the user will be able to select through both lines of text and copy the text to the system clipboard in user agents that support text selection and clipboard operations.
</span></p>


<pre class="xml">&lt;?xml version="1.0" standalone="no"?&gt;
&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
  "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;
&lt;svg width="10cm" height="3cm" viewBox="0 0 1000 300"
     xmlns="http://www.w3.org/2000/svg" version="1.1"&gt;
  &lt;desc&gt;Example tspan03 - <span title="using tspan's x and y attributes 
        for multiline text and precise glyph positioning">複数行に渡るテキストやグリフを正確に
        位置させるために tspan の X と Y 属性を用いる</span> &lt;/desc&gt;

  &lt;g font-family="Verdana" font-size="45" &gt;
    &lt;text fill="rgb(255,164,0)" &gt;
      &lt;tspan x="300 350 400 450 500 550 600 650" y="100"&gt;
        Cute and
      &lt;/tspan&gt;
      &lt;tspan x="375 425 475 525 575" y="200"&gt;
         fuzzy
      &lt;/tspan&gt;
    &lt;/text&gt;
  &lt;/g&gt;

  &lt;!-- <span title="Show outline of canvas using 'rect' element"
  >'rect' 要素によりキャンバスの外形線を表示</span> --&gt;
  &lt;rect x="1" y="1" width="998" height="298"
        fill="none" stroke="blue" stroke-width="2" /&gt;
&lt;/svg&gt;</pre><table><caption>Example tspan03</caption><tbody><tr><td><img title="Example tspan03 — using tspan's x and y attributes for multiline text and precise glyph positioning" alt="Example tspan03 — using tspan's x and y attributes for multiline text and precise glyph positioning" src="images/text/tspan03.png"></td></tr></tbody></table>
<p class="view-as-svg"><a href="images/text/tspan03.svg">この例を SVG で表示（ SVG 対応ブラウザのみ）</a></p>

<p class="T">
<span class="example-ref">Example tspan04</span> は、グリフの回転描画に
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
属性を利用している。
この例は
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
属性に指定される値の個数より多い文字からなる 単独の文字列を含む
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素を表示する。
この場合、
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
の
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
属性の最後に指定されている値が，文字列の残りの文字に適用されなければならない。
<span lang="en">
Example tspan04 uses the ‘rotate’ attribute on the ‘tspan’ element to rotate the glyphs to be rendered. This example shows a single text string in a ‘tspan’ element that contains more characters than the number of values specified in the ‘rotate’ attribute. In this case the last value specified in the ‘rotate’ attribute of the ‘tspan’ must be applied to the remaining characters in the string.
</span></p>


<pre class="xml">&lt;?xml version="1.0" standalone="no"?&gt;
&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;
&lt;svg width="10cm" height="3cm" viewBox="0 0 1000 300"
  xmlns="http://www.w3.org/2000/svg" version="1.1"&gt;
  &lt;desc&gt;
    Example tspan04 - <span title="The number of rotate values is less than the number of
    characters in the string."
    >回転値の個数は文字列内の文字数より少ない。</span>
  &lt;/desc&gt;
  &lt;text font-family="Verdana" font-size="55" fill="blue" &gt;
    &lt;tspan x="250" y="150" rotate="-30,0,30"&gt;
      Hello, out there
    &lt;/tspan&gt;
  &lt;/text&gt;
  &lt;!-- <span title="Show outline of canvas using 'rect' element"
  >'rect' 要素によりキャンバスの外形線を表示</span> --&gt;
  &lt;rect x="1" y="1" width="998" height="298"
  fill="none" stroke="blue" stroke-width="2" /&gt;
&lt;/svg&gt;</pre><table><caption>Example tspan04</caption><tbody><tr><td><img title="Example tspan04 — simple rotation of characters in a tspan element" alt="Example tspan04 — simple rotation of characters in a tspan element" src="images/text/tspan04.png"></td></tr></tbody></table>
<p class="view-as-svg"><a href="images/text/tspan04.svg">この例を SVG で表示（ SVG 対応ブラウザのみ）</a></p>

<p class="T">
<span class="example-ref">Example tspan05</span> では、
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素と１個を除く
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
子要素に，
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
属性によるグリフの回転描画を指定している。
この例は
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
属性の伝播を例証する。
<span lang="en">
Example tspan05 specifies the ‘rotate’ attribute on the ‘text’ element and on all but one of the child ‘tspan’ elements to rotate the glyphs to be rendered. The example demonstrates the propagation of the ‘rotate’ attribute.
</span></p>


<pre class="xml">&lt;?xml version="1.0" standalone="no"?&gt;
&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;
&lt;svg width="100%" height="100%" viewBox="0 0 500 120"
  xmlns="http://www.w3.org/2000/svg" version="1.1"&gt;
  &lt;desc&gt;
    Example tspan05 - <span title="propagation of rotation values to nested tspan elements."
    >入れ子の tspan 要素への回転値の伝播。</span>
  &lt;/desc&gt;
  &lt;text id="parent" font-family="Arial, sans-serif" font-size="32" fill="red" x="40" y="40"
    rotate="5,15,25,35,45,55"&gt;
    Not

    &lt;tspan id="child1" rotate="-10,-20,-30,-40" fill="orange"&gt;
      all characters

      &lt;tspan id="child2" rotate="70,60,50,40,30,20,10" fill="yellow"&gt;
        in
        
        &lt;tspan id="child3"&gt;
          the
        &lt;/tspan&gt;
      &lt;/tspan&gt;

      &lt;tspan id="child4" fill="orange" x="40" y="90"&gt;
        text
      &lt;/tspan&gt;

      have a
    &lt;/tspan&gt;

    &lt;tspan id="child5" rotate="-10" fill="blue"&gt;
      specified
    &lt;/tspan&gt;

    rotation
  &lt;/text&gt;

  &lt;!-- <span title="Show outline of canvas using 'rect' element"
  >'rect' 要素によりキャンバスの外形線を表示</span> --&gt;
  &lt;rect x="1" y="1" width="498" height="118" fill="none"
        stroke="blue" stroke-width="2" /&gt;
&lt;/svg&gt;</pre><table><caption>Example tspan05</caption><tbody><tr><td><img title="Example tspan05 — propagation of rotation values to nested tspan elements" alt="Example tspan05 — propagation of rotation values to nested tspan elements" src="images/text/tspan05.png"></td></tr></tbody></table>
<p class="view-as-svg"><a href="images/text/tspan05.svg">この例を SVG で表示（ SVG 対応ブラウザのみ）</a></p>

<p class="T">
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素内の赤色のテキストの回転：
<span lang="en">
Rotation of red text inside the ‘text’ element:
</span></p>

        <ul>

<li class="T">
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
の値 5, 15, 25, 35 度により、テキストの <em>"Not "</em> が同順に回転される。
<span lang="en">
The ‘rotate’ value will rotate the characters in the text "Not " by 5, 15, 25 and 35 degrees respectively.
</span></li>

<li class="T">
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
の値は、テキスト "Not" に後続するスペース文字, "child1" と "child5" の
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素に挟まれるスペース, テキスト "rotation" の前のスペースに適用される。
<span lang="en">
A ‘rotate’ value is applied to the space that follows the text "Not", to the space in between the text in the "child1" and "child5" ‘tspan’ elements, and to the space before the text "rotation".
</span></li>

<li class="T">
次に指定される現在の
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
値は 45, 55 になる。
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の現在の
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
値は、子要素の
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
のテキストに含まれる後続の文字の処理の進行に伴い，次の値へ移行する。
<span lang="en">
The next current ‘rotate’ value specified is 45 followed by 55. The current ‘rotate’ value in the ‘text’ element is incremented as subsequent characters in the text of the child ‘tspan’ elements are processed.
</span></li>

<li class="T">
直後の
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素はテキストに対する回転値を指定するので、現在の
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
値は 各文字の処理に伴い，最後の値 55 度に到達するまで，リスト内の次の値に変更される（しかし，利用はされない）。
<span lang="en">
The next immediate ‘tspan’ element specifies rotate values for the text, hence the current ‘rotate’ value will change to the next value in the list (but is not used) as each character is processed until the last value of 55 degrees is reached.
</span></li>

<li class="T">
最後の
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
値 55 度がテキスト <em>"rotation"</em> の全文字に適用されることになる。
<span lang="en">
The last ‘rotate’ value of 55 degrees will be applied to all the characters in the text "rotation".
</span></li>
</ul>

<p class="T">
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素内のオレンジ色のテキストの回転：
<span lang="en">
Rotation of the orange text inside the "child1" ‘tspan’ element:
</span></p>

        <ul>

<li class="T">
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
値により、テキスト <em>"all characters "</em> の最初の４文字が それぞれ -10, -20, -30, -40 度の順に回転される。
<span lang="en">
The ‘rotate’ value will rotate the first 4 characters in the text "all characters " by -10, -20, -30 and -40 respectively.
</span></li>

<li class="T">
最後の
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
値 -40 が，現在の
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
値になり、
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素内の後続の文字全部と
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
に値を指定していない子要素の
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
すべての文字に適用されることになる。
<span lang="en">
The last ‘rotate’ value of -40 becomes the current ‘rotate’ value and will be applied to all subsequent characters in the ‘tspan’ element and to any child ‘tspan’ elements that do not specify ‘rotate’ values.
</span></li>

<li class="T">
"child4"
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素は
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
値を指定していないので、その先祖（ "child1"
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素）の現在の
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
を利用する。
 "child4" 
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素に指定されているテキスト "text" の全文字が -40 度回転されることになる。
<span lang="en">
The "child4" ‘tspan’ element does not specify any ‘rotate’ values and thus uses the current ‘rotate’ of its ancestor ("child1" ‘tspan’ element). All the characters in the text "text" specified within the "child4" ‘tspan’ element will be rotated by -40 degrees.
</span></li>

<li class="T">
最後の
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
値 -40 度が、テキスト <em>"have a"</em> の全文字にも適用されることになる。
<span lang="en">
The last ‘rotate’ value of -40 degrees will be applied to all the characters in the text "have a".
</span></li>

<li class="T">
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
値は、 "child2" と "child4" 
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の狭間のスペース文字とテキスト <em>"have a"</em> の前のスペース文字にも適用される。
<span lang="en">
A ‘rotate’ value is applied to the space in between the text in the "child2" and "child4" ‘tspan’ elements, and to the space before the text "have a".
</span></li>
</ul>

<p class="T">
"child2"
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素内の黄色のテキストの回転：
<span lang="en">
Rotation of the yellow text inside the "child2" ‘tspan’ element:
</span></p>


        <ul>

<li class="T">
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
値により（黄色の）テキスト "in " が 70, 60, 50 度の順に回転される。
<span lang="en">
The ‘rotate’ value will rotate the characters in the (yellow) text "in " by 70, 60, and 50 degrees respectively.
</span></li>

<li class="T">
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
値はテキスト <em>"in"</em> に続くスペース文字にも適用される。
<span lang="en">
A ‘rotate’ value is applied to the space that follows the text "in".
</span></li>

<li class="T">
文字数よりも多い
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
値が指定されているので、余った
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
値が
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
値を指定していない "child3"
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素に適用される。
<span lang="en">
There are more ‘rotate’ values specified than characters, thus the additional ‘rotate’ values will be applied to the "child3" ‘tspan’ element which does not specified any ‘rotate’ values.
</span></li>

<li class="T">
"child3"
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素のテキスト <em>"the"</em> の文字は 順に 40, 30, 20 度回転される。
<span lang="en">
The characters in the text "the" specified within the "child3" ‘tspan’ element will be rotated 40, 30 and 20 degrees respectively.
</span></li>
</ul>

<p class="T">
"child5"
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素内の青色のテキストの回転：
<span lang="en">
Rotation of the blue text inside the "child5" ‘tspan’ element:
</span></p>

        <ul>

<li class="T">
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
値により テキスト <em>"specified"</em> の全文字が -10 度回転されることになる。
<span lang="en">
The ‘rotate’ value will rotate all the characters in text "specified" by -10 degrees.
</span></li>

<li class="T">
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
値は１個しか与えられていないので、それが
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素内の全文字に適用される。
<span lang="en">
Only one ‘rotate’ value is specified and is thus applied to all characters in the ‘tspan’ element.
</span></li>
</ul>

<p class="T">
次の図に
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素内で入れ子にされた
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素における，回転値の伝播の様子を示す。
<span lang="en">
The following diagram illustrates how the rotation values propagate to ‘tspan’ elements nested withing a ‘text’ element
</span></p>

        <img title="Image that shows propagation of rotation values" alt="Image that shows propagation of rotation values" src="images/text/tspan05-diagram.png" width="528" height="918">



<h2 title="10.6 The ‘tref’ element" id="TRefElement">10.6 <span class="element-name">tref</span> 要素</h2>

<p class="T">
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素のテキスト内容は、文字データとして直接
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素に埋めむ他に，文字データ内容を持つ他の要素を参照する
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>
要素で与えることもできる。
<span lang="en">
The textual content for a ‘text’ can be either character data directly embedded within the ‘text’ element or the character data content of a referenced element, where the referencing is specified with a ‘tref’ element.
</span></p>


<div class="element-summary"><div class="element-summary-name"><span class="element-name">tref</span></div><dl><dt>分類：</dt><dd><a href="intro.html#TermTextContentElement">テキスト内容要素</a>,
<a href="intro.html#TermTextContentChildElement">テキスト内容子要素</a></dd>
<dt>内容モデル：</dt><dd>以下の要素の任意個数, 任意順序の組み合わせ：
<ul class="no-bullets">
<li><a class="T-ex" href="intro.html#TermDescriptiveElement">記述的要素</a></li>
<li><a href="animate.html#AnimateElement"><span class="element-name">animate</span></a></li><li><a href="animate.html#AnimateColorElement"><span class="element-name">animateColor</span></a></li><li><a href="animate.html#SetElement"><span class="element-name">set</span></a></li></ul></dd><dt>属性：</dt><dd><ul class="no-bullets">
<li><a class="T-ex" href="intro.html#TermConditionalProcessingAttribute">条件付き処理属性</a></li>
<li><a class="T-ex" href="intro.html#TermCoreAttributes">中核属性</a></li>
<li><a class="T-ex" href="intro.html#TermGraphicalEventAttribute">グラフィカルイベント属性</a></li>
<li><a class="T-ex" href="intro.html#TermPresentationAttribute">呈示属性</a></li>
<li><a class="T-ex" href="intro.html#TermXLinkAttributes">xlink 属性</a><span>
<a href="text.html#TRefElementHrefAttribute"><span class="attr-name">xlink:href</span></a></span></li>
<li><a href="styling.html#ClassAttribute"><span class="attr-name">class</span></a></li><li><a href="styling.html#StyleAttribute"><span class="attr-name">style</span></a></li><li><a href="struct.html#ExternalResourcesRequiredAttribute"><span class="attr-name">externalResourcesRequired</span></a></li><li><a href="text.html#TRefElementHrefAttribute"><span class="attr-name">xlink:href</span></a></li></ul></dd><dt>DOM インタフェース：</dt><dd><ul class="no-bullets"><li><a class="idlinterface" href="text.html#InterfaceSVGTRefElement">SVGTRefElement</a></li></ul></dd></dl></div>

    <div class="adef-list">
      <p><em>属性定義</em></p>
      <dl><dt id="TRefElementHrefAttribute"><span class="adef">xlink:href</span> = "<a href="types.html#DataTypeIRI"><span class="attr-value">&lt;iri&gt;</span></a>"</dt><dd>

<p class="T">
この
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>
要素の文字データに利用する文字データ内容を持つ要素への
<a href="intro.html#TermIRIReference">IRI 参照</a>
。
<span lang="en">
An IRI reference to an element whose character data content shall be used as character data for this ‘tref’ element.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd></dl>
    </div>

<p class="T">
参照先の要素内の文字データは、マークアップで囲まれたものも含めて，すべて描画される。
<span lang="en">
All character data within the referenced element, including character data enclosed within additional markup, will be rendered.
</span></p>

<p class="T">
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>,
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>,
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
属性は
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素と同じ意味を持つ。
これらの属性は
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>
要素が
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
に置き換えられ，参照先の文字データ（すべての追加のマークアップは除去される）がこの仮想の
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>
要素に埋めこまれたかのように、適用される。
<span lang="en">
The ‘x’, ‘y’, ‘dx’, ‘dy’ and ‘rotate’ attributes have the same meanings as for the ‘tspan’ element. The attributes are applied as if the ‘tref’ element was replaced by a ‘tspan’ with the referenced character data (stripped of all supplemental markup) embedded within the hypothetical ‘tspan’ element.
</span></p>

<p class="T" id="ExampleTRef01">
<span class="example-ref">Example tref01</span>
に，他の要素の文字データをどのように
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の文字データとして利用するかを示す。
最初の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素（ <span class="attr-value">id="ReferencedText"</span> ）は
<a href="struct.html#DefsElement"><span class="element-name">defs</span></a>
要素の一部なので描画されない。
２番目の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素は「インライン文字データ」を描く。
３番目の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素は "ReferencedText" の要素を参照する
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>
要素を持ち，参照先の要素の文字データが「被参照文字データ」になるので、「参照文字データ」を描く。
<span lang="en">
Example tref01 shows how to use character data from a different element as the character data for a given ‘tspan’ element. The first ‘text’ element (with id="ReferencedText") will not draw because it is part of a ‘defs’ element. The second ‘text’ element draws the string "Inline character data". The third ‘text’ element draws the string "Reference character data" because it includes a ‘tref’ element which is a reference to element "ReferencedText", and that element's character data is "Referenced character data".
</span></p>


<pre class="xml">&lt;?xml version="1.0" standalone="no"?&gt;
&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
  "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;
&lt;svg width="10cm" height="3cm" viewBox="0 0 1000 300" version="1.1"
     xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
  &lt;defs&gt;
    &lt;text id="ReferencedText"&gt;
      Referenced character data
    &lt;/text&gt;
  &lt;/defs&gt;
  &lt;desc&gt;Example tref01 - <span title="inline vs reference text content"
  >インラインおよび参照によるテキスト内容</span> &lt;/desc&gt;

  &lt;text x="100" y="100" font-size="45" fill="blue" &gt;
    Inline character data
  &lt;/text&gt;
  &lt;text x="100" y="200" font-size="45" fill="red" &gt;
    &lt;tref xlink:href="#ReferencedText"/&gt;
  &lt;/text&gt;

  &lt;!-- <span title="Show outline of canvas using 'rect' element"
  >'rect' 要素によりキャンバスの外形線を表示</span> --&gt;
  &lt;rect x="1" y="1" width="998" height="298"
        fill="none" stroke="blue" stroke-width="2" /&gt;
&lt;/svg&gt;</pre><table><caption>Example tref01</caption><tbody><tr><td><img title="Example tref01 — inline vs reference text content" alt="Example tref01 — inline vs reference text content" src="images/text/tref01.png"></td></tr></tbody></table>
<p class="view-as-svg"><a href="images/text/tref01.svg">この例を SVG で表示（ SVG 対応ブラウザのみ）</a></p>



<h2 title="10.7 Text layout" id="TextLayout">10.7 テキスト配置</h2>

<h3 title="10.7.1 Text layout introduction" id="TextLayoutIntroduction">10.7.1 テキスト配置の概要</h3>

<p class="T">
この節では SVG がサポートするテキスト配置の特能について述べる。
これには 左から右（例えばラテン用字系）, 双方向（例えばヘブライ語やアラビア語）, 縦書（例えば アジアの用字系）など、様々な国の言語の書字方向のサポートも含まれる。
この節では テキストは直線上にあるものとみなす（すなわち，テキスト現在の利用座標系において厳密に横または縦方向に並んでいるものとする）。
以降の節で
<a href="text.html#TextOnAPath">パス上のテキスト</a>
に対する追加の配置規則を述べる。
<span lang="en">
This section describes the text layout features supported by SVG, which includes support for various international writing directions, such as left-to-right (e.g., Latin scripts) and bidirectional (e.g., Hebrew or Arabic) and vertical (e.g., Asian scripts). The descriptions in this section assume straight line text (i.e., text that is either strictly horizontal or vertical with respect to the current user coordinate system). Subsequent sections describe the supplemental layout rules for text on a path.
</span></p>

<p class="T">
SVG は自動改行や行送りの機能を提供しない。
したがって，多言語テキストの配置は、複数行に渡るテキストブロックの整形をサポートする言語よりも単純になる。
<span lang="en">
SVG does not provide for automatic line breaks or word wrapping, which makes internationalized text layout for SVG relatively simpler than it is for languages which support formatting of multi-line text blocks.
</span></p>

<p class="T" id="ReferenceOrientation">
SVG-UA は 各
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素に対し，標準の横書または縦書のテキスト（すなわちパス上でないテキスト）における現在の
<span class="SVG-Term" title="reference orientation">基準方位</span>
（ reference orientation ）を決定する。
基準方位とは、現在の利用座標系において, Y 軸の負の無限大を向くベクトルである（
<a href="coords.html#InitialCoordinateSystem">初期座標系</a>
においては、基準方位は上方向である）。
<a href="text.html#TextOnAPath">パス上のテキスト</a>
における基準方位は文字ごとに毎回設定される。
<span lang="en">
For each ‘text’ element, the SVG user agent determines the current reference orientation. For standard horizontal or vertical text (i.e., no text-on-a-path), the reference orientation is the vector pointing towards negative infinity in Y within the current user coordinate system. (Note: in the initial coordinate system, the reference orientation is up.) For text on a path, the reference orientation is reset with each character.
</span></p>

<p class="T" id="InlineProgressionDirection">
基準方位と
<a href="text.html#WritingModeProperty"><span class="prop-name">writing-mode</span></a>
プロパティの値を基に， SVG-UA は 現在の
<span class="SVG-Term" title="inline-progression-direction">行内進行方向</span>
（ inline-progression-direction — 行が延伸する方向）を決定する。
左から右へのテキストでは、行内進行方向は基準方位から時計回りに 90 度の方向である。
右から左へのテキストでは、行内進行方向は基準方位から反時計回りに 90 度の方向である。
上から下へのテキストでは、行内進行方向は基準方位の 180 度反対方向である。
<span lang="en">
Based on the reference orientation and the value for property ‘writing-mode’, the SVG user agent determines the current inline-progression-direction. For left-to-right text, the inline-progression-direction points 90 degrees clockwise from the reference orientation vector. For right-to-left text, the inline progression points 90 degrees counter-clockwise from the reference orientation vector. For top-to-bottom text, the inline-progression-direction points 180 degrees from the reference orientation vector.
</span></p>

<p class="T" id="BlockProgressionDirection">
基準方位と
<a href="text.html#WritingModeProperty"><span class="prop-name">writing-mode</span></a>
プロパティの値を基に， SVG-UA は 現在の
<span class="SVG-Term" title="block-progression-direction">ブロック進行方向</span>
（ block-progression-direction ）を決定する。
左から右へのテキストと右から左へのテキストにおいては、横書で利用できる
<a href="text.html#WritingModeProperty"><span class="prop-name">writing-mode</span></a>
が <span class="prop-value">lr-tb</span>, <span class="prop-value">rl-tb</span> のみなので，ブロック進行方向は基準方位から 180 度反対方向になる。
上から下へのテキストにおいては、利用できる
<a href="text.html#WritingModeProperty"><span class="prop-name">writing-mode</span></a>
が <span class="prop-value">tb-rl</span> のみなので，ブロック進行方向は常に基準方位から反時計回りに 90 度の方向になる。
<span lang="en">
Based on the reference orientation and the value for property ‘writing-mode’, the SVG user agent determines the current block-progression-direction. For left-to-right and right-to-left text, the block-progression-direction points 180 degrees from the reference orientation vector because the only available horizontal ‘writing-mode’s are lr-tb and rl-tb. For top-to-bottom text, the block-progression-direction always points 90 degrees counter-clockwise from the reference orientation vector because the only available top-to-bottom ‘writing-mode’ is tb-rl.
</span></p>

<p class="T" id="ShiftDirection">
<span class="SVG-Term" title="shift direction">シフト方向</span>
（ shift direction ）とは、
<a href="text.html#BaselineShiftProperty"><span class="prop-name">baseline-shift</span></a>
プロパティが正の値をとるときに
<a href="text.html#FontsTablesBaselines">基底線テーブル</a>
が動く方向である。
シフト方向は 正の値に対し基底線テーブルが親の
<a href="text.html#FontsTablesBaselines">基底線テーブル</a>
<!--? href="text.html# -->
の最上端エントリへ向かってシフトする方向である。
<span lang="en">
The shift direction is the direction towards which the baseline table moves due to positive values for property ‘baseline-shift’. The shift direction is such that a positive value shifts the baseline table towards the topmost entry in the parent's baseline table.
</span></p>

<p class="T" id="CurrentTextPosition">
SVG-UA は
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の処理において
<span class="SVG-Term" title="current text position">現在のテキスト位置</span>
（ current text position ）を常に更新し続ける。
初期の現在のテキスト位置は
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の属性
<a href="text.html#TextElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TextElementYAttribute"><span class="attr-name">y</span></a>
から確立される。
<span lang="en">
In processing a given ‘text’ element, the SVG user agent keeps track of the current text position. The initial current text position is established by the ‘x’ and ‘y’ attributes on the ‘text’ element.
</span></p>

<p class="T">
現在のテキスト位置は 各グリフの処理後ごとに，次のグリフが描画されるべき位置へ調整される。
現在のテキスト位置に対するこの調整は、現在の
<a href="text.html#SettingInlineProgressionDirection">行内進行方向</a>,
描画されたばかりのそのグリフの
<a href="text.html#GlyphOrientation">グリフ方位</a>
に対応するグリフ特有のアドバンス値, フォントのカーニングテーブル, 種々の属性とプロパティの現在の値（
<a href="text.html#SpacingProperties">間隔調整プロパティ</a>
や
<a href="text.html#TextElement"><span class="element-name">text</span></a>,
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>,
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>,
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素の
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>,
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
属性の値）に基づいて行われる。
グリフに現在の
<a href="text.html#GlyphOrientation">グリフ方位</a>
に対応するアドバンス値が明示的に与えられていない場合、適切な近似が用いられるべきである。
縦書のテキストならば、考えられる近似はグリフのアセントとディセント値の和である。
横書と縦書のテキストの両方に対するアドバンス値に考えられる別の近似として、 <em>em</em> の大きさがある（
<a href="fonts.html#FontFaceElementUnitsPerEmAttribute"><span class="attr-name">units-per-em</span></a>
を見よ）。
<span lang="en">
The current text position is adjusted after each glyph to establish a new current text position at which the next glyph shall be rendered. The adjustment to the current text position is based on the current inline-progression-direction, glyph-specific advance values corresponding to the glyph orientation of the glyph just rendered, kerning tables in the font and the current values of various attributes and properties, such as the spacing properties and any ‘x’, ‘y’, ‘dx’ and ‘dy’ attributes on ‘text’, ‘tspan’, ‘tref’ or ‘altGlyph’ elements. If a glyph does not provide explicit advance values corresponding to the current glyph orientation, then an appropriate approximation should be used. For vertical text, a suggested approximation is the sum of the ascent and descent values for the glyph. Another suggested approximation for an advance value for both horizontal and vertical text is the size of an em (see units-per-em).
</span></p>

<p class="T" id="AlignmentPoint">
SVG-UA は 描画対象の各グリフに対し、現在のテキスト位置にきっちり合わせられる，グリフ上の適切な
<span class="SVG-Term" title="alignment-point">整列点</span>
（ alignment-point ）を決定する。
整列点は グリフ自身におけるグリフセルの計量, 現在の
<a href="text.html#SettingInlineProgressionDirection">行内進行方向</a>,
行内進行方向に相対的な
<a href="text.html#GlyphOrientation">グリフ方位</a>,
に基づいて決定される。
ほとんどのラテン系テキスト（すなわち
<span class="attr-value">writing-mode:lr</span>,
<span class="attr-value">text-anchor:start</span>,
<span class="attr-value">alignment-baseline:baseline</span>
）においては、グリフ内の整列点はグリフセルの左端（または他の幾つかのグリフ特有の左側の原点を指示する X 座標）とラテン系グリフの基底線との交点になる。
上から下への縦書テキストの配置では、多くの場合，基準となる点はフォントの縦基底線のセットに基づくグリフ特有の原点になるか, グリフの中央と（
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/fonts.html#tline">Top Baseline</a>;
[<a href="refs.html#ref-CSS2">CSS2</a>], 15.4.18 節)
参照）の交点になる。
もしグリフに現在の
<a href="text.html#GlyphOrientation">グリフ方位</a>
に対応する原点が明示的に与えられていない場合、グリフの左端とグリフに対する適切な水平基底線との交点や, グリフの上端とグリフに対する適切な垂直基底線との交点など，適切な近似が用いられるべきである。
もし基底線テーブルが無い場合、 UA は処理において共通して利用される基底線テーブルを確立すべきである。
<span lang="en">
For each glyph to be rendered, the SVG user agent determines an appropriate alignment-point on the glyph which will be placed exactly at the current text position. The alignment-point is determined based on glyph cell metrics in the glyph itself, the current inline-progression-direction and the glyph orientation relative to the inline-progression-direction. For most uses of Latin text (i.e., writing-mode:lr, text-anchor:start and alignment-baseline:baseline) the alignment-point in the glyph will be the intersection of left edge of the glyph cell (or some other glyph-specific x-axis coordinate indicating a left-side origin point) with the Latin baseline of the glyph. For many cases with top-to-bottom vertical text layout, the reference point will be either a glyph-specific origin point based on the set of vertical baselines for the font or the intersection of the center of the glyph with its top line (see Top Baseline; in [CSS2], section 15.4.18). If a glyph does not provide explicit origin points corresponding to the current glyph orientation, then an appropriate approximation should be used, such as the intersection of the left edge of the glyph with the appropriate horizontal baseline for the glyph or intersection of the top edge of the glyph with the appropriate vertical baseline. If baseline tables are not available, user agents should establish baseline tables that reflect common practice.
</span></p>

<p class="T" id="TextChunks">
現在のテキスト位置に対する調整は
<span class="SVG-Term" title="absolute position adjustments">絶対位置調整</span>
か
<span class="SVG-Term" title="relative position adjustments">相対位置調整</span>
のいずれかである。
絶対位置調整は次の状況で生じる：
<span lang="en">
Adjustments to the current text position are either absolute position adjustments or relative position adjustments. An absolute position adjustment occurs in the following circumstances:
</span></p>

    <ul>

<li class="T">
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の最初
<span lang="en">
At the start of a ‘text’ element
</span></li>

<li class="T">
各
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
要素の最初
<span lang="en">
At the start of each ‘textPath’ element
</span></li>

<li class="T">
属性
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>
または
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>
の値が明示的に指定されている，
<a href="text.html#TextElement"><span class="element-name">text</span></a>,
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>,
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>,
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素内の各文字
<span lang="en">
For each character within a ‘text’, ‘tspan’, ‘tref’ and ‘altGlyph’ element which has an ‘x’ or ‘y’ attribute value assigned to it explicitly
</span></li>
</ul>

<p class="T">
現在のテキスト位置に対する他の位置調整はすべて相対位置調整である。
<span lang="en">
All other position adjustments to the current text position are relative position adjustments.
</span></p>

<p class="T">
各絶対位置調整に対し、個別に
<span class="SVG-Term" title="text chunk">テキスト片</span>
が定義される。
絶対位置調整はテキスト配置に対し次のような影響をもたらす：
<span lang="en">
Each absolute position adjustment defines a new text chunk. Absolute position adjustments impact text layout in the following ways:
</span></p>

    <ul>

<li class="T">
リガチャは、それに対応する一連の文字がすべて同じテキスト片に含まれるときにのみ生じる。
<span lang="en">
Ligatures only occur when a set of characters which might map to a ligature are all in the same text chunk.
</span></li>

<li class="T">
各テキスト片は
<a href="text.html#TextAnchorProperty"><span class="prop-name">text-anchor</span></a>
プロパティ値による整列において、別々のテキストブロックを表現する。
<span lang="en">
Each text chunk represents a separate block of text for alignment due to ‘text-anchor’ property values.
</span></li>

<li class="T">
<a href="text.html#RelationshipWithBiDirectionality">双方向性</a>
による文字の再配列は個々のテキスト片の中に限定される。
再配列が複数のテキスト片にまたがって行われることは<em>ない</em>。
<span lang="en">
Reordering of characters due to bidirectionality only occurs within a text chunk. Reordering does not happen across text chunks.
</span></li>
</ul>

<p class="T">
次の追加規則がリガチャの形成に適用される：
<span lang="en">
The following additional rules apply to ligature formation:
</span></p>

    <ul>

<li class="T">
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/text.html#spacing-props">CSS2 が定める</a>
([<a href="refs.html#ref-CSS2">CSS2</a>], 16.4 節)
様に、２つの文字の間隔が既定の字間と同じではない場合， UA はリガチャを用いるべきではない。
したがって
<a href="text.html#KerningProperty"><span class="prop-name">kerning</span></a>
や
<a href="text.html#LetterSpacingProperty"><span class="prop-name">letter-spacing</span></a>
プロパティに既定値でない値がある場合， UA はリガチャを用いるべきではない。
<span lang="en">
As defined in CSS2, ([CSS2], section 16.4), when the resultant space between two characters is not the same as the default space, user agents should not use ligatures; thus, if there are non-default values for properties ‘kerning’ or ‘letter-spacing’, the user agent should not use ligatures.
</span></li>

<li class="T">
異なる DOM テキストノードにまたがる文字たちに対応するグリフに対しては、リガチャを形成すべきではない。
したがって，マークアップで分離された文字にリガチャを用いるべきではない。
<span lang="en">
Ligature formation should not be enabled for the glyphs corresponding to characters within different DOM text nodes; thus, characters separated by markup should not use ligatures.
</span></li>

<li class="T">
上に述べたように、異なるテキスト片にまたがる文字たちに対応するグリフに対しては、リガチャを形成すべきではない。
<span lang="en">
As mentioned above, ligature formation should not be enabled for the glyphs corresponding to characters within different text chunks.
</span></li>
</ul>

<h3 title="10.7.2 Setting the inline-progression-direction" id="SettingInlineProgressionDirection">10.7.2 行内進行方向の設定</h3>

<p class="T">
<a href="text.html#WritingModeProperty"><span class="prop-name">writing-mode</span></a>
プロパティは
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素に対する初期の行内進行方向を、左から右, 右から左, 上から下 へのいずれにするかを指定する。
<a href="text.html#WritingModeProperty"><span class="prop-name">writing-mode</span></a>
プロパティは
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素にのみ適用される。
このプロパティは 下位要素
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>,
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>,
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>,
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
においては無視される。
（注記：１個の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素内における行内進行方向は、 Unicode 双方向アルゴリズム, および
<a href="text.html#DirectionProperty"><span class="prop-name">direction</span></a>
と
<a href="text.html#UnicodeBidiProperty"><span class="prop-name">unicode-bidi</span></a>
プロパティにより，変更され得る。
双方向テキストについては
<a href="text.html#RelationshipWithBiDirectionality">双方向性との関係</a>
を見よ。）
<span lang="en">
The ‘writing-mode’ property specifies whether the initial inline-progression-direction for a ‘text’ element shall be left-to-right, right-to-left, or top-to-bottom. The ‘writing-mode’ property applies only to ‘text’ elements; the property is ignored for ‘tspan’, ‘tref’, ‘altGlyph’ and ‘textPath’ sub-elements. (Note that the inline-progression-direction can change within a ‘text’ element due to the Unicode bidirectional algorithm and properties ‘direction’ and ‘unicode-bidi’. For more on bidirectional text, see Relationship with bidirectionality.)
</span></p>


    <div class="propdef">
      <dl><dt id="WritingModeProperty"><span class="propdef-title prop-name">writing-mode</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th><td>lr-tb | rl-tb | tb-rl | lr | rl | tb |
<a class="noxref" href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a>
</td></tr>
<tr><th>初期値：</th><td>lr-tb</td></tr>
<tr><th>適用対象：</th><td title="‘text’ elements">
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素</td></tr>
<tr><th>継承：</th><td>される</td></tr>
<tr><th>百分率：</th><td>N/A</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>不可</td></tr></tbody></table>
        </dd></dl>
    </div>
    <dl><dt><span class="attr-value">lr-tb | lr</span></dt>

<dd class="T">
初期の行内進行方向を ラテン系言語主体の文書のほとんどで一般的な、左から右に設定する。
ほとんどの文字に対し， <em>現在のテキスト位置</em>は、各グリフの描画後に，左から右へアドバンスされる。
（文字データが Unicode 双方向アルゴリズムの対象となる文字を含んでいる場合、テキストアドバンス規則はより複雑になる。
<a href="text.html#RelationshipWithBiDirectionality">双方向性との関係</a>
を見よ）
<span lang="en">
Sets the initial inline-progression-direction to left-to-right, as is common in most Latin-based documents. For most characters, the current text position is advanced from left to right after each glyph is rendered. (When the character data includes characters which are subject to the Unicode bidirectional algorithm, the text advance rules are more complex. See Relationship with bidirectionality).
</span>
</dd>
<dt><span class="attr-value">rl-tb | rl</span></dt>

<dd class="T">
初期の行内進行方向を アラビア語やヘブライ語の用字系で一般的な、右から左に設定する（
<a href="text.html#RelationshipWithBiDirectionality">双方向性との関係</a>
を見よ）
<span lang="en">
Sets the initial inline-progression-direction to right-to-left, as is common in Arabic or Hebrew scripts. (See Relationship with bidirectionality.)
</span>
</dd>
<dt><span class="attr-value">tb-rl | tb</span></dt>

<dd class="T">
初期の行内進行方向を 中国語や日本語など幾つかのアジアの用字系で一般的な、上から下に設定する。
この種の縦書配置は，ラテン系言語主体の文書においても、決して頻繁ではないが，特に表の列や行のラベルなどに生じ得る。
ほとんどの場合、各グリフの中央を通る縦書基底線が揃えられる。
<span lang="en">
Sets the initial inline-progression-direction to top-to-bottom, as is common in some Asian scripts, such as Chinese and Japanese. Though hardly as frequent as horizontal, this type of vertical layout also occurs in Latin based documents, particularly in table column or row labels. In most cases, the vertical baselines running through the middle of each glyph are aligned.
</span>
</dd>
</dl>

<h3 title="10.7.3 Glyph orientation within a text run" id="GlyphOrientation">10.7.3 行内グリフ方位</h3>

<p class="T">
場合によっては、文字並びの方位を行内進行方向に相対して変える必要がある。
このことは 特に東アジア系の文書の縦書配置のときに該当し、セル幅の狭いラテン系テキストが，あるときは直立に, 別のときは横倒しに 表示される。
<span lang="en">
In some cases, it is required to alter the orientation of a sequence of characters relative to the inline-progression-direction. The requirement is particularly applicable to vertical layouts of East Asian documents, where sometimes narrow-cell Latin text is to be displayed horizontally and other times vertically.
</span></p>

<p class="T">
２種類の行内進行方向のそれぞれに対し、基準方位に相対的なグリフ方位を制御する，別々のプロパティがある。
<a href="text.html#GlyphOrientationVerticalProperty"><span class="prop-name">glyph-orientation-vertical</span></a>
は 行内進行方向が縦方向のときのグリフ方位を制御する。
<a href="text.html#GlyphOrientationHorizontalProperty"><span class="prop-name">glyph-orientation-horizontal</span></a>
は 行内進行方向が横方向のときのグリフ方位を制御する。
<span lang="en">
Two properties control the glyph orientation relative to the reference orientation for each of the two possible inline-progression-directions. ‘glyph-orientation-vertical’ controls glyph orientation when the inline-progression-direction is vertical. ‘glyph-orientation-horizontal’ controls glyph orientation when the inline-progression-direction is horizontal.
</span></p>


    <div class="propdef">
      <dl><dt id="GlyphOrientationVerticalProperty"><span class="propdef-title prop-name">glyph-orientation-vertical</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th><td>auto |
<a href="types.html#DataTypeAngle">&lt;angle&gt;</a>
|
<a class="noxref" href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a>
</td></tr>
<tr><th>初期値：</th><td>auto</td></tr>
<tr><th>適用対象：</th><td title="text content elements">
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
</td></tr>
<tr><th>継承：</th><td>される</td></tr>
<tr><th>百分率：</th><td>N/A</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>不可</td></tr></tbody></table>
        </dd></dl>
    </div>
    <dl><dt><span class="prop-value">auto</span></dt><dd>
        <ul><li>

<p class="T">
全角（ fullwidth ）表意文字と全角ラテン系テキストでは、グリフ方位は 0 度に設定される。
<span lang="en">
Fullwidth ideographic and fullwidth Latin text will be set with a glyph-orientation of 0-degrees.
</span></p>

<p class="T">
句読点その他の，横書と縦書の両形式を持つ表意文字に対しては、縦書形式のグリフが用いられる。
<span lang="en">
Ideographic punctuation and other ideographic characters having alternate horizontal and vertical forms will use the vertical form of the glyph.
</span></p>

          </li><li>

<p class="T">
全角でないテキストでは グリフ方位は 90 度に設定される。
<span lang="en">
Text which is not fullwidth will be set with a glyph-orientation of 90-degrees.
</span></p>

<p class="T">
この方位の再設定規則は一段階目の非表意文字テキストに対してのみ適用される。
それ以上の書字方向モードまたは双方向処理の埋めこみはすべてこの一段階目の回転に基づく。
<span lang="en">
This reorientation rule applies only to the first-level non-ideographic text. All further embedding of writing-modes or bidi processing will be based on the first-level rotation.
</span></p>

            <blockquote>
<b>注記：</b> 
              <ul><li>

<p class="T">
これは 非表意文字テキスト文字列を、双方向規則（ bidi-rule ）を尊重しつつ，横書に設定して、その結果による行内領域における並び（グリフ方向の変更一回につき１個の領域）を時計回りに 90 度回転することと等価である。
<span lang="en">
This is equivalent to having set the non-ideographic text string horizontally honoring the bidi-rule, then rotating the resultant sequence of inline-areas (one area for each change of glyph direction) 90-degrees clockwise.
</span></p>

<p class="T">
この「回転」手法によるテキストは、言語や用字系において一般的な，連結や再配列によるリガチャその他のグリフを含み得ることに注意。
（この「回転」手法による表示形式が自動リガチャ形成や同様な文脈依存によるグリフ形成を止めるわけではない。）
<span lang="en">
It should be noted that text set in this "rotated" manner may contain ligatures or other glyph combining and reordering common to the language and script. (This "rotated" presentation form does not disable auto-ligature formation or similar context-driven variations.)
</span></p>

                </li><li>

<p class="T">
どの文字が自動的に回転されるべきかの決定は UA ごとに様々になり得る。
この決定は、国, 言語, 用字系, 文字の特性, フォント, 文字の文脈などの間における複雑な相互関係に基づく。
Unicode TR 11, JIS 規格, その他の国家標準を調べることが薦められる。
<span lang="en">
The determination of which characters should be auto-rotated may vary across user agents. The determination is based on a complex interaction between country, language, script, character properties, font, and character context. It is suggested that one consult the Unicode TR 11 and the various JIS or other national standards.
</span></p>

                </li></ul>
            </blockquote>
          </li></ul>
      </dd><dt><span class="prop-value"><a href="types.html#DataTypeAngle">&lt;angle&gt;</a></span></dt>
<dd>

<p class="T">
角度は 0, 90, 180, 270 度に制限される。
UA は角度値を最も近くの許容される値に丸めるものとする。
<span lang="en">
The value of the angle is restricted to 0, 90, 180, and 270 degrees. The user agent shall round the value of the angle to the closest of the permitted values.
</span></p>

<p class="T">
値 <span class="prop-value">0deg</span> は、すべてのグリフに対し，その上端が
<a href="text.html#ReferenceOrientation">基準方位</a>
を向くように設定することを指示する。
値 <span class="prop-value">90deg</span> は、
<a href="text.html#ReferenceOrientation">基準方位</a>
から時計回りに 90 度の方位を指示する。
<span lang="en">
A value of 0deg indicates that all glyphs are set with the top of the glyphs oriented towards the reference orientation. A value of 90deg indicates an orientation of 90 degrees clockwise from the reference orientation.
</span></p>

</dd>
</dl>

<p class="T">
このプロパティは
<a href="text.html#WritingModeProperty"><span class="prop-name">writing-mode</span></a>
が縦書のテキストにのみ適用される。
<span lang="en">
This property is applied only to text written in a vertical ‘writing-mode’.
</span></p>

<p class="T">
グリフ方位は各グリフが描画されるごとの現在のテキスト位置に対するアドバンス量に影響する。
行内進行方向が縦方向で,
<a href="text.html#GlyphOrientationVerticalProperty"><span class="prop-name">glyph-orientation-vertical</span></a>
による方位の角度が 180 度の倍数のとき、現在のテキスト位置はグリフの縦方向の計量に従って増大する。
そうでないとき，すなわち
<a href="text.html#GlyphOrientationVerticalProperty"><span class="prop-name">glyph-orientation-vertical</span></a>
による方位の角度が 180 度の倍数でないとき、現在のテキスト位置はグリフの横方向の計量に従って増大する。
<span lang="en">
The glyph orientation affects the amount that the current text position advances as each glyph is rendered. When the inline-progression-direction is vertical and the ‘glyph-orientation-vertical’ results in an orientation angle that is a multiple of 180 degrees, then the current text position is incremented according to the vertical metrics of the glyph. Otherwise, if the ‘glyph-orientation-vertical’ results in an orientation angle that is not a multiple of 180 degrees, then the current text position is incremented according to the horizontal metrics of the glyph.
</span></p>

<p class="T">
この節のテキスト配置図では次の記号を用いる：
<span lang="en">
The text layout diagrams in this section use the following symbols:
</span></p>

<p>
<span title="wide-cell glyph (e.g. Han) which is the n-th glyph in the text run">
<img title="Symbolic wide-cell glyph representation" alt="Symbolic wide-cell glyph representation" class="example" src="images/fullwidth.png" width="39" height="39">
幅広の（ wide-cell ）グリフで（例えば漢字），行内の <em>n</em> 番目のグリフ
</span>
<br />
<span title="narrow-cell glyph (e.g. Latin) which is the n-th glyph in the text run">
 <img title="Symbolic narrow-cell glyph representation" alt="Symbolic narrow-cell glyph representation" class="example" src="images/halfwidth.png" width="19" height="39">
幅狭の（ narrow-cell ）グリフで（例えばラテン系），行内の <em>n</em> 番目のグリフ
</span></p>

<p class="T">
上の図式の記号で想定している方位は、それらを表現する Unicode 文字が UA において描画されるときに想定される方向に対応する。
図式のグリフ間の間隔は、問題点を明らかにするために意図的に変更される場合を除き，表象的なものである。
<span lang="en">
The orientation which the above symbols assume in the diagrams corresponds to the orientation that the Unicode characters they represent are intended to assume when rendered in the user agent. Spacing between the glyphs in the diagrams is usually symbolic, unless intentionally changed to make a point.
</span></p>

<p class="T">
次図に
<a href="text.html#GlyphOrientationVerticalProperty"><span class="prop-name">glyph-orientation-vertical</span></a>
の異なる用いられ方を示す。
図左はラテン系の文字に対する
<a href="text.html#GlyphOrientationVerticalProperty"><span class="prop-name">glyph-orientation-vertical</span></a>
を <span class="prop-value">auto</span> または <span class="prop-value">90</span> に指定した場合において、全角表意文字グリフと幅狭のグリフを混在させたときの結果を示している。
図右はラテン系の文字に対する
<a href="text.html#GlyphOrientationVerticalProperty"><span class="prop-name">glyph-orientation-vertical</span></a>
を <span class="prop-value">0</span> に指定した場合において、全角表意文字グリフと幅狭のグリフを混在させたときの結果を示している。
<span lang="en">
The diagrams below illustrate different uses of ‘glyph-orientation-vertical’. The diagram on the left shows the result of the mixing of full-width ideographic glyphs with narrow-cell Latin glyphs when ‘glyph-orientation-vertical’ for the Latin characters is either auto or 90. The diagram on the right show the result of mixing full-width ideographic glyphs with narrow-cell Latin glyphs when Latin glyphs are specified to have a ‘glyph-orientation-vertical’ of 0.
</span></p>

    
<p>
<img title="Layout of mixed glyphs in vertical-ideographic mode. Wide-cell glyphs are upright, Non-wide-cell glyphs are rotated by 90 degrees." alt="Layout of mixed glyphs in vertical-ideographic mode. Wide-cell glyphs are upright, Non-wide-cell glyphs are rotated by 90 degrees." class="example" src="images/text/lf-vi.png" style="vertical-align:top;" width="45" height="262"><img title="Example of mixed Japanese and English in vertical-ideographic layout. Japanese glyphs are upright, English rotated." alt="Example of mixed Japanese and English in vertical-ideographic layout. Japanese glyphs are upright, English rotated." class="example" src="images/text/GlyphOrientAuto.png" style="vertical-align:top;" width="40" height="260">
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <img title="Layout of mixed glyphs in vertical mode. All glyphs are upright." alt="Layout of mixed glyphs in vertical mode. All glyphs are upright." class="example" src="images/text/lf-v.png" style="vertical-align:top;" width="42" height="342"><img title="Example of mixed Japanese and English in vertical layout. All glyphs are upright." alt="Example of mixed Japanese and English in vertical layout. All glyphs are upright." class="example" src="images/text/GlyphOrientZero.png" style="vertical-align:top;" width="38" height="340">
</p>


    <div class="propdef">
      <dl><dt id="GlyphOrientationHorizontalProperty"><span class="propdef-title prop-name">glyph-orientation-horizontal</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th><td><a href="types.html#DataTypeAngle">&lt;angle&gt;</a>
|
<a class="noxref" href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a>
</td></tr>
<tr><th>初期値：</th><td>0deg</td></tr>
<tr><th>適用対象：</th><td title="text content elements">
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
</td></tr>
<tr><th>継承：</th><td>される</td></tr>
<tr><th>百分率：</th><td>N/A</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>不可</td></tr></tbody></table>
        </dd></dl>
    </div>
    <dl><dt><span class="prop-value"><a href="types.html#DataTypeAngle">&lt;angle&gt;</a></span></dt>
<dd>

<p class="T">
角度がとり得る値は 0, 90, 180, 270 度に制限される。
UA は角度値を最も近くの許容される値に丸めるものとする。
<span lang="en">
The value of the angle is restricted to 0, 90, 180, and 270 degrees. The user agent shall round the value of the angle to the closest of the permitted values.
</span></p>

<p class="T">
値 <span class="prop-value">0deg</span> は、すべてのグリフに対し，その上端が
<a href="text.html#ReferenceOrientation">基準方位</a>
を向くように設定させることを指示する。
値 <span class="prop-value">90deg</span> は、
<a href="text.html#ReferenceOrientation">基準方位</a>
から時計回りに 90 度の方位を指示する。
<span lang="en">
A value of 0deg indicates that all glyphs are set with the top of the glyphs oriented towards the reference orientation. A value of 90deg indicates an orientation of 90 degrees clockwise from the reference orientation.
</span></p>
</dd>
</dl>

<p class="T">
このプロパティは
<a href="text.html#WritingModeProperty"><span class="prop-name">writing-mode</span></a>
が横書のテキストにのみ適用される。
<span lang="en">
This property is applied only to text written in a horizontal ‘writing-mode’.
</span></p>

<p class="T">
グリフ方位は各グリフが描画されるごとの現在のテキスト位置に対するアドバンス量に影響する。
基準方位が水平方向で,
<a href="text.html#GlyphOrientationHorizontalProperty"><span class="prop-name">glyph-orientation-horizontal</span></a>
による方位の角度が 180 度の倍数のとき、現在のテキスト位置はグリフの横方向の計量に従って増大する。
そうでないとき，すなわち
<a href="text.html#GlyphOrientationHorizontalProperty"><span class="prop-name">glyph-orientation-horizontal</span></a>
による方位の角度が 180 度の倍数でないとき、現在のテキスト位置はグリフの縦方向の計量に従って増大する。
<span lang="en">
The glyph orientation affects the amount that the current text position advances as each glyph is rendered. When the reference orientation direction is horizontal and the ‘glyph-orientation-horizontal’ results in an orientation angle that is a multiple of 180 degrees, then the current text position is incremented according to the horizontal metrics of the glyph. Otherwise, if the ‘glyph-orientation-horizontal’ results in an orientation angle that is not a multiple of 180 degrees, then the current text position is incremented according to the vertical metrics of the glyph.
</span></p>


<h3 title="10.7.4 Relationship with bidirectionality" id="RelationshipWithBiDirectionality">10.7.4 双方向性との関係</h3>

<p class="T">
ある種の用字系では文字は右から左へ書かれる。
一部の文書、特にアラビア語やヘブライ語の用字系で書かれたもので，複数の言語が混在する文脈においては、双方向が入り混じったテキスト行が生じ得る。
このような現象は双方向性（ bidirectionality ），または 略して "bidi" と呼ばれる。
<span lang="en">
The characters in certain scripts are written from right to left. In some documents, in particular those written with the Arabic or Hebrew script, and in some mixed-language contexts, text in a single line may appear with mixed directionality. This phenomenon is called bidirectionality, or "bidi" for short.
</span></p>

<p class="T">
Unicode 標準
([<a href="refs.html#ref-UNICODE">UNICODE</a>],
特に
[<a href="refs.html#ref-UAX9">UAX9</a>])
では、テキストの正しい書字方向を決定する複雑なアルゴリズムが定義されている。
アルゴリズムは 明示的な埋めこみと上書きの制御のみならず，文字の特性に基づく暗黙的な部分からも構成される。
<a href="intro.html#TermSVGUserAgent"><span class="svg-term">SVG UA</span></a>
は
<a href="intro.html#TermTextContentBlockElement"><span class="svg-term">テキスト内容ブロック要素</span></a>
における文字の配置を決定する際に、この双方向アルゴリズムを適用する。
<span lang="en">
The Unicode standard ([UNICODE], specifically [UAX9]) defines a complex algorithm for determining the proper directionality of text. The algorithm consists of an implicit part based on character properties, as well as explicit controls for embeddings and overrides. The SVG user agent applies this bidirectional algorithm when determining the layout of characters within a text content block element. 
</span><!-- PR -->
</p>

<p class="T">
<a href="text.html#DirectionProperty"><span class="attr-name">direction</span></a>
および
<a href="text.html#UnicodeBidiProperty"><span class="attr-name">unicode-bidi</span></a>
プロパティは、文書作成者による文字内容の本来の方向の上書きを可能にすることにより，文書言語の要素と属性をこのアルゴリズムにどう反映させるかについての明示的な制御を与える。
この２つのプロパティは 行内進行方向に垂直なグリフに対応するすべての文字に対し 適用することができる。
<span lang="en">
The ‘direction’ and ‘unicode-bidi’ properties allow authors to override the inherent directionality of the content characters and thus explicitly control how the elements and attributes of a document language map to this algorithm. These two properties are applicable to all characters whose glyphs are perpendicular to the inline-progression-direction.
</span></p>

<p class="T">
ほとんどの場合， Unicode 
[<a href="refs.html#ref-UNICODE">UNICODE</a>]
による双方向アルゴリズムは、望ましい結果を自動的に算出してくれる。
そのような局面においては、文書作成者がこれらのプロパティを必要とすることはない。
右から左へ書かれる言語のような場合においては、次に示す例のように，
<a href="intro.html#TermRootmostSVGElement"><span class="svg-term">最も根元の <span class="element-name">svg</span> 要素</span></a>
に
<a href="text.html#DirectionProperty"><span class="prop-name">direction</span></a>
プロパティを与えて，すべてのテキスト要素に継承させておくことで 十分に足り得る。
<span lang="en">
In many cases, the bidirectional algorithm from Unicode [UNICODE] produces the desired result automatically, and in such cases the author does not need to use these properties. For other cases, such as when using right-to-left languages, it may be sufficient to add the ‘direction’ property to the rootmost ‘svg’ element, and allow that direction to inherit to all text elements, as in the following example (which may be used as a template):
</span><!-- PR -->
</p>

<pre class="xml">&lt;svg xmlns="http://www.w3.org/2000/svg"
     width="100%" height="100%" viewBox="0 0 400 400"
     direction="rtl" xml:lang="fa"&gt;

  &lt;title direction="ltr" xml:lang="en"&gt;Right-to-left Text&lt;/title&gt;
  &lt;desc direction="ltr" xml:lang="en"&gt;
    <span title="A simple example for using the 'direction' property in documents
    that predominantly use right-to-left languages."
	>書字方向が右から左の言語を主体とする文書における
     'direction' プロパティの単純な用例。</span>
  &lt;/desc&gt;

  &lt;text x="200" y="200" font-size="20"&gt;داستان SVG 1.1 SE طولا ني است.&lt;/text&gt;

&lt;/svg&gt;</pre><table><caption style="caption-side: bottom;">Example </caption><tr><td><img alt="Example" src="images/text/rtl-text.png"/></td></tr></table>
<p class="view-as-svg"><a href="images/text/rtl-text.svg">この例を SVG で表示（ SVG 対応ブラウザのみ）</a></p>
  
<p class="T">
暗黙的な双方向再配列が不十分になる別の例を次に示す：
<span lang="en">
Below is another example, where where implicit bidi reordering is not sufficient:
</span><!-- PR -->
</p>
<pre class="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;svg xmlns="http://www.w3.org/2000/svg"
     width="100%" height="100%" viewBox="0 0 400 400"
     direction="rtl" xml:lang="he"&gt;

  &lt;title direction="ltr" xml:lang="en"&gt;Right-to-left Text&lt;/title&gt;
  &lt;desc direction="ltr" xml:lang="en"&gt;
    <span title="An example for using the 'direction' and 'unicode-bidi' properties
    in documents that predominantly use right-to-left languages."
	>書字方向が右から左の言語 を主体とする文書における
     'direction' と 'unicode-bidi' プロパティの用例。</span>
  &lt;/desc&gt;

  &lt;text x="200" y="200" font-size="20"&gt; כתובת 
	MAC:&amp;#x200F;
    	&lt;tspan direction="ltr" unicode-bidi="embed"&gt;00-24-AF-2A-55-FC&lt;/tspan&gt; 
	&lt;/text&gt;

&lt;/svg&gt;</pre><table><caption style="caption-side: bottom;">Example </caption><tr><td><img alt="Example" src="images/text/rtl-complex.png"/></td></tr></table>
<p class="view-as-svg"><a href="images/text/rtl-complex.svg">この例を SVG で表示（ SVG 対応ブラウザのみ）</a></p><!-- PR -->
  
<p class="T">
<a href="intro.html#TermTextContentElement"><span class="svg-term">テキスト内容要素</span></a>
においては，
<a href="#TextAnchorProperty"><span class="prop-name">text-anchor</span></a>
プロパティによるテキストの整列は、
<a href="text.html#DirectionProperty"><span class="attr-name">direction</span></a>
プロパティから決定される。
例えば与えられた
<a href="text.html#TextElement"><span class="element-name">text</span></a> 
要素において，
<a href="#TextAnchorProperty"><span class="prop-name">text-anchor</span></a>
の値が <span class="prop-value">"end"</span> の場合、
<a href="text.html#DirectionProperty"><span class="attr-name">direction</span></a>
の値が <span class="prop-value">"ltr"</span> のテキストについては，
<a href="text.html#TextElement"><span class="element-name">text</span></a> 
要素の
<a href="text.html#TextElementXAttribute"><span class="attr-name">x</span></a>
属性の値の位置から左へ延ばされる一方、
<a href="text.html#DirectionProperty"><span class="attr-name">direction</span></a>
の値が <span class="prop-value">"rtl"</span> のテキストについては，
<a href="text.html#TextElement"><span class="element-name">text</span></a> 
要素の
<a href="text.html#TextElementXAttribute"><span class="attr-name">x</span></a>
属性の値の位置から右へ延ばされる。
<span lang="en">
Within text content elements, the alignment of text with regards to the ‘text-anchor’ property is determined by the value of the ‘direction’ property. For example, given a ‘text’ element with a ‘text-anchor’ value of "end", for a ‘direction’ value of "ltr", the text will extend to the left of the position of the ‘text’ element's ‘x’ attribute value, while for ‘direction’ value of "rtl", the text will extend to the right of the position of the ‘text’ element's ‘x’ attribute value.
</span></p><!-- PR -->

<p class="T">
双方向性についてのより完全な解説は CSS 2 の
<a href="http://www.w3.org/TR/CSS2/visuren.html#direction">テキスト方向</a>
の節 
([<a href="refs.html#ref-CSS2">CSS2</a>], 9.10 節)
を参照のこと。
<span lang="en">
A more complete discussion of bidirectionality can be found in the Text direction section of CSS 2 ([CSS2], section 9.10).
</span><!-- PR -->
</p>

<p class="T">
双方向テキストの処理モデルは次のようになる。
UA は 与えられた文字を
<span class="SVG-Term" title="logical order">論理順序</span>
で処理する（論理順序とは、直接的包含あるいは
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>
要素による間接的参照を通して，文字たちが元の文書に現れる順番のことである）。
UA は それらの文字を，各々が個別に Unicode 双方向アルゴリズムが適用されるような，独立のブロックに分割する。
各
<a href="text.html#TextChunks">テキスト片</a>
はテキストの独立ブロックを表す。
加えて，
<a href="text.html#GlyphOrientationHorizontalProperty"><span class="prop-name">glyph-orientation-horizontal</span></a>
または
<a href="text.html#GlyphOrientationVerticalProperty"><span class="prop-name">glyph-orientation-vertical</span></a>
プロパティから生じるグリフ方位の変更により、独立のテキストブロックたちが更に細分される。
各独立テキストブロックに対する Unicode 双方向アルゴリズム, および
<a href="text.html#DirectionProperty"><span class="attr-name">direction</span></a>,
<a href="text.html#UnicodeBidiProperty"><span class="attr-name">unicode-bidi</span></a>
<!-- class="attr-name" -->
プロパティの処理が終わると、 UA は 描画順序が左から右にされた再配列済みの文字のリストを得ることになる。
文字の再配列に同時並行して，
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>,
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>
要素の
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>,
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
属性も、文字と属性値の元の対応関係を維持するために再配列される。
文字またはグリフの組に対するカーニングとリガチャの処理は、それがフォント特有のものであるとしても，文字の再配列後に行われることがモデルとしては望ましい。
<span lang="en">
The processing model for bidirectional text is as follows. The user agent processes the characters which are provided in logical order (i.e., the order the characters appear in the original document, either via direct inclusion or via indirect reference due a ‘tref’ element). The user agent determines the set of independent blocks within each of which it should apply the Unicode bidirectional algorithm. Each text chunk represents an independent block of text. Additionally, any change in glyph orientation due to processing of properties ‘glyph-orientation-horizontal’ or ‘glyph-orientation-vertical’ will subdivide the independent blocks of text further. After processing the Unicode bidirectional algorithm and properties ‘direction’ and ‘unicode-bidi’ on each of the independent text blocks, the user agent will have a potentially re-ordered list of characters which are now in left-to-right rendering order. Simultaneous with re-ordering of the characters, the dx, dy and rotate attributes on the ‘tspan’ and ‘tref’ elements are also re-ordered to maintain the original correspondence between characters and attribute values. While kerning or ligature processing might be font-specific, the preferred model is that kerning and ligature processing occurs between combinations of characters or glyphs after the characters have been re-ordered.
</span></p>


    <div class="propdef">
      <dl><dt id="DirectionProperty"><span class="propdef-title prop-name">direction</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th><td>ltr | rtl |
<a class="noxref" href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a>
</td></tr>
<tr><th>初期値：</th><td>ltr</td></tr>
<tr><th>適用対象：</th><td title="text content elements">
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
</td></tr>
<tr><th>継承：</th><td>される</td></tr>
<tr><th>百分率：</th><td>N/A</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>不可</td></tr></tbody></table>
        </dd></dl>
    </div>

<p class="T">
このプロパティは、基になるテキストの書字方向, および Unicode 双方向アルゴリズムにおける埋めこみと上書きの方向（
<a href="text.html#UnicodeBidiProperty"><span class="prop-name">unicode-bidi</span></a>
を見よ）を指定する。
それ自身が新たな
<a href="text.html#TextChunks">テキスト片</a>
を確立しない要素（例えば
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>
や
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>
属性による絶対位置調整を伴わない
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素）において，
<a href="text.html#DirectionProperty"><span class="prop-name">direction</span></a>
プロパティが効果を持つためには、
<a href="text.html#UnicodeBidiProperty"><span class="prop-name">unicode-bidi</span></a>
プロパティの値が <span class="prop-value">embed</span> または <span class="prop-value">bidi-override</span> でなければならない。
<span lang="en">
This property specifies the base writing direction of text and the direction of embeddings and overrides (see ‘unicode-bidi’) for the Unicode bidirectional algorithm. For the ‘direction’ property to have any effect on an element that does not by itself establish a new text chunk (such as a ‘tspan’ element without absolute position adjustments due to ‘x’ or ‘y’ attributes), the ‘unicode-bidi’ property's value must be embed or bidi-override.
</span><!-- PR -->
</p>

<p class="T">
この仕様で与える追加の情報を除き、
<a href="text.html#DirectionProperty"><span class="prop-name">direction</span></a>
プロパティの
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/visuren.html#propdef-direction">正式な定義</a>
は CSS2
([<a href="refs.html#ref-CSS2">CSS2</a>], 9.10 節)
で与えられる。
<span lang="en">
Except for any additional information provided in this specification, the normative definition of the ‘direction’ property is in CSS2 ([CSS2], section 9.10).
</span></p>

<p class="T">
<a href="text.html#DirectionProperty"><span class="prop-name">direction</span></a>
プロパティは
<a href="text.html#SettingInlineProgressionDirection">行内進行方向</a>
に対し方位が垂直のグリフにのみ 適用される。
これらには、通常の横書のラテン系またはアラビア語のテキストの場合, および 上から下への行内進行方向に相対して時計回りに 90 度回転されたラテン系またはアラビア語の幅狭の文字の場合が含まれる。
<span lang="en">
The ‘direction’ property applies only to glyphs oriented perpendicular to the inline-progression-direction, which includes the usual case of horizontally-oriented Latin or Arabic text and the case of narrow-cell Latin or Arabic characters rotated 90 degrees clockwise relative to a top-to-bottom inline-progression-direction.
</span></p>


    <div class="propdef">
      <dl><dt id="UnicodeBidiProperty"><span class="propdef-title prop-name">unicode-bidi</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th><td>normal | embed | bidi-override |
<a class="noxref" href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a>
</td></tr>
<tr><th>初期値：</th><td>normal</td></tr>
<tr><th>適用対象：</th><td title="text content elements">
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
</td></tr>
<tr><th>継承：</th><td>されない</td></tr>
<tr><th>百分率：</th><td>N/A</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>不可</td></tr></tbody></table>
        </dd></dl>
    </div>

<p class="T">
この仕様で与える追加の情報を除き、
<a href="text.html#UnicodeBidiProperty"><span class="prop-name">unicode-bidi</span></a>
プロパティの
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/visuren.html#propdef-unicode-bidi">正式な定義</a>
は CSS2
([<a href="refs.html#ref-CSS2">CSS2</a>], 9.10 節)
で与えられる。
<span lang="en">
Except for any additional information provided in this specification, the normative definition of the ‘unicode-bidi’ property is in CSS2 ([CSS2], section 9.10).
</span></p>


<h2 title="10.8 Text rendering order" id="TextRenderingOrder">10.8 テキストの描画順序</h2>

<p class="T">
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素内の文字に対応するグリフは元の文書における文字の論理順序で描画され、双方向性の実装に必要な再配列とは独立である。
このように，視覚的に右から左へ連なるテキストでは、最も右側の文字に対応するグリフは他の文字に対応するグリフより先に描画される。
<span lang="en">
The glyphs associated with the characters within a ‘text’ element are rendered in the logical order of the characters in the original document, independent of any re-ordering necessary to implement bidirectionality. Thus, for text that goes right-to-left visually, the glyphs associated with the rightmost character are rendered before the glyphs associated with the other characters.
</span></p>

<p class="T">
加えて，個々のグリフは、次のグリフが描画される前に，一体として描画される（すなわち，
<a href="painting.html#FillProperty"><span class="prop-name">fill</span></a>,
<a href="painting.html#StrokeProperty"><span class="prop-name">stroke</span></a>
プロパティによる内部と外形線への塗りが行われる）。
<span lang="en">
Additionally, each distinct glyph is rendered in its entirety (i.e., it is filled and stroked as specified by the ‘fill’ and ‘stroke’ properties) before the next glyph gets rendered.
</span></p>


<h2 title="10.9 Alignment properties" id="AlignmentProperties">10.9 整列プロパティ</h2>

<h3 title="10.9.1 Text alignment properties" id="TextAlignmentProperties">10.9.1 テキスト整列プロパティ</h3>

<p class="T">
<a href="text.html#TextAnchorProperty"><span class="prop-name">text-anchor</span></a>
プロパティは、テキスト文字列を 与えられた点に対して相対的に揃える（先頭揃え, 中央揃え, 末尾揃え）ために 用いられる。
<span lang="en">
The ‘text-anchor’ property is used to align (start-, middle- or end-alignment) a string of text relative to a given point.
</span></p>

<p class="T">
<a href="text.html#TextAnchorProperty"><span class="prop-name">text-anchor</span></a>
プロパティは、与えられた
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素における，個々の
<a href="text.html#TextChunks">テキスト片</a>
に対して適用される。
各テキスト片は 初期の現在のテキスト位置を持ち、次のいずれかを適用した結果による（文脈に依存する）利用座標系の点を表現する：すなわち，テキスト片の最初に描画される文字に対し、
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の
<a href="text.html#TextElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TextElementYAttribute"><span class="attr-name">y</span></a>
属性, または 明示的に指定された
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>,
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>,
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
のうちの いずれかの要素の
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>
属性の値，あるいは
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
要素における初期の現在のテキスト位置 のいずれかである。
<span lang="en">
The ‘text-anchor’ property is applied to each individual text chunk within a given ‘text’ element. Each text chunk has an initial current text position, which represents the point in the user coordinate system resulting from (depending on context) application of the ‘x’ and ‘y’ attributes on the ‘text’ element, any ‘x’ or ‘y’ attribute values on a ‘tspan’, ‘tref’ or ‘altGlyph’ element assigned explicitly to the first rendered character in a text chunk, or determination of the initial current text position for a ‘textPath’ element.
</span></p>


    <div class="propdef">
      <dl><dt id="TextAnchorProperty"><span class="propdef-title prop-name">text-anchor</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th><td>start | middle | end |
<a class="noxref" href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a>
</td></tr>
<tr><th>初期値：</th><td>start</td></tr>
<tr><th>適用対象：</th><td title="text content elements">
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
</td></tr>
<tr><th>継承：</th><td>される</td></tr>
<tr><th>百分率：</th><td>N/A</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>可</td></tr></tbody></table>
        </dd></dl>
    </div>

<p class="T">
これらの値は次の意味を持つ：
<span lang="en">
Values have the following meanings:
</span></p>

    <dl><dt><span class="attr-value">start</span></dt>

<dd class="T">
描画される文字は、描画結果のテキストの始点が初期の現在のテキスト位置になるように，揃えられる。
（ほとんどの欧州言語に典型的な）
<a href="text.html#DirectionProperty"><span class="attr-name">direction</span></a>
プロパティの値が <span class="prop-value">"ltr"</span> の要素に対しては、テキストの左端がテキストの初期位置に描画される。
（アラビア語やヘブライ語に典型的な）
<a href="text.html#DirectionProperty"><span class="attr-name">direction</span></a>
プロパティの値が <span class="prop-value">"rtl"</span> の要素に対しては、テキストの右端がテキストの初期位置に描画される。
（アジア圏のテキストに典型的な）縦書きが主体のテキストの要素に対しては、テキストの上端がテキストの初期位置に描画される。
<span lang="en">
The rendered characters are aligned such that the start of the resulting rendered text is at the initial current text position. 
For an element with a ‘direction’ property value of "ltr" (typical for most European languages), the left side of the text is rendered at the initial text position. For an element with a ‘direction’ property value of "rtl" (typical for Arabic and Hebrew), the right side of the text is rendered at the initial text position. For an element with a vertical primary text direction (often typical for Asian text), the top side of the text is rendered at the initial text position. 
</span><!-- PR -->
</dd>

<dt><span class="attr-value">middle</span></dt>

<dd class="T">
描画される文字は、描画結果のテキストの幾何的な中央位置が初期の現在のテキスト位置になるように，揃えられる。
<span lang="en">
The rendered characters are aligned such that the geometric middle of the resulting rendered text is at the initial current text position.
</span><!-- PR -->
</dd>
<dt><span class="attr-value">end</span></dt>

<dd class="T">
描画される文字は、描画結果のテキストの終点が初期の現在のテキスト位置になるように，揃えられる。
（ほとんどの欧州言語に典型的な）
<a href="text.html#DirectionProperty"><span class="attr-name">direction</span></a>
プロパティの値が <span class="prop-value">"ltr"</span> の要素に対しては、テキストの右端がテキストの初期位置に描画される。
（アラビア語やヘブライ語に典型的な）
<a href="text.html#DirectionProperty"><span class="attr-name">direction</span></a>
プロパティの値が <span class="prop-value">"rtl"</span> の要素に対しては、テキストの左端がテキストの初期位置に描画される。
（アジア圏のテキストに典型的な）縦書きが主体のテキストの要素に対しては、テキストの下端がテキストの初期位置に描画される。
<span lang="en">
The rendered characters are aligned such that the end of the resulting rendered text is at the initial current text position. For an element with a ‘direction’ property value of "ltr" (typical for most European languages), the right side of the text is rendered at the initial text position. For an element with a ‘direction’ property value of "rtl" (typical for Arabic and Hebrew), the left side of the text is rendered at the initial text position. For an element with a vertical primary text direction (often typical for Asian text), the bottom of the text is rendered at the initial text position.
</span><!-- PR -->
</dd>
</dl>

<h3 title="10.9.2 Baseline alignment properties" id="BaselineAlignmentProperties">10.9.2 基底線整列プロパティ</h3>

<p class="T">
基底線整列と基底線テーブルについての概観は上の
<a href="text.html#FontsTablesBaselines">フォント, フォントテーブル, 基底線</a>
にてすでに述べた。
<span lang="en">
An overview of baseline alignment and baseline tables can be found above in Fonts, font tables and baselines.
</span></p>

<p class="T">
多言語が含まれるテキストの特徴の一つは、異なる用字系のグリフに対し，異なる基底線（異なる整列点）が存在することである。
例えば横書の場合、漢字, 片仮名, 平仮名, ハングルのような表意文字用字系においては，基底線による整列はグリフの下端近くで行われ、ラテン系, キリル文字, ヘブライ語, アラビア語などのアルファベット系の用字系においては，ほとんどのグリフが下端が揃えられる中で一部のグリフの下端は基底線より下に位置し、インド語派用字系においては，グリフの上端近くが揃えられる。
<span lang="en">
One of the characteristics of international text is that there are different baselines (different alignment points) for glyphs in different scripts. For example, in horizontal writing, ideographic scripts, such as Han Ideographs, Katakana, Hiragana, and Hangul, alignment occurs with a baseline near the bottoms of the glyphs; alphabetic based scripts, such as Latin, Cyrillic, Hebrew, Arabic, align a point that is the bottom of most glyphs, but some glyphs descend below the baseline; and Indic based scripts are aligned at a point that is near the top of the glyphs.
</span></p>

<p class="T">
一行のテキストに異なる用字系が混在するとき、異なる用字系に属するグリフが互いに正しく揃えるられように調整されなければならない。
OpenType
[<a href="http://www.microsoft.com/OpenType/OTSpec/">OPENTYPE</a>]
フォントは、現在の基底線から他の基底線へのオフセットを指定する基底線テーブル (BASE)
[<a href="http://www.microsoft.com/OpenType/OTSpec/base.htm">OPENTYPE-BASETABLE</a>]
を持つ。
<span lang="en">
When different scripts are mixed on a line of text, an adjustment must be made to ensure that the glyphs in the different scripts are aligned correctly with one another. OpenType [OPENTYPE] fonts have a Baseline table (BASE) [OPENTYPE-BASETABLE] that specifies the offsets of the alternative baselines from the current baseline.
</span></p>

<p class="T">
SVG における
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の処理では、（一つのフォントサイズの中で）一つの用字系が「支配的部分（ dominant run ）」になっているものとみなす， OpenType に似た基底線テーブルのモデルが用いられる。
すなわち，他のすべての基底線は この支配的部分に相対的なものとして定義される。
支配的部分となる用字系の基底線を
<span class="SVG-Term" title="dominant baseline">支配的基底線</span>
と呼ぶ。
よって、例えば支配的基底線がアルファベット基底線であるならば、表意文字の基底線やインド語派言語の基底線など，他の基底線のためのオフセットが 基底線テーブルに存在することになる。
また、一部の数学用フォントに用いられる数式用基底線のためのオフセットも存在することになる。
横書と縦書モードそれぞれに対し、別々の基底線テーブルがあることに注意。
これらのテーブルにおけるオフセットは、横書と縦書ではそれぞれに異なり得る。
<span lang="en">
SVG uses a similar baseline table model that assumes one script (at one font-size) is the "dominant run" during processing of a ‘text’ element; that is, all other baselines are defined in relation to this dominant run. The baseline of the script with the dominant run is called the dominant baseline. So, for example, if the dominant baseline is the alphabetic baseline, there will be offsets in the baseline table for the alternate baselines, such as the ideographic baseline and the Indic baseline. There will also be an offset for the math baseline which is used for some math fonts. Note that there are separate baseline tables for horizontal and vertical writing-modes. The offsets in these tables may be different for horizontal and vertical writing.
</span></p>

<p class="T">
この、
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の処理開始時点で確立される基底線テーブルのことを
<span class="SVG-Term" title="dominant baseline table">支配的基底線テーブル</span>
と呼ぶ。
<span lang="en">
The baseline table established at the start of processing of a ‘text’ element is called the dominant baseline table.
</span></p>

<p class="T">
<a href="text.html#FontFamilyProperty"><span class="prop-name">font-family</span></a>
プロパティの値はフォントのリストなので、基底線テーブルの選択の一貫性を保証するため、フォントリスト内でグリフが可用な最初のフォントとして， <em>名目上のフォント</em>（ nominal font ）が定義される。
これは、遭遇するそれぞれの文字に対し，そのグリフを持っている最初のフォントである。
（この定義のため、フォントが置換されたり 合成されたりしても，グリフデータが存在するものとみなされる。）この定義により、利用するフォントおよび基底線テーブルの決定を内容から独立に行えることが保証される。
<span class="transNote">【
解り難い定義だが、名目上のフォントとは、要するに各文字に利用されるグリフを複数のフォントから寄せ集めたものというのが訳者の理解である。
】</span>
<span lang="en">
Because the value of the ‘font-family’ property is a list of fonts, to insure a consistent choice of baseline table we define the nominal font in a font list as the first font in the list for which a glyph is available. This is the first font that could contain a glyph for each character encountered. (For this definition, glyph data is assumed to be present if a font substitution is made or if the font is synthesized.) This definition insures a content independent determination of the font and baseline table that is to be used.
</span></p>

<p class="T">
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の
<a href="text.html#FontSizeProperty"><span class="prop-name">font-size</span></a>
プロパティの値は
<span class="SVG-Term" title="dominant baseline table font size">支配的基底線テーブル・フォントサイズ</span>
を確立する。
<span lang="en">
The value of the ‘font-size’ property on the ‘text’ element establishes the dominant baseline table font size.
</span></p>

<p class="T">
このモデルにおいては、各グリフは，グリフが揃えられる基底線を指示する 'alignment-baseline' 値を持つものとみなされる。
（ OpenType 基底線テーブルにおいては 'alignment-baseline' は "Baseline Tag" と呼ばれる。）
<a href="text.html#AlignmentBaselineProperty"><span class="prop-name">alignment-baseline</span></a>
プロパティの初期値には、グリフに結び付けられた基底線識別子が利用される。
<a href="text.html#AlignmentBaselineProperty"><span class="prop-name">alignment-baseline</span></a>
に対する他の値は、用字系の仲間内では特異な "*" のようなグリフに対し，有用になり得る。
<span lang="en">
The model assumes that each glyph has a 'alignment-baseline' value which specifies the baseline with which the glyph is to be aligned. (The 'alignment-baseline' is called the "Baseline Tag" in the OpenType baseline table description.) The initial value of the ‘alignment-baseline’ property uses the baseline identifier associated with the given glyph. Alternate values for ‘alignment-baseline’ can be useful for glyphs such as a "*" which are ambiguous with respect to script membership.
</span></p>

<p class="T">
このモデルにおいては、グリフが描かれるフォントは，
<span class="SVG-Term" title="font baseline table">フォント基底線テーブル</span>
と呼ばれる，基底線テーブルを持つものとみなされる。
この基底線テーブルは、フォントが認知する基底線のそれぞれに対し，点 (0,0) からのデザイン単位で表されるオフセットを持つ。
特に、グリフの点 (0,0) から 'alignment-baseline' で識別される基底線への オフセットを持つ。
<span lang="en">
The model assumes that the font from which the glyph is drawn also has a baseline table, the font baseline table. This baseline table has offsets in units-per-em from the (0,0) point to each of the baselines the font knows about. In particular, it has the offset from the glyph's (0,0) point to the baseline identified by the 'alignment-baseline'.
</span></p>

<p class="T">
基底線テーブルのオフセットの値は、エムを分割した単位を意味する「デザイン単位」（ design units ）で表される。
CSS では、これを
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/fonts.html#unitsperem">"units-per-em"</a>
([<a href="refs.html#ref-CSS2">CSS2</a>], 15.3.4 節)
と呼ぶ。
したがって，現在の
<a href="text.html#FontSizeProperty"><span class="prop-name">font-size</span></a>
は、支配的基底線から他の基底線までの実際のオフセットを決定する際に利用される。
<span lang="en">
The offset values in the baseline table are in "design units" which means fractional units of the EM. CSS calls these "units-per-em" ([CSS2], section 15.3.4). Thus, the current ‘font-size’ is used to determine the actual offset from the dominant baseline to the alternate baselines.
</span></p>

<p class="T">
グリフの整列においては、その 'alignment-baseline' から特定されるグリフの基底線が，支配的基底線テーブルの同じ名前の基底線に揃えられる。
<span lang="en">
The glyph is aligned so that its baseline identified by its 'alignment-baseline' is aligned with the baseline with the same name from the dominant baseline table.
</span></p>

<p class="T">
親の支配的基底線から 'alignment-baseline' により特定される基底線までのオフセットは、支配的基底線テーブルと支配的基底線テーブル・フォントサイズから算出される。
グリフに適用可能なフォント基底線テーブルとフォントサイズが、その特定された基底線からグリフの点 (0,0) までのオフセットの算出に用いられる。
この第二のオフセットが
<a href="text.html#ShiftDirection">シフト方向</a>
における点 (0,0) の位置を得るために，第一のオフセットから引かれる。
２つのオフセットは、基底線テーブルの基底線の値に，適切なフォントサイズの値を掛けて 算出される。
<span lang="en">
The offset from the dominant baseline of the parent to the baseline identified by the 'alignment-baseline' is computed using the dominant baseline table and dominant baseline table font size. The font baseline table and font size applicable to the glyph are used to compute the offset from the identified baseline to the (0,0) point of the glyph. This second offset is subtracted from the first offset to get the position of the (0,0) point in the shift direction. Both offsets are computed by multiplying the baseline value from the baseline table times the appropriate font size value.
</span></p>

<p class="T">
'alignment-baseline' が支配的基底線を指す場合、第一のオフセットはゼロになり，グリフは支配的基底線に揃えられる。
他の基底線を指す場合、グリフはその基底線に揃えられる。
<span lang="en">
If the 'alignment-baseline' identifies the dominant baseline, then the first offset is zero and the glyph is aligned with the dominant baseline; otherwise, the glyph is aligned with the chosen alternate baseline.
</span></p>

<p class="T">
この仕様で用いられる基底線識別子を下に挙げる。
そのうち一部は
<a href="http://www.w3.org/TR/2006/REC-xsl11-20061205/#font-model">XSL で述べられるように</a>
([<a href="refs.html#ref-XSL">XSL</a>], 7.9.1 節)
、フォントに含まれる基底線テーブルから定まる。
残りは以下で述べる他のフォント特性から算出される。
<span lang="en">
The baseline-identifiers below are used in this specification. Some of these are determined by baseline-tables contained in a font as described in XSL ([XSL], section 7.9.1). Others are computed from other font characteristics as described below.
</span></p>

    <dl><dt><b>alphabetic</b></dt><dd>

<p class="T">
この識別子は、ほとんどのアルファベット／シラビックス 用字系で用いられる基底線を指す。
これらには，多くの西欧, 南インド, 東南アジア（非表意文字）の用字系が含まれるが、それらだけには限られない。
<span class="transNote">【 syllabic （シラビックス） — 文字体系の分類の一つ（アブギダ）を指すと思われる】</span>
<span lang="en">
This identifies the baseline used by most alphabetic and syllabic scripts. These include, but are not limited to, many Western, Southern Indic, Southeast Asian (non-ideographic) scripts.
</span></p>

      </dd><dt><b>ideographic</b></dt><dd>

<p class="T">
この識別子は、表意文字の用字系で用いられる基底線を指す。
歴史的な理由により、この基底線は表意文字のエム平方の中心ではなく，下端にある。
"central" 基底線を見よ。
表意文字用字系には、中国語, 日本語, 韓国語, ベトナム字喃
<span class="transNote">【 Vietnamese Chu Nom （チュノム） — 漢字から派生したベトナム古代文字】</span>
などが含まれる。
<span lang="en">
This identifies the baseline used by ideographic scripts. For historical reasons, this baseline is at the bottom of the ideographic EM box and not in the center of the ideographic EM box. See the "central" baseline. The ideographic scripts include Chinese, Japanese, Korean, and Vietnamese Chu Nom.
</span></p>

      </dd><dt><b>hanging</b></dt><dd>

<p class="T">
この識別子は、ある種のインド語派用字系で用いられる基底線を指す。
これらの用字系には、デヴァーナーガリー
<span class="transNote">【 Devanagari — サンスクリットやヒンディー語などの現代インドの諸言語に用いられるアルファベット】</span>
, グルムキー文字
<span class="transNote">【 Gurmukhi — パンジャブ語の表記に用いられる文字】</span>
, ベンガル語（ Bengali ）などが含まれる。
<span lang="en">
This identifies the baseline used by certain Indic scripts. These scripts include Devanagari, Gurmukhi and Bengali.
</span></p>

      </dd><dt><b>mathematical</b></dt><dd>

<p class="T">
この識別子は、数学記号に用いられる基底線を指す。
<span lang="en">
This identifies the baseline used by mathematical symbols.
</span></p>

      </dd><dt><b>central</b></dt><dd>

<p class="T">
この識別子は、エム平方の中心として算出される基底線を表す。
この基底線は text-before-edge と text-after-edge 基底線の中間に位置する。
<span lang="en">
This identifies a computed baseline that is at the center of the EM box. This baseline lies halfway between the text-before-edge and text-after-edge baselines.
</span></p>

        <blockquote>
          <b>注記：</b>

<p class="T">
表意文字フォントに対しては、グリフの整列にこの基底線がよく用いられる。
これは表意文字基底線の代替である。
<span lang="en">
For ideographic fonts, this baseline is often used to align the glyphs; it is an alternative to the ideographic baseline.
</span></p>

        </blockquote>
      </dd><dt><b>middle</b></dt><dd>

<p class="T">
この識別子は、基底線がアルファベット基底線から <b>シフト方向</b>に x-height フォント特性の値の 1/2 のオフセットにあることを表す。
この基底線の位置は、フォントデータまたはフォント特性に "x-height" を持つようなフォントから得られることがある。
"x-height" の 1/2 から算出されてもよい。
これらの情報が無い場合、基底線の位置は "central" 基底線からの近似にしてもよい。
<span lang="en">
This identifies a baseline that is offset from the alphabetic baseline in the shift-direction by 1/2 the value of the x-height font characteristic. The position of this baseline may be obtained from the font data or, for fonts that have a font characteristic for "x-height", it may be computed using 1/2 the "x-height". Lacking either of these pieces of information, the position of this baseline may be approximated by the "central" baseline.
</span></p>

      </dd><dt><b>text-before-edge</b></dt><dd>

<p class="T">
この識別子は、エム平方の before-edge を表す。
この基底線の位置は基底線テーブルの中で指定されたり，計算により得られたりする。
<span lang="en">
This identifies the before-edge of the EM box. The position of this baseline may be specified in the baseline-table or it may be calculated.
</span></p>

        <blockquote>
          <b>注記：</b>

<p class="T">
この基底線は通常アセンダの上端かその周辺に位置するが、グリフの上側に現れるすべてのアセントを包含するとは限らない。
これらのフォントでは "ascent" フォント特性の値が用いられる。
表意文字フォントでは、この基底線は通常「表意文字」基底線から<b>シフト方向</b> に１エムの所に位置する。
しかしながら，一部の表意文字フォントでは、より圧縮された植字を可能にするために，行内進行方向において切り詰められた幅を持つ。
縦書モード専用にデザインされたそのようなフォントが横書モードで用いられた場合、"text-before-edge" 基底線は text-after-edge から１エムより小さい所に位置するかもしれない。
<span lang="en">
The position of this baseline is normally around or at the top of the ascenders, but it may not encompass all accents that can appear above a glyph. For these fonts the value of the "ascent" font characteristic is used. For ideographic fonts, the position of this baseline is normally 1 EM in the shift-direction from the "ideographic" baseline. However, some ideographic fonts have a reduced width in the inline-progression-direction to allow tighter setting. When such a font, designed only for vertical writing-modes, is used in a horizontal writing-mode, the "text-before-edge" baseline may be less than 1 EM from the text-after-edge.
</span></p>

        </blockquote>
      </dd><dt><b>text-after-edge</b></dt><dd>

<p class="T">
この識別子は、エム平方の after-edge を表す。
この基底線の位置は基底線テーブルによって指定されたり，計算によって得られたりする。
<span lang="en">
This identifies the after-edge of the EM box. The position of this baseline may be specified in the baseline-table or it may be calculated.
</span></p>

        <blockquote>
          <b>注記：</b>

<p class="T">
ディセンダを持つフォントでは、この基底線は通常ディセンダの下端, またはその周辺に位置する。
これらのフォントでは "descent" フォント特性の値が用いられる。
表意文字フォントでは、この基底線は通常，「表意文字」基底線に位置する。
<span lang="en">
For fonts with descenders, the position of this baseline is normally around or at the bottom of the descenders. For these fonts the value of the "descent" font characteristic is used. For ideographic fonts, the position of this baseline is normally at the "ideographic" baseline.
</span></p>

        </blockquote>
      </dd></dl>

<p class="T">
これらの他に、計算によって得られる２つの基底線がラインエリア（ line areas ）のためのみに定義されている。
ラインエリアに基づく計算の概念は SVG のサポート外なので、この２つの基底線は次のように置き換えられる：
<span lang="en">
There are, in addition, two computed baselines that are only defined for line areas. Since SVG does not support the notion of computations based on line areas, the two computed baselines are mapped as follows:
</span></p>

    <dl><dt><b>before-edge</b></dt>

<dd class="T">
SVG においては、これは <b>text-before-edge</b> と等価である。
<span lang="en">
For SVG, this is equivalent to text-before-edge.
</span>
</dd>
<dt><b>after-edge</b></dt>

<dd class="T">
SVG においては、これは <b>text-after-edge</b> と等価である。
<span lang="en">
For SVG, this is equivalent to text-after-edge.
</span>
</dd>
</dl>

<p class="T">
４種の基底線が、横書モード専用に定義されている。
<span lang="en">
There are also four baselines that are defined only for horizontal writing-modes.
</span></p>

    <dl><dt><b>top</b></dt><dd>

<p class="T">
横書モードにおいて、この基底線は "before-edge" 基底線と同じであり，縦書モードでは未定義である。
<span lang="en">
This baseline is the same as the "before-edge" baseline in a horizontal writing-mode and is undefined in a vertical writing mode.
</span></p>

      </dd><dt id="TextTopBaselineDefinition"><b>text-top</b></dt><dd>

<p class="T">
横書モードにおいて、この基底線は "text-before-edge" 基底線と同じであり，縦書モードでは未定義である。
<span lang="en">
This baseline is the same as the "text-before-edge" baseline in a horizontal writing-mode and is undefined in a vertical writing mode.
</span></p>

      </dd><dt><b>bottom</b></dt><dd>

<p class="T">
横書モードにおいて、この基底線は "after-edge" 基底線と同じであり，縦書モードでは未定義である。
<span lang="en">
This baseline is the same as the "after-edge" baseline in a horizontal writing-mode and is undefined in a vertical writing mode.
</span></p>

      </dd><dt id="TextBottomBaselineDefinition"><b>text-bottom</b></dt><dd>

<p class="T">
横書モードにおいて、この基底線は "text-after-edge" 基底線と同じであり，縦書モードでは未定義である。
<span lang="en">
This baseline is the same as the "text-after-edge" baseline in a horizontal writing-mode and is undefined in a vertical writing mode.
</span></p>

      </dd></dl>

<p class="T">
以下に基底線整列プロパティを示す。
<span lang="en">
The baseline-alignment properties follow.
</span></p>


    <div class="propdef">
      <dl><dt id="DominantBaselineProperty"><span class="propdef-title prop-name">dominant-baseline</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th><td>auto | use-script | no-change | reset-size | ideographic | alphabetic | hanging | mathematical | central | middle | text-after-edge | text-before-edge |
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a></td></tr>
<tr><th>初期値：</th><td>auto</td></tr>
<tr><th>適用対象：</th><td title="text content elements">
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
</td></tr>
<tr><th>継承：</th><td>されない</td></tr>
<tr><th>百分率：</th><td>N/A</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>可</td></tr></tbody></table>
        </dd></dl>
    </div>

<p class="T">
"dominant-baseline"（支配的基底線）プロパティは拡縮済み基底線テーブル（ scaled-baseline-table ）を設定または再設定する際に用いられる。
拡縮済み基底線テーブルは３つの成分：支配的基底線, 基底線テーブル, 基底線テーブル・フォントサイズから構成される複合値である。
プロパティに指定する値の一部は３つすべての値を再設定する。
他は基底線テーブル・フォントサイズのみを再設定する。
初期値 <span class="prop-value">auto</span> で得られる結果が望ましくない場合、このプロパティを拡縮済み基底線テーブルの上書きに利用できる。
<span lang="en">
The "dominant-baseline" property is used to determine or re-determine a scaled-baseline-table. A scaled-baseline-table is a compound value with three components: a baseline-identifier for the dominant-baseline, a baseline-table and a baseline-table font-size. Some values of the property re-determine all three values; other only re-establish the baseline-table font-size. When the initial value, auto, would give an undesired result, this property can be used to explicitly set the desire scaled-baseline-table.
</span></p>

<p class="T">
このプロパティの値は次のような意味を持つ：
<span lang="en">
Values for the property have the following meaning:
</span></p>

    <dl><dt><span class="attr-value">auto</span></dt><dd>

<p class="T">
このプロパティが
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素に生じた場合、その算出値は
<a href="text.html#WritingModeProperty"><span class="prop-name">writing-mode</span></a>
プロパティの値に依存する。
支配的基底線成分の値は 'writing-mode' が横書ならば 'alphabetic' に, 縦書ならば 'central' になる。
<span lang="en">
If this property occurs on a ‘text’ element, then the computed value depends on the value of the ‘writing-mode’ property. If the 'writing-mode' is horizontal, then the value of the dominant-baseline component is 'alphabetic', else if the 'writing-mode' is vertical, then the value of the dominant-baseline component is 'central'.
</span></p>

<p class="T">
このプロパティが
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>,
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>,
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>,
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
いずれかの要素に生じた場合、支配的基底線成分と基底線テーブル成分は，親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
におけるそれらと同じままにされる。
<a href="text.html#BaselineShiftProperty"><span class="prop-name">baseline-shift</span></a>
の算出値により，実際に基底線がシフトされる場合、基底線テーブル・フォントサイズ成分は
<a href="text.html#DominantBaselineProperty"><span class="prop-name">dominant-baseline</span></a>
プロパティが生じた要素の
<a href="text.html#FontSizeProperty"><span class="prop-name">font-size</span></a>
プロパティの値に設定される。
そうでない場合、基底線テーブル・フォントサイズ成分は，その要素におけるそれと同じままにされる。
親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
が存在しない場合、拡縮済み基底線テーブルの値は上記の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素に対するものと同様にして構築される。
<span lang="en">
If this property occurs on a ‘tspan’, ‘tref’, ‘altGlyph’ or ‘textPath’ element, then the dominant-baseline and the baseline-table components remain the same as those of the parent text content element. If the computed ‘baseline-shift’ value actually shifts the baseline, then the baseline-table font-size component is set to the value of the ‘font-size’ property on the element on which the ‘dominant-baseline’ property occurs, otherwise the baseline-table font-size remains the same as that of the element. If there is no parent text content element, the scaled-baseline-table value is constructed as above for ‘text’ elements.
</span></p>

      </dd><dt><span class="attr-value">use-script</span></dt>

<dd class="T">
支配的基底線成分と基底線テーブル成分は、文字データ内容において支配的な用字系を定めることにより設定される。
横書用か縦書用のどちらの基底線テーブルを利用するかは 'writing-mode' で定められ、基底線テーブルは支配的基底線に対応するものに設定される。
基底線テーブル・フォントサイズ成分は、
<a href="text.html#DominantBaselineProperty"><span class="prop-name">dominant-baseline</span></a>
プロパティが生じた要素の
<a href="text.html#FontSizeProperty"><span class="prop-name">font-size</span></a>
プロパティの値に設定される。
<span lang="en">
The dominant-baseline and the baseline-table components are set by determining the predominant script of the character data content. The ‘writing-mode’, whether horizontal or vertical, is used to select the appropriate set of baseline-tables and the dominant baseline is used to select the baseline-table that corresponds to that baseline. The baseline-table font-size component is set to the value of the ‘font-size’ property on the element on which the ‘dominant-baseline’ property occurs.
</span>
</dd>
<dt><span class="attr-value">no-change</span></dt>

<dd class="T">
支配的基底線, 基底線テーブル, 基底線テーブル・フォントサイズは、親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
のそれらと同じままにされる。
<span lang="en">
The dominant-baseline, the baseline-table, and the baseline-table font-size remain the same as that of the parent text content element.
</span>
</dd>
<dt><span class="attr-value">reset-size</span></dt>

<dd class="T">
支配的基底線と基底線テーブルは同じままだが，基底線テーブル・フォントサイズは、この要素の
<a href="text.html#FontSizeProperty"><span class="prop-name">font-size</span></a>
プロパティの値に変更される。
これにより、現在の
<a href="text.html#FontSizeProperty"><span class="prop-name">font-size</span></a>
に対する基底線テーブルは再拡縮される。
<span lang="en">
The dominant-baseline and the baseline-table remain the same, but the baseline-table font-size is changed to the value of the ‘font-size’ property on this element. This re-scales the baseline-table for the current ‘font-size’.
</span>
</dd>
<dt><span class="attr-value">ideographic</span></dt>

<dd class="T">
支配的基底線を指す基底線識別子が 'ideographic' に設定され, 基底線テーブルは名目上のフォントの 'ideographic' 基底線テーブルを用いて構築され, 基底線テーブル・フォントサイズはこの要素の
<a href="text.html#FontSizeProperty"><span class="prop-name">font-size</span></a>
プロパティの値に変更される。
<span lang="en">
The baseline-identifier for the dominant-baseline is set to be 'ideographic', the derived baseline-table is constructed using the 'ideographic' baseline-table in the nominal font, and the baseline-table font-size is changed to the value of the ‘font-size’ property on this element.
</span>
</dd>
<dt><span class="attr-value">alphabetic</span></dt>

<dd class="T">
支配的基底線を指す基底線識別子が 'alphabetic' に設定され, 基底線テーブルは名目上のフォントの 'alphabetic' 基底線テーブルを用いて構築され, 基底線テーブル・フォントサイズはこの要素の
<a href="text.html#FontSizeProperty"><span class="prop-name">font-size</span></a>
プロパティの値に変更される。
<span lang="en">
The baseline-identifier for the dominant-baseline is set to be 'alphabetic', the derived baseline-table is constructed using the 'alphabetic' baseline-table in the nominal font, and the baseline-table font-size is changed to the value of the ‘font-size’ property on this element.
</span>
</dd>
<dt><span class="attr-value">hanging</span></dt>

<dd class="T">
支配的基底線を指す基底線識別子は 'hanging' に設定され, 基底線テーブルは名目上のフォントの 'hanging' 基底線テーブルを用いて構築され, 基底線テーブル・フォントサイズはこの要素の
<a href="text.html#FontSizeProperty"><span class="prop-name">font-size</span></a>
プロパティの値に変更される。
<span lang="en">
The baseline-identifier for the dominant-baseline is set to be 'hanging', the derived baseline-table is constructed using the 'hanging' baseline-table in the nominal font, and the baseline-table font-size is changed to the value of the ‘font-size’ property on this element.
</span>
</dd>
<dt><span class="attr-value">mathematical</span></dt>

<dd class="T">
支配的基底線を指す基底線識別子が 'mathematical' に設定され, 基底線テーブルは名目上のフォントの 'mathematical' 基底線テーブルを用いて構築され, 基底線テーブル・フォントサイズはこの要素の
<a href="text.html#FontSizeProperty"><span class="prop-name">font-size</span></a>
プロパティの値に変更される。
<span lang="en">
The baseline-identifier for the dominant-baseline is set to be 'mathematical', the derived baseline-table is constructed using the 'mathematical' baseline-table in the nominal font, and the baseline-table font-size is changed to the value of the ‘font-size’ property on this element.
</span>
</dd>
<dt><span class="attr-value">central</span></dt>

<dd class="T">
支配的基底線を指す基底線識別子が 'central' に設定され, 基底線テーブルは名目上のフォントの基底線テーブルで定義された基底線たちから構築される。
そのフォント基底線テーブルは基底線テーブル名：
'ideographic', 'alphabetic', 'hanging', 'mathematical'
から、この順の優先順位で選択される。
基底線テーブル・フォントサイズは、この要素の
<a href="text.html#FontSizeProperty"><span class="prop-name">font-size</span></a>
プロパティの値に変更される。
<span lang="en">
The baseline-identifier for the dominant-baseline is set to be 'central'. The derived baseline-table is constructed from the defined baselines in a baseline-table in the nominal font. That font baseline-table is chosen using the following priority order of baseline-table names: 'ideographic', 'alphabetic', 'hanging', 'mathematical'. The baseline-table font-size is changed to the value of the ‘font-size’ property on this element.
</span>
</dd>
<dt><span class="attr-value">middle</span></dt>

<dd class="T">
支配的基底線を指す基底線識別子は 'middle' に設定される。
基底線テーブルは名目上のフォントの基底線テーブルで定義された基底線たちから構築される。
そのフォント基底線テーブルは基底線テーブル名：
'ideographic', 'alphabetic', 'hanging', 'mathematical'
から、この順の優先順位で選択される。
基底線テーブル・フォントサイズはこの要素の
<a href="text.html#FontSizeProperty"><span class="prop-name">font-size</span></a>
プロパティの値に変更される。
.
<span lang="en">
The baseline-identifier for the dominant-baseline is set to be 'middle'. The derived baseline-table is constructed from the defined baselines in a baseline-table in the nominal font. That font baseline -table is chosen using the following priority order of baseline-table names: 'alphabetic', 'ideographic', 'hanging', 'mathematical'. The baseline-table font-size is changed to the value of the ‘font-size’ property on this element.
</span>
</dd>
<dt><span class="attr-value">text-after-edge</span></dt>
<dd>

<p class="T">
支配的基底線を指す基底線識別子は 'text-after-edge' に設定される。
基底線テーブルは名目上のフォントの基底線テーブルで定義された基底線たちから構築される。
名目上のフォントのどのフォント基底線テーブルを用いるかは実装依存である。
基底線テーブル・フォントサイズはこの要素の
<a href="text.html#FontSizeProperty"><span class="prop-name">font-size</span></a>
プロパティの値に変更される。
<span lang="en">
The baseline-identifier for the dominant-baseline is set to be 'text-after-edge'. The derived baseline-table is constructed from the defined baselines in a baseline-table in the nominal font. The choice of which font baseline-table to use from the baseline-tables in the nominal font is implementation defined. The baseline-table font-size is changed to the value of the ‘font-size’ property on this element.
</span></p>

<p class="T">
注記：基底線テーブル名に次の優先順位：
'alphabetic', 'ideographic', 'hanging', 'mathematical'
を用いるのは、どのフォント基底線テーブルを用いるかを決める上でおそらく妥当な選択になる。
<span lang="en">
NOTE: using the following priority order of baseline-table names: 'alphabetic', 'ideographic', 'hanging', 'mathematical' is probably a reasonable strategy for determining which font baseline-table to use.
</span></p>
</dd>
<dt><span class="attr-value">text-before-edge</span></dt>
<dd>

<p class="T">
支配的基底線を指す基底線識別子は 'text-before-edge' に設定される。
基底線テーブルは名目上のフォントの基底線テーブルで定義された基底線たちから構築される。
名目上のフォントのどのフォント基底線テーブルを用いるかは実装依存である。
基底線テーブル・フォントサイズはこの要素の
<a href="text.html#FontSizeProperty"><span class="prop-name">font-size</span></a>
プロパティの値に変更される。
<span lang="en">
The baseline-identifier for the dominant-baseline is set to be 'text-before-edge'. The derived baseline-table is constructed from the defined baselines in a baseline-table in the nominal font. The choice of which baseline-table to use from the baseline-tables in the nominal font is implementation defined. The baseline-table font-size is changed to the value of the ‘font-size’ property on this element.
</span></p>

<p class="T">
注記：基底線テーブル名に次の優先順位：
'alphabetic', 'ideographic', 'hanging', 'mathematical'
を用いるのは、どのフォント基底線テーブルを用いるかを決める上でおそらく妥当な選択になる。
<span lang="en">
NOTE: Using the following priority order of baseline-table names: 'alphabetic', 'ideographic', 'hanging', 'mathematical' is probably a reasonable strategy for determining which font baseline-table to use.
</span></p>

</dd>
</dl>

<p class="T">
もし，名目上のフォントに基底線テーブルが存在しない, または基底線テーブルの中に望まれる基底線エントリが欠けていた場合、 UA は必要な基底線の位置を決定する際に経験的手法を用いてよい。
<span lang="en">
If there is no baseline table in the nominal font or if the baseline table lacks an entry for the desired baseline, then the user agent may use heuristics to determine the position of the desired baseline.
</span></p>


    <div class="propdef">
      <dl><dt id="AlignmentBaselineProperty"><span class="propdef-title prop-name">alignment-baseline</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th><td>auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical |
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a></td></tr>
<tr><th>初期値：</th><td>auto</td></tr>
<tr><th>適用対象：</th><td title="‘tspan’, ‘tref’, ‘altGlyph’, ‘textPath’ elements">
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>,
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>,
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>,
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
要素
</td></tr>
<tr><th>継承：</th><td>されない</td></tr>
<tr><th>百分率：</th><td>N/A</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>可</td></tr></tbody></table>
        </dd></dl>
    </div>

<p class="T">
このプロパティは、親に対してオブジェクトをどのように揃えるかを指定する。
このプロパティは、この要素のどの基底線を 親の対応する基底線に対し揃えるか，を指定する。
例えば、ローマ字テキストにおけるアルファベット基底線を フォントサイズの変化の中で揃えることを可能にする。
これは基底線の既定値を alignment-baseline プロパティの算出値と同じ名前にする。
つまり、<b>ブロック進行方向</b>における "ideographic" 整列点は 揃えられるオブジェクトの基底線テーブルの "ideographic" 基底線上にあることを意味する。
<span lang="en">
This property specifies how an object is aligned with respect to its parent. This property specifies which baseline of this element is to be aligned with the corresponding baseline of the parent. For example, this allows alphabetic baselines in Roman text to stay aligned across font size changes. It defaults to the baseline with the same name as the computed value of the alignment-baseline property. That is, the position of "ideographic" alignment-point in the block-progression-direction is the position of the "ideographic" baseline in the baseline-table of the object being aligned.
</span></p>

<p class="T">
それぞれの値は次の意味を持つ：
<span lang="en">
Values have the following meanings:
</span></p>

    <dl><dt><b>auto</b></dt>

<dd class="T">
この値は文字が属する用字系の支配的基底線を指す — すなわち、親の支配的基底線を用いる。
<span lang="en">
The value is the dominant-baseline of the script to which the character belongs - i.e., use the dominant-baseline of the parent.
</span>
</dd>
<dt><b>baseline</b></dt>

<dd class="T">
オブジェクトの整列点は親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
の支配的基底線に揃えられる。
<span lang="en">
The alignment-point of the object being aligned is aligned with the dominant-baseline of the parent text content element.
</span>
</dd>
<dt><b>before-edge</b></dt>

<dd class="T">
オブジェクトの整列点は親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
の "before-edge" 基底線に揃えられる
<span lang="en">
The alignment-point of the object being aligned is aligned with the "before-edge" baseline of the parent text content element.
</span>
</dd>
<dt><b>text-before-edge</b></dt>

<dd class="T">
オブジェクトの整列点は親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
の" text-before-edge" 基底線に揃えられる。
<span lang="en">
The alignment-point of the object being aligned is aligned with the "text-before-edge" baseline of the parent text content element.
</span>
</dd>
<dt><b>middle</b></dt>

<dd class="T">
オブジェクトの整列点は親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
の "middle" 基底線に揃えられる。
<span lang="en">
The alignment-point of the object being aligned is aligned with the "middle" baseline of the parent text content element.
</span>
</dd>
<dt><b>central</b></dt>

<dd class="T">
オブジェクトの整列点は親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
の "central" 基底線に揃えられる。
<span lang="en">
The alignment-point of the object being aligned is aligned with the "central" baseline of the parent text content element.
</span>
</dd>
<dt><b>after-edge</b></dt>

<dd class="T">
オブジェクトの整列点は親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
の "after-edge" 基底線に揃えられる。
<span lang="en">
The alignment-point of the object being aligned is aligned with the "after-edge" baseline of the parent text content element.
</span>
</dd>
<dt><b>text-after-edge</b></dt>

<dd class="T">
オブジェクトの整列点は親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
の "text-after-edge" 基底線に揃えられる。
<span lang="en">
The alignment-point of the object being aligned is aligned with the "text-after-edge" baseline of the parent text content element.
</span>
</dd>
<dt><b>ideographic</b></dt>

<dd class="T">
オブジェクトの整列点は親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
の "ideographic" 基底線に揃えられる。
<span lang="en">
The alignment-point of the object being aligned is aligned with the "ideographic" baseline of the parent text content element.
</span>
</dd>
<dt><b>alphabetic</b></dt>

<dd class="T">
オブジェクトの整列点は親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
の "alphabetic" 基底線に揃えられる。
<span lang="en">
The alignment-point of the object being aligned is aligned with the "alphabetic" baseline of the parent text content element.
</span>
</dd>
<dt><b>hanging</b></dt>

<dd class="T">
オブジェクトの整列点は親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
の "hanging" 基底線に揃えられる。
<span lang="en">
The alignment-point of the object being aligned is aligned with the "hanging" baseline of the parent text content element.
</span>
</dd>
<dt><b>mathematical</b></dt>

<dd class="T">
オブジェクトの整列点は親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
の "mathematical" 基底線に揃えられる。
<span lang="en">
The alignment-point of the object being aligned is aligned with the "mathematical" baseline of the parent text content element.
</span>
</dd>
</dl>

    <div class="propdef">
      <dl><dt id="BaselineShiftProperty"><span class="propdef-title prop-name">baseline-shift</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th><td>baseline | sub | super |
<a href="types.html#DataTypePercentage">&lt;percentage&gt;</a>
|
<a href="types.html#DataTypeLength">&lt;length&gt;</a>
|
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a></td></tr>
<tr><th>初期値：</th><td>baseline</td></tr>
<tr><th>適用対象：</th><td title="‘tspan’, ‘tref’, ‘altGlyph’, ‘textPath’ elements">
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>,
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>,
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>,
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
要素
</td></tr>
<tr><th>継承：</th><td>されない</td></tr>
<tr><th>百分率：</th>
<td title="refers to the &quot;line-height&quot; of the ‘text’ element, which in the case of SVG is defined to be equal to the ‘font-size’">
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の "line-height" を参照する。
SVG においては
<a href="text.html#FontSizeProperty"><span class="prop-name">font-size</span></a>
と同じになるものと定義される。
</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>可</td></tr></tbody></table>
        </dd></dl>
    </div>

<p class="T">
<a href="text.html#BaselineShiftProperty"><span class="prop-name">baseline-shift</span></a>
プロパティは 支配的基底線を親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
の支配的基底線に相対的に再配置させることを可能にする。
シフトされたオブジェクトは 下付または上付文字であることが想定される。
シフトされたオブジェクトにおいては、１本の基底線だけでなく，基底線テーブル全体がオフセットされる。
シフトされる量は、親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>,
親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
の名目上のフォントによる下付または上付文字のオフセット, 親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
の "line-height" の百分率, 絶対的な値，のいずれかからの情報を基に決定される。
<span lang="en">
The ‘baseline-shift’ property allows repositioning of the dominant-baseline relative to the dominant-baseline of the parent text content element. The shifted object might be a sub- or superscript. Within the shifted object, the whole baseline-table is offset; not just a single baseline. The amount of the shift is determined from information from the parent text content element, the sub- or superscript offset from the nominal font of the parent text content element, percent of the "line-height" of the parent text content element or an absolute value.
</span></p>

<p class="T">
SVG においては、
<a href="text.html#BaselineShiftProperty"><span class="prop-name">baseline-shift</span></a>
プロパティは 基底線テーブルに対する追加の調整を表す。
<a href="text.html#BaselineShiftProperty"><span class="prop-name">baseline-shift</span></a>
プロパティは、例えばグリフを上付または下付文字の位置に上下させるなど，各グリフに対する基底線テーブルを一時的に新たな位置にシフトする。
しかしながら、現在のテキスト位置には影響しない。
各グリフの描画後における，グリフのアドバンス値による 現在のテキスト位置の調整は、基底線のシフトが無かったかのように行われる。
<span lang="en">
In SVG, the ‘baseline-shift’ property represents a supplemental adjustment to the baseline tables. The ‘baseline-shift’ property shifts the baseline tables for each glyph to temporary new positions, for example to lift the glyph into superscript or subscript position, but it does not effect the current text position. When the current text position is adjusted after rendering a glyph to take into account glyph advance values, the adjustment happens as if there were no baseline shift.
</span></p>

<p class="T">
<a href="text.html#BaselineShiftProperty"><span class="prop-name">baseline-shift</span></a>
プロパティは入れ子にできる。
入れ子にされた各
<a href="text.html#BaselineShiftProperty"><span class="prop-name">baseline-shift</span></a>
は、前の基底線のシフト量に加えられる。
<span lang="en">
‘baseline-shift’ properties can nest. Each nested ‘baseline-shift’ is added to previous baseline shift values.
</span></p>

<p class="T">
このプロパティの値は次の意味を持つ：
<span lang="en">
Values for the property have the following meaning:
</span></p>

    <dl><dt><strong>baseline</strong></dt>

<dd class="T">
基底線のシフトを行わない。
支配的基底線は元の位置のままになる。
<span lang="en">
There is no baseline shift; the dominant-baseline remains in its original position.
</span>
</dd>
<dt><strong>sub</strong></dt>

<dd class="T">
支配的基底線は下付文字に対する既定の位置へシフトされる。
この位置へのオフセットは 名目上のフォントに対するフォントデータにより決まる。
ほとんどのフォントでは，下付文字の位置は 通常， "alphabetic" 基底線に相対的なものとして与えられるので、他の基底線が支配的な場合， UA は下付文字に対する実効的な位置を計算してもよい。
考えられる計算としては、支配的基底線の位置と "alphabetic" 基底線の位置との差分を下付文字の位置から引くことが挙げられる。
結果のオフセットは、実効的な下付文字の位置に 支配的基底線テーブル・フォントサイズを掛けることにより決定される。
もし適用可能なフォントデータが無い場合、 UA はそのオフセットを決定する際に経験的手法を用いてよい。
<span lang="en">
The dominant-baseline is shifted to the default position for subscripts. The offset to this position is determined using the font data for the nominal font. Because in most fonts the subscript position is normally given relative to the "alphabetic" baseline, the user agent may compute the effective position for subscripts for superscripts when some other baseline is dominant. The suggested computation is to subtract the difference between the position of the dominant baseline and the position of the "alphabetic" baseline from the position of the subscript. The resulting offset is determined by multiplying the effective subscript position by the dominant baseline-table font-size. If there is no applicable font data the user agent may use heuristics to determine the offset.
</span>
</dd>
<dt><strong>super</strong></dt>

<dd class="T">
支配的基底線は上付文字に対する既定の位置にシフトされる。
この位置へのオフセットは名目上のフォントに対するフォントデータにより定まる。
ほとんどのフォントでは，上付文字の位置は通常 "アルファベット" 基底線に相対的なものとして与えられるので、他の基底線が支配的な場合， UA は上付文字に対する実効的な位置を計算してよい。
考えられる計算としては、支配的基底線の位置と "アルファベット" 基底線の位置との差分を上付文字の位置から引くことが挙げられる。
結果のオフセットは実効的な上付文字の位置に支配的基底線テーブル・フォントサイズを掛けることにより決定される。
もし適用可能なフォントデータが無い場合、 UA はそのオフセットを決定する際に経験的手法を用いてよい。
<span lang="en">
The dominant-baseline is shifted to the default position for superscripts. The offset to this position is determined using the font data for the nominal font. Because in most fonts the superscript position is normally given relative to the "alphabetic" baseline, the user agent may compute the effective position for superscripts when some other baseline is dominant. The suggested computation is to subtract the difference between the position of the dominant baseline and the position of the "alphabetic" baseline from the position of the superscript. The resulting offset is determined by multiplying the effective superscript position by the dominant baseline-table font-size. If there is no applicable font data the user agent may use heuristics to determine the offset.
</span>
</dd>
<dt><strong>&lt;percentage&gt;</strong></dt>

<dd class="T">
このプロパティの算出値は
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素から算出される "line-height" に対しこの百分率を掛けることにより得られる。
支配的基底線は親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
の
<a href="text.html#ShiftDirection">シフト方向</a>
（正値の場合）または
<a href="text.html#ShiftDirection">シフト方向</a>
の反対方向（負値の場合）へ算出値の分だけシフトされる。
値 "0%" は "baseline" を指定するのと同じになる。
<span lang="en">
The computed value of the property is this percentage multiplied by the computed "line-height" of the ‘text’ element. The dominant-baseline is shifted in the shift direction (positive value) or opposite to the shift direction (negative value) of the parent text content element by the computed value. A value of "0%" is equivalent to "baseline".
</span>
</dd>
<dt><strong>&lt;length&gt;</strong></dt>

<dd class="T">
支配的基底線は親の
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
の
<a href="text.html#ShiftDirection">シフト方向</a>
（正値の場合）または
<a href="text.html#ShiftDirection">シフト方向</a>
の反対方向（負値の場合）へ &lt;length&gt; の値だけシフトされる。
値 "0cm" は "baseline" を指定するのと同じになる。
<span lang="en">
The dominant-baseline is shifted in the shift direction (positive value) or opposite to the shift direction (negative value) of the parent text content element by the &lt;length&gt; value. A value of "0cm" is equivalent to "baseline".
</span>
</dd>
</dl>

<h2 title="10.10 Font selection properties" id="FontPropertiesUsedBySVG">10.10 フォント選択プロパティ</h2>

<p class="T">
SVG は次のフォント指定プロパティを用いる。
この仕様で与える追加の情報を除き、
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/fonts.html#font-specification">これらのプロパティの正式な定義</a>
は CSS2 
([<a href="refs.html#ref-CSS2">CSS2</a>], 15.2 節)
で与えられる。
これらのプロパティについての SVG 特有の注意点は下で述べられる。
<span lang="en">
SVG uses the following font specification properties. Except for any additional information provided in this specification, the normative definition of these properties is in CSS2 ([CSS2], chapter section 15.2). Any SVG-specific notes about these properties are contained in the descriptions below.
</span></p>

<p class="T">
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/about.html#property-defs">CSS プロパティ値の構文表記規則</a>
([<a href="refs.html#ref-CSS2">CSS2</a>], 1.3.2 節)
も参照のこと。
<span lang="en">
Note also the rules for expressing the syntax of CSS property values ([CSS2], section 1.3.2).
</span></p>

    <div class="propdef">
      <dl><dt id="FontFamilyProperty"><span class="propdef-title prop-name">font-family</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th>
<td>[[ &lt;family-name&gt; | &lt;generic-family&gt; ],]*<br />
[&lt;family-name&gt; | &lt;generic-family&gt;] |
<a class="noxref" href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a>
</td></tr>
<tr><th>初期値：</th><td>depends on user agent</td></tr>
<tr><th>適用対象：</th><td title="text content elements">
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
</td></tr>
<tr><th>継承：</th><td>される</td></tr>
<tr><th>百分率：</th><td>N/A</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>可</td></tr></tbody></table>
        </dd></dl>
    </div>

<p class="T">
このプロパティは、テキストの描画にどのフォントファミリを用いるかを，フォントファミリ名／一般ファミリ名の優先順位付きのリストとして指示する。
ファミリ名は CSS IDENT に対応するものでない限り、引用符で括られなければならない。
この仕様で与える追加の情報を除き、
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/fonts.html#propdef-font-family">このプロパティの正式な定義</a>
は CSS2
([<a href="refs.html#ref-CSS2">CSS2</a>], 15.2.2 節)
で与えられる。
<span lang="en">
This property indicates which font family is to be used to render the text, specified as a prioritized list of font family names and/or generic family names. Unless the family name corresponds to a CSS IDENT, it must be quoted. Except for any additional information provided in this specification, the normative definition of the property is in CSS2 ([CSS2], section 15.2.2).
</span></p>


    <div class="propdef">
      <dl><dt id="FontStyleProperty"><span class="propdef-title prop-name">font-style</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th>
<td>normal | italic | oblique |
<a class="noxref" href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a>
</td></tr>
<tr><th>初期値：</th><td>normal</td></tr>
<tr><th>適用対象：</th><td title="text content elements">
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
</td></tr>
<tr><th>継承：</th><td>される</td></tr>
<tr><th>百分率：</th><td>N/A</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>可</td></tr></tbody></table>
        </dd></dl>
    </div>

<p class="T">
このプロパティは、テキストの描画に normal, italic, oblique （標準, イタリック, 斜体）のうちどの書体を用いるかを指示する。
この仕様で与える追加の情報を除き、
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/fonts.html#propdef-font-style">このプロパティの正式な定義</a>
は CSS2
([<a href="refs.html#ref-CSS2">CSS2</a>], 15.2.3 節)
で与えられる。
<span lang="en">
This property specifies whether the text is to be rendered using a normal, italic or oblique face. Except for any additional information provided in this specification, the normative definition of the property is in CSS2 ([CSS2], section 15.2.3).
</span></p>


    <div class="propdef">
      <dl><dt id="FontVariantProperty"><span class="propdef-title prop-name">font-variant</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th>
<td>normal | small-caps |
<a class="noxref" href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a>
</td></tr>
<tr><th>初期値：</th><td>normal</td></tr>
<tr><th>適用対象：</th><td title="text content elements">
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
</td></tr>
<tr><th>継承：</th><td>される</td></tr>
<tr><th>百分率：</th><td>N/A</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>可</td></tr></tbody></table>
        </dd></dl>
    </div>

<p class="T">
このプロパティは、小文字のテキストの描画に normal, small-caps のどちらのグリフを用いるかを指示する。
この仕様で与える追加の情報を除き、
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/fonts.html#propdef-font-variant">このプロパティの正式な定義</a>
は CSS2
([<a href="refs.html#ref-CSS2">CSS2</a>], 15.2.3 節)
で与えられる。
<span lang="en">
This property indicates whether the text is to be rendered using the normal glyphs for lowercase characters or using small-caps glyphs for lowercase characters. Except for any additional information provided in this specification, the normative definition of the property is in CSS2 ([CSS2], section 15.2.3).
</span></p>


    <div class="propdef">
      <dl><dt id="FontWeightProperty"><span class="propdef-title prop-name">font-weight</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th>
<td>normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 |
<a class="noxref" href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a>
</td></tr>
<tr><th>初期値：</th><td>normal</td></tr>
<tr><th>適用対象：</th><td title="text content elements">
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
</td></tr>
<tr><th>継承：</th><td>される</td></tr>
<tr><th>百分率：</th><td>N/A</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>可</td></tr></tbody></table>
        </dd></dl>
    </div>

<p class="T">
このプロパティは、テキストの描画に用いられるグリフに対する，同じフォントファミリ内における相対的な太さまたは細さを指示する。
この仕様で与える追加の情報を除き、
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/fonts.html#propdef-font-weight">このプロパティの正式な定義</a>
は CSS2
([<a href="refs.html#ref-CSS2">CSS2</a>], 15.2.3 節)
で与えられる。
<span lang="en">
This property refers to the boldness or lightness of the glyphs used to render the text, relative to other fonts in the same font family. Except for any additional information provided in this specification, the normative definition of the property is in CSS2 ([CSS2], section 15.2.3).
</span></p>


    <div class="propdef">
      <dl><dt id="FontStretchProperty"><span class="propdef-title prop-name">font-stretch</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th>
<td>normal | wider | narrower | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded |
<a class="noxref" href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a>
</td></tr>
<tr><th>初期値：</th><td>normal</td></tr>
<tr><th>適用対象：</th><td title="text content elements">
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
</td></tr>
<tr><th>継承：</th><td>される</td></tr>
<tr><th>百分率：</th><td>N/A</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>可</td></tr></tbody></table>
        </dd></dl>
    </div>

<p class="T">
このプロパティは、テキストの描画に用いられるグリフに対する，圧縮または伸張の望ましい量を指示する。
この仕様で与える追加の情報を除き、
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/fonts.html#propdef-font-stretch">このプロパティの正式な定義</a>
は CSS2
([<a href="refs.html#ref-CSS2">CSS2</a>], 15.2.3 節)
で与えられる。
<span lang="en">
This property indicates the desired amount of condensing or expansion in the glyphs used to render the text. Except for any additional information provided in this specification, the normative definition of the property is in CSS2 ([CSS2], section 15.2.3).
</span></p>


    <div class="propdef">
      <dl><dt id="FontSizeProperty"><span class="propdef-title prop-name">font-size</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th>
<td>&lt;absolute-size&gt; | &lt;relative-size&gt; | &lt;length&gt; | &lt;percentage&gt; |
<a class="noxref" href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a>
</td></tr>
<tr><th>初期値：</th><td>medium</td></tr>
<tr><th>適用対象：</th><td title="text content elements">
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
</td></tr>
<tr><th>継承：</th><td title="yes, the computed value is inherited">される — 算出値が継承される</td></tr>
<tr><th>百分率：</th><td title="refer to parent element's font size">親要素のフォントサイズを参照する</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>可</td></tr></tbody></table>
        </dd></dl>
    </div>

<p class="T">
このプロパティは、複数行配置環境において複数行のテキストがべた組みにされるときの，隣合う行の基底線の間隔として、フォントのサイズを指示する。
SVG においては <span class="prop-value">&lt;length&gt;</span> が単位識別子無しで与えられた場合（例えば <span class="attr-value">128</span> のような計量の無い数）、 SVG-UA は <span class="prop-value">&lt;length&gt;</span> を現在の利用座標系における高さの値として処理する。
<span lang="en">
This property refers to the size of the font from baseline to baseline when multiple lines of text are set solid in a multiline layout environment. For SVG, if a &lt;length&gt; is provided without a unit identifier (e.g., an unqualified number such as 128), the SVG user agent processes the &lt;length&gt; as a height value in the current user coordinate system.
</span></p>

<p class="T">
<span class="prop-value">&lt;length&gt;</span>が
<a href="coords.html#UnitIdentifiers">単位識別子</a>
付きで与えられた場合（例えば <span class="attr-value">12pt</span> や <span class="attr-value">10%</span> ）、 SVG-UA は <span class="prop-value">&lt;length&gt;</span> を
<a href="coords.html#Units">単位</a>
で述べられている規則を適用して 現在の利用座標系の対応する値に変換する。
<span lang="en">
If a &lt;length&gt; is provided with one of the unit identifiers (e.g., 12pt or 10%), then the SVG user agent converts the &lt;length&gt; into a corresponding value in the current user coordinate system by applying the rules described in Units.
</span></p>

<p class="T">
この仕様で与える追加の情報を除き、
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/fonts.html#propdef-font-size">このプロパティの正式な定義</a>
は CSS2
([<a href="refs.html#ref-CSS2">CSS2</a>], 15.2.4 節)
で与えられる。
<span lang="en">
Except for any additional information provided in this specification, the normative definition of the property is in CSS2 ([CSS2], section 15.2.4).
</span></p>


    <div class="propdef">
      <dl><dt id="FontSizeAdjustProperty"><span class="propdef-title prop-name">font-size-adjust</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th>
<td>&lt;number&gt; | none |
<a class="noxref" href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a>
</td></tr>
<tr><th>初期値：</th><td>none</td></tr>
<tr><th>適用対象：</th><td title="text content elements">
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
</td></tr>
<tr><th>継承：</th><td>される</td></tr>
<tr><th>百分率：</th><td>N/A</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>可（非加法的）</td></tr></tbody></table>
        </dd></dl>
    </div>

<p class="T">
このプロパティは、文書作成者が，置換フォントとして最初に選ばれるフォントの x-height を維持するように，要素に対する縦横比を指定できるようにする。

この仕様で与える追加の情報を除き、
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/fonts.html#propdef-font-size-adjust">このプロパティの正式な定義</a>
は CSS2
([<a href="refs.html#ref-CSS2">CSS2</a>], 15.2.4 節)
で与えられる。
<span lang="en">
This property allows authors to specify an aspect value for an element that will preserve the x-height of the first choice font in a substitute font. Except for any additional information provided in this specification, the normative definition of the property is in CSS2 ([CSS2], section 15.2.4).
</span></p>


    <div class="propdef">
      <dl><dt id="FontProperty"><span class="propdef-title prop-name">font</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th>
<td>[ [ <span class="propinst-font-style">&lt;'font-style'&gt;</span>
|| <span class="propinst-font-variant">&lt;'font-variant'&gt;</span>
|| <span class="propinst-font-weight">&lt;'font-weight'&gt;</span>
]?<br />
&lt;'font-size'&gt; [ / &lt;'line-height'&gt; ]? &lt;'font-family'&gt; ] |<br />
caption | icon | menu | message-box | small-caption | status-bar |
<a class="noxref" href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a></td></tr>
<tr><th>初期値：</th><td title="see individual properties">個々のプロパティを見よ</td></tr>
<tr><th>適用対象：</th><td title="text content elements">
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
</td></tr>
<tr><th>継承：</th><td>される</td></tr>
<tr><th>百分率：</th><td title="allowed on 'font-size' and 'line-height' (Note: for the purposes of processing the ‘font’ property in SVG, 'line-height' is assumed to be equal the value for property ‘font-size’)">
'font-size' と 'line-height' でのみ許される（注記： SVG における
<a href="text.html#FontProperty"><span class="prop-name">font</span></a>
プロパティの処理目的においては、'line-height' は
<a href="text.html#FontSizeProperty"><span class="prop-name">font-size</span></a>
プロパティの値に等しいものとみなされる。）
</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>可（非加法的）</td></tr></tbody></table>
        </dd></dl>
    </div>

<p class="T">
<a href="text.html#FontStyleProperty"><span class="prop-name">font-style</span></a>,
<a href="text.html#FontVariantProperty"><span class="prop-name">font-variant</span></a>,
<a href="text.html#FontWeightProperty"><span class="prop-name">font-weight</span></a>,
<a href="text.html#FontSizeProperty"><span class="prop-name">font-size</span></a>,
<span class="prop-name">line-height</span>,
<a href="text.html#FontFamilyProperty"><span class="prop-name">font-family</span></a>
を設定するための簡略記述プロパティ。

SVG においては、 <span class="prop-name">line-height</span> プロパティは，テキスト配置に何の影響も与えない。
<a href="text.html#FontProperty"><span class="prop-name">font</span></a>
プロパティの処理においては、 <span class="prop-name">line-height</span> は
<a href="text.html#FontSizeProperty"><span class="prop-name">font-size</span></a>
プロパティの値に等しいものとみなされる。
<a href="conform.html#ConformingSVGViewers">適合 SVG ビューア</a>
には 種々のシステムフォントのオプション
（ caption, icon, menu, message-box, small-caption, status-bar ）
のサポートは要求されておらず、システムフォントあるいは一般フォント（ generic font ）の一つで代用してよい。
<span lang="en">
Shorthand property for setting ‘font-style’, ‘font-variant’, ‘font-weight’, ‘font-size’, ‘line-height’ and ‘font-family’. The ‘line-height’ property has no effect on text layout in SVG. For the purposes of the ‘font’ property, ‘line-height’ is assumed to be equal to the value of the ‘font-size’ property. Conforming SVG Viewers are not required to support the various system font options (caption, icon, menu, message-box, small-caption and status-bar) and can use a system font or one of the generic fonts instead.
</span></p>

<p class="T">
この仕様で与える追加の情報を除き、
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/fonts.html#propdef-font">このプロパティの正式な定義</a>
は CSS2
([<a href="refs.html#ref-CSS2">CSS2</a>], 15.2.5 節)
で与えられる。
<span lang="en">
Except for any additional information provided in this specification, the normative definition of the property is in CSS2 ([CSS2], section 15.2.5).
</span></p>


<h2 title="10.11 Spacing properties" id="SpacingProperties">10.11 間隔調整プロパティ</h2>

<p class="T">
文字や単語の間隔に影響する３つのプロパティがある：
<span lang="en">
Three properties affect the space between characters and words:
</span></p>

    <ul>

<li class="T">
<a href="text.html#KerningProperty"><span class="prop-name">kerning</span></a>
は、 UA がフォントのカーニングテーブルに基づくグリフの間隔調整（すなわち自動カーニング）をすべきか, あるいは自動カーニングをやめて間隔を特定の長さ（概してゼロにされる）に設定するかどうかを指示する。
<span lang="en">
‘kerning’ indicates whether the user agent should adjust inter-glyph spacing based on kerning tables that are included in the relevant font (i.e., enable auto-kerning) or instead disable auto-kerning and instead set inter-character spacing to a specific length (typically, zero).
</span></li>

<li class="T">
<a href="text.html#LetterSpacingProperty"><span class="prop-name">letter-spacing</span></a>
は
<a href="text.html#KerningProperty"><span class="prop-name">kerning</span></a>
プロパティによる間隔調整に対する追加の，テキストの文字間に加える空間の量を指示する
<span lang="en">
‘letter-spacing’ indicates an amount of space that is to be added between text characters supplemental to any spacing due to the ‘kerning’ property.
</span></li>

<li class="T">
<a href="text.html#WordSpacingProperty"><span class="prop-name">word-spacing</span></a>
は単語間の間隔調整のふるまいを指示する
<span lang="en">
‘word-spacing’ indicates the spacing behavior between words.
</span></li>
</ul>

    <div class="propdef">
      <dl><dt id="KerningProperty"><span class="propdef-title prop-name">kerning</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th>
<td>auto | &lt;length&gt; |
<a class="noxref" href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a>
</td></tr>
<tr><th>初期値：</th><td>auto</td></tr>
<tr><th>適用対象：</th><td title="text content elements">
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
</td></tr>
<tr><th>継承：</th><td>される</td></tr>
<tr><th>百分率：</th><td>N/A</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>可</td></tr></tbody></table>
        </dd></dl>
    </div>

<p class="T">
値 <span class="prop-value">auto</span> は、利用されるフォントに含まれるカーニングテーブルに基づくグリフの間隔調整をすべきであることを UA に指示する（すなわち自動カーニングをする）。
<span lang="en">
The value of auto indicates that the user agent should adjust inter-glyph spacing based on kerning tables that are included in the font that will be used (i.e., enable auto-kerning).
</span></p>

<p class="T">
値として <span class="prop-value">&lt;length&gt;</span> が与えられた場合、自動カーニングはされない。
代りに与えられた <span class="prop-value">&lt;length&gt;</span> に間隔が設定される。
自動カーニングされないように
<a href="text.html#KerningProperty"><span class="prop-name">kerning</span></a>
の値を <span class="prop-value">0</span> に設定することは、 <span class="prop-value">auto</span> 以外で最もよく利用される。
<span lang="en">
If a &lt;length&gt; is provided, then auto-kerning is disabled. Instead, inter-character spacing is set to the given &lt;length&gt;. The most common scenario, other than auto, is to set ‘kerning’ to a value of 0 so that auto-kerning is disabled.
</span></p>

<p class="T">
<span class="prop-value">&lt;length&gt;</span>
が単位識別子無しで与えられた場合（例えば <span class="attr-value">128</span> のような計量の無い数）、 SVG-UA は <span class="prop-value">&lt;length&gt;</span> を現在の利用座標系における幅の値として処理する。
<span lang="en">
If a &lt;length&gt; is provided without a unit identifier (e.g., an unqualified number such as 128), the SVG user agent processes the &lt;length&gt; as a width value in the current user coordinate system.
</span></p>

<p class="T">
<span class="prop-value">&lt;length&gt;</span> が
<a href="coords.html#UnitIdentifiers">単位識別子</a>
付きで与えられた場合（例えば <span class="attr-value">.25em</span> や <span class="attr-value">1%</span> ）、 SVG-UA は <span class="prop-value">&lt;length&gt;</span> を
<a href="coords.html#Units">単位</a>
述べられている規則を適用して現在の利用座標系の値に換算する。
<span lang="en">
If a &lt;length&gt; is provided with one of the unit identifiers (e.g., .25em or 1%), then the SVG user agent converts the &lt;length&gt; into a corresponding value in the current user coordinate system by applying the rules described in Units.
</span></p>

<p class="T">
<span class="prop-value">&lt;length&gt;</span>
が与えられたとき、その値は
<a href="text.html#LetterSpacingProperty"><span class="prop-name">letter-spacing</span></a>
プロパティで指定される文字間隔の値に加算される。
<span lang="en">
When a &lt;length&gt; is provided, its value is added to the inter-character spacing value specified by the ‘letter-spacing’ property.
</span></p>


    <div class="propdef">
      <dl><dt id="LetterSpacingProperty"><span class="propdef-title prop-name">letter-spacing</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th>
<td>normal | &lt;length&gt; |
<a class="noxref" href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a>
</td></tr>
<tr><th>初期値：</th><td>normal</td></tr>
<tr><th>適用対象：</th><td title="text content elements">
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
</td></tr>
<tr><th>継承：</th><td>される</td></tr>
<tr><th>百分率：</th><td>N/A</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>可</td></tr></tbody></table>
        </dd></dl>
    </div>

<p class="T">
このプロパティは、
<a href="text.html#KerningProperty"><span class="prop-name">kerning</span></a>
プロパティによる間隔調整に対する追加の，テキストの間隔調整のふるまいを指定する。
<span lang="en">
This property specifies spacing behavior between text characters supplemental to any spacing due to the ‘kerning’ property.
</span></p>

<p class="T">
SVG においては、 <span class="prop-value">&lt;length&gt;</span> が単位識別子無しで与えられた場合（例えば <span class="attr-value">128</span> のような計量の無い数）、現在の利用座標系における幅の値とみなされる。
<span lang="en">
For SVG, if a &lt;length&gt; is provided without a unit identifier (e.g., an unqualified number such as 128), the SVG user agent processes the &lt;length&gt; as a width value in the current user coordinate system.
</span></p>

<p class="T">
<span class="prop-value">&lt;length&gt;</span> が
<a href="coords.html#UnitIdentifiers">単位識別子</a>
付きで与えられた場合（例えば <span class="attr-value">.25em</span> や <span class="attr-value">1%</span> ）、 SVG-UA は <span class="prop-value">&lt;length&gt;</span> を
<a href="coords.html#Units">単位</a>
述べられている規則を適用して現在の利用座標系の値に換算する。
<span lang="en">
If a &lt;length&gt; is provided with one of the unit identifiers (e.g., .25em or 1%), then the SVG user agent converts the &lt;length&gt; into a corresponding value in the current user coordinate system by applying the rules described in Units.
</span></p>

<p class="T">
この仕様で与える追加の情報を除き、
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/text.html#propdef-letter-spacing">このプロパティの正式な定義</a>
は CSS2
([<a href="refs.html#ref-CSS2">CSS2</a>], 16.4 節)
で与えられる。
<span lang="en">
Except for any additional information provided in this specification, the normative definition of the property is in CSS2 ([CSS2], section 16.4).
</span></p>


    <div class="propdef">
      <dl><dt id="WordSpacingProperty"><span class="propdef-title prop-name">word-spacing</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th>
<td>normal | &lt;length&gt; |
<a class="noxref" href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a>
</td></tr>
<tr><th>初期値：</th><td>normal</td></tr>
<tr><th>適用対象：</th><td title="text content elements">
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
</td></tr>
<tr><th>継承：</th><td>される</td></tr>
<tr><th>百分率：</th><td>N/A</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>可</td></tr></tbody></table>
        </dd></dl>
    </div>

<p class="T">
このプロパティは 単語間の間隔調整のふるまいを指定する。
SVG においては、 <span class="prop-value">&lt;length&gt;</span> が単位識別子無しで与えられた場合（例えば <span class="attr-value">128</span> のような計量の無い数）、現在の利用座標系における幅の値とみなされる。
<span lang="en">
This property specifies spacing behavior between words. For SVG, if a &lt;length&gt; is provided without a unit identifier (e.g., an unqualified number such as 128), the SVG user agent processes the &lt;length&gt; as a width value in the current user coordinate system.
</span></p>

<p class="T">
<span class="prop-value">&lt;length&gt;</span> が
<a href="coords.html#UnitIdentifiers">単位識別子</a>
付きで与えられた場合（例えば <span class="attr-value">.25em</span> や <span class="attr-value">1%</span> ）、 SVG-UA は <span class="prop-value">&lt;length&gt;</span> を
<a href="coords.html#Units">単位</a>
述べられている規則を適用して現在の利用座標系の値に換算する。
<span lang="en">
If a &lt;length&gt; is provided with one of the unit identifiers (e.g., .25em or 1%), then the SVG user agent converts the &lt;length&gt; into a corresponding value in the current user coordinate system by applying the rules described in Units.
</span></p>

<p class="T">
この仕様で与える追加の情報を除き、
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/text.html#propdef-word-spacing">このプロパティの正式な定義</a>
は CSS2
([<a href="refs.html#ref-CSS2">CSS2</a>], 16.4 節)
で与えられる。
<span lang="en">
Except for any additional information provided in this specification, the normative definition of the property is in CSS2 ([CSS2], section 16.4).
</span></p>


<h2 title="10.12 Text decoration" id="TextDecorationProperties">10.12 テキスト装飾</h2>

    <div class="propdef">
      <dl><dt id="TextDecorationProperty"><span class="propdef-title prop-name">text-decoration</span></dt><dd>
          <table class="propinfo"><tbody>
<tr><th>値：</th>
<td>none | [ underline || overline || line-through || blink ] |
<a class="noxref" href="http://www.w3.org/TR/2008/REC-CSS2-20080411/cascade.html#value-def-inherit"><span class="value-inst-inherit noxref">inherit</span></a>
</td></tr>
<tr><th>初期値：</th><td>none</td></tr>
<tr><th>適用対象：</th><td title="text content elements">
<a href="intro.html#TermTextContentElement">テキスト内容要素</a>
</td></tr>
<tr><th>継承：</th><td>されない（注釈を見よ）</td></tr>
<tr><th>百分率：</th><td>N/A</td></tr>
<tr><th>メディア：</th><td>視覚</td></tr>
<tr><th><a href="animate.html#Animatable">アニメーション：</a></th><td>可</td></tr></tbody></table>
        </dd></dl>
    </div>

<p class="T">
このプロパティは 要素内のテキストに加える装飾を記述する。
<a href="conform.html#ConformingSVGViewers">適合 SVG ビューア</a>
は値 <strong>blink</strong> をサポートしなくともよい。
<span lang="en">
This property describes decorations that are added to the text of an element. Conforming SVG Viewers are not required to support the blink value.
</span></p>

<p class="T">
この仕様で与える追加の情報を除き、
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/text.html#propdef-text-decoration">このプロパティの正式な定義</a>
は CSS2
([<a href="refs.html#ref-CSS2">CSS2</a>], 16.3.1 節)
で与えられる。
<span lang="en">
Except for any additional information provided in this specification, the normative definition of the property is in CSS2 ([CSS2], section 16.3.1).
</span></p>

<p class="T">
CSS2 仕様では
<a href="text.html#TextDecorationProperty"><span class="prop-name">text-decoration</span></a>
プロパティのふるまいを「ブロックレベル要素」と「インライン要素」という用語を用いて定義している。
<a href="text.html#TextDecorationProperty"><span class="prop-name">text-decoration</span></a>
プロパティの SVG の用途においては、
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素はブロックレベル要素を表現し、
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の任意の子要素（例えば
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
）はインライン要素を表現する。
<span lang="en">
The CSS2 specification defines the behavior of the ‘text-decoration’ property using the terminology "block-level elements" and "inline elements". For the purposes of the ‘text-decoration’ property and SVG, a ‘text’ element represents a block-level element and any of the potential children of a ‘text’ element (e.g., a ‘tspan’) represent inline elements.
</span></p>

<p class="T">
また、 CSS2 の
<a href="text.html#TextDecorationProperty"><span class="prop-name">text-decoration</span></a>
の定義では、子孫要素に対する「装飾の色」は同じままとされている。
SVG の塗りのモデルにおいては 様々な種類の塗り（
<a href="painting.html">塗り：フィル, ストローク, マーカシンボル</a>
を見よ）をテキストの内部と外形線の両方に対して適用できるので（すなわち「フィル」と「ストローク」）、 SVG における
<a href="text.html#TextDecorationProperty"><span class="prop-name">text-decoration</span></a>
プロパティは次のように定義される：
<a href="text.html#TextDecorationProperty"><span class="prop-name">text-decoration</span></a>
プロパティが要素に指定されている場合、その要素およびそのすべての子孫要素の内容に対し，すべての装飾は同一のフィルとストロークプロパティがそれぞれの要素に存在するかのように描画され、もし
<a href="text.html#TextDecorationProperty"><span class="prop-name">text-decoration</span></a>
プロパティが子孫要素にも指定されているならば，そちらが先祖要素のものより優先される。
<span lang="en">
Also, the CSS2 definition of ‘text-decoration’ specifies that the "color of the decorations" remain the same on descendant elements. Since SVG offers a painting model consisting of the ability to apply various types of paint (see Painting: Filling, Stroking and Marker Symbols) to both the interior (i.e., the "fill") and the outline (i.e., the "stroke") of text, for SVG the ‘text-decoration’ property is defined such that, for an element which has a specified value for the ‘text-decoration’ property, all decorations on its content and that of its descendants are rendered using the same fill and stroke properties as are present on the given element. If the ‘text-decoration’ property is specified on a descendant, then that overrides the ancestor.
</span></p>

<p class="T">
SVG では テキストに対し，フィルもストローク可能なので、状況によっては描画順序がテキスト装飾に影響する。
テキスト装飾の描画順序は次のようになるべきである：
<span lang="en">
Because SVG allows text to be both filled and stroked, drawing order matters in some circumstances with text decorations. Text decoration drawing order should be as follows:
</span></p>

    <ul>

<li class="T">
line-through を除くすべてのテキスト装飾は テキストのフィルとストロークが行われる前に描かれるべきである。
すなわち，テキストはこれらの装飾の上に描画される。
<span lang="en">
All text decorations except line-through should be drawn before the text is filled and stroked; thus, the text is rendered on top of these decorations.
</span></li>

<li class="T">
line-through は テキストのフィルとストロークが行われた後に描かれるべきである。
すなわち, line-through はテキストの上に描画される。
<span lang="en">
Line-through should be drawn after the text is filled and stroked; thus, the line-through is rendered on top of the text.
</span></li>
</ul>

<p class="T">
<span class="example-ref">Example textdecoration01</span>
に
<a href="text.html#TextDecorationProperty"><span class="prop-name">text-decoration</span></a>
の例をいくつか示す。
図のテキストの１行目では
<a href="text.html#TextDecorationProperty"><span class="prop-name">text-decoration</span></a>
の値が指定されていないので、初期値として
<span class="prop-value">text-decoration:none</span>
が用いられる。
２行目は
<span class="prop-value">text-decoration:line-through</span>
を表している。
３行目は
<span class="prop-value">text-decoration:underline</span>
を表している。
４行目は同じフィルとストロークのプロパティを用いる要素が
<a href="text.html#TextDecorationProperty"><span class="prop-name">text-decoration</span></a>
を持つときに，どのように装飾が描画されるかの規則を表している。
<a href="text.html#TextDecorationProperty"><span class="prop-name">text-decoration</span></a>
は
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素に指定されているので、個々の単語が異なるフィルとストロークのプロパティ値を持っているにもかかわらず、
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素内のすべてのテキストに対し，下線は
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素に指定された同じフィルとストローク（青のフィルと赤のストローク）で描画される。
しかしながら，単語 "different" には明示的に
<a href="text.html#TextDecorationProperty"><span class="prop-name">text-decoration</span></a>
の値が設定されているので、下線は単語 "different" を囲む
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素のフィルとストローク（黄色のフィル, 深緑のストローク）を用いて描画される：
<span lang="en">
Example textdecoration01 provides examples for ‘text-decoration’. The first line of text has no value for ‘text-decoration’, so the initial value of text-decoration:none is used. The second line shows text-decoration:line-through. The third line shows text-decoration:underline. The fourth line illustrates the rule whereby decorations are rendered using the same fill and stroke properties as are present on the element for which the ‘text-decoration’ is specified. Since ‘text-decoration’ is specified on the ‘text’ element, all text within the ‘text’ element has its underline rendered with the same fill and stroke properties as exist on the ‘text’ element (i.e., blue fill, red stroke), even though the various words have different fill and stroke property values. However, the word "different" explicitly specifies a value for ‘text-decoration’; thus, its underline is rendered using the fill and stroke properties as the ‘tspan’ element that surrounds the word "different" (i.e., yellow fill, darkgreen stroke):
</span></p>


<pre class="xml">&lt;?xml version="1.0" standalone="no"?&gt;
&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
  "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;
&lt;svg width="12cm" height="4cm" viewBox="0 0 1200 400"
     xmlns="http://www.w3.org/2000/svg" version="1.1"&gt;
  &lt;desc&gt;Example textdecoration01 - <span title="behavior of 'text-decoration' property"
  >'text-decoration' プロパティのふるまい</span> &lt;/desc&gt;
  &lt;rect x="1" y="1" width="1198" height="398" fill="none" stroke="blue" stroke-width="2" /&gt;
  &lt;g font-size="60" fill="blue" stroke="red" stroke-width="1" &gt;
    &lt;text x="100" y="75"&gt;Normal text&lt;/text&gt;
    &lt;text x="100" y="165" text-decoration="line-through" &gt;Text with line-through&lt;/text&gt;
    &lt;text x="100" y="255" text-decoration="underline" &gt;Underlined text&lt;/text&gt;
    &lt;text x="100" y="345" text-decoration="underline" &gt;
      &lt;tspan&gt;One &lt;/tspan&gt;
      &lt;tspan fill="yellow" stroke="purple" &gt;word &lt;/tspan&gt;
      &lt;tspan fill="yellow" stroke="black" &gt;has &lt;/tspan&gt;
      &lt;tspan fill="yellow" stroke="darkgreen" text-decoration="underline" &gt;different &lt;/tspan&gt;
      &lt;tspan fill="yellow" stroke="blue" &gt;underlining&lt;/tspan&gt;
    &lt;/text&gt;
  &lt;/g&gt;
&lt;/svg&gt;</pre><table><caption>Example textdecoration01</caption><tbody><tr><td><img title="Example textdecoration01 — behavior of 'text-decoration' property" alt="Example textdecoration01 — behavior of 'text-decoration' property" src="images/text/textdecoration01.png"></td></tr></tbody></table>
<p class="view-as-svg"><a href="images/text/textdecoration01.svg">この例を SVG で表示（ SVG 対応ブラウザのみ）</a></p>

<h2 title="10.13 Text on a path" id="TextOnAPath">10.13 パス上のテキスト</h2>



<h3 title="10.13.1 Introduction to text on a path" id="TextOnAPathIntroduction">10.13.1 パス上のテキストの概要</h3>

<p class="T">
テキストを直線的に描くことに加え， SVG はテキストを
<a href="paths.html#PathElement"><span class="element-name">path</span></a>
要素の図形に沿うように配置させる機能も備えている。
テキストブロックが
<a href="paths.html#PathElement"><span class="element-name">path</span></a>
要素の図形に沿って描画されるように指定するためには、
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
要素にテキストを含ませた上で，
<a href="paths.html#PathElement"><span class="element-name">path</span></a>
要素への
<a href="intro.html#TermIRIReference">IRI 参照</a>
を
<a href="text.html#TextPathElementHrefAttribute"><span class="attr-name">xlink:href</span></a>
属性に設定する。
<span lang="en">
In addition to text drawn in a straight line, SVG also includes the ability to place text along the shape of a ‘path’ element. To specify that a block of text is to be rendered along the shape of a ‘path’, include the given text within a ‘textPath’ element which includes an ‘xlink:href’ attribute with an IRI reference to a ‘path’ element.
</span></p>


<h3 title="10.13.2 The ‘textPath’ element" id="TextPathElement">10.13.2 <span class="element-name">textPath</span> 要素</h3>

<div class="element-summary"><div class="element-summary-name"><span class="element-name">textPath</span></div><dl><dt>分類：</dt><dd><a href="intro.html#TermTextContentElement">テキスト内容要素</a>,
<a href="intro.html#TermTextContentChildElement">テキスト内容子要素</a></dd>
<dt>内容モデル：</dt><dd>以下の要素の任意個数, 任意順序の組み合わせ：
<ul class="no-bullets">
<li><a class="T-ex" href="intro.html#TermDescriptiveElement">記述的要素</a></li>
<li><a href="linking.html#AElement"><span class="element-name">a</span></a></li><li><a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a></li><li><a href="animate.html#AnimateElement"><span class="element-name">animate</span></a></li><li><a href="animate.html#AnimateColorElement"><span class="element-name">animateColor</span></a></li><li><a href="animate.html#SetElement"><span class="element-name">set</span></a></li><li><a href="text.html#TRefElement"><span class="element-name">tref</span></a></li><li><a href="text.html#TSpanElement"><span class="element-name">tspan</span></a></li></ul></dd><dt>属性：</dt><dd><ul class="no-bullets">
<li><a class="T-ex" href="intro.html#TermConditionalProcessingAttribute">条件付き処理属性</a></li>
<li><a class="T-ex" href="intro.html#TermCoreAttributes">中核属性</a></li>
<li><a class="T-ex" href="intro.html#TermGraphicalEventAttribute">グラフィカルイベント属性</a></li>
<li><a class="T-ex" href="intro.html#TermPresentationAttribute">呈示属性</a></li>
<li><a class="T-ex" href="intro.html#TermXLinkAttributes">xlink 属性</a><span>
<a href="text.html#TextPathElementHrefAttribute"><span class="attr-name">xlink:href</span></a></span></li>
<li><a href="styling.html#ClassAttribute"><span class="attr-name">class</span></a></li><li><a href="styling.html#StyleAttribute"><span class="attr-name">style</span></a></li><li><a href="struct.html#ExternalResourcesRequiredAttribute"><span class="attr-name">externalResourcesRequired</span></a></li><li><a href="text.html#TextPathElementHrefAttribute"><span class="attr-name">xlink:href</span></a></li><li><a href="text.html#TextPathElementStartOffsetAttribute"><span class="attr-name">startOffset</span></a></li><li><a href="text.html#TextPathElementMethodAttribute"><span class="attr-name">method</span></a></li><li><a href="text.html#TextPathElementSpacingAttribute"><span class="attr-name">spacing</span></a></li></ul></dd><dt>DOM インタフェース：</dt><dd><ul class="no-bullets"><li><a class="idlinterface" href="text.html#InterfaceSVGTextPathElement">SVGTextPathElement</a></li></ul></dd></dl></div>

    <div class="adef-list">
      <p><em>属性定義</em></p>
      <dl><dt id="TextPathElementStartOffsetAttribute"><span class="adef">startOffset</span> = "<a href="types.html#DataTypeLength"><span class="attr-value">&lt;length&gt;</span></a>"</dt><dd>

<p class="T">
初期の現在のテキスト位置を
<a href="paths.html#PathElement"><span class="element-name">path</span></a>
の開始点からの長さで指定する。
テキスト位置の算出には UA の
<a href="paths.html#DistanceAlongAPath">パスに沿う距離</a>
のアルゴリズムが利用される。
<span lang="en">
An offset from the start of the ‘path’ for the initial current text position, calculated using the user agent's distance along the path algorithm.
</span></p>

<p class="T">
百分率以外の
<a href="types.html#DataTypeLength">&lt;length&gt;</a>
が与えられた場合、
<a href="text.html#TextPathElementStartOffsetAttribute"><span class="attr-name">startOffset</span></a>
は現在の利用座標系で測られる，パスに沿う距離を表す。
<span lang="en">
If a &lt;length&gt; other than a percentage is given, then the ‘startOffset’ represents a distance along the path measured in the current user coordinate system.
</span></p>


<p class="T">
百分率で与えられた場合、
<a href="text.html#TextPathElementStartOffsetAttribute"><span class="attr-name">startOffset</span></a>
はパス全体に沿う距離に対する比率を表現する。
すなわち、
<span class="attr-value">startOffset="0%"</span>
は
<a href="paths.html#PathElement"><span class="element-name">path</span></a>
の開始点を指し，
<span class="attr-value">startOffset="100%"</span>
は
<a href="paths.html#PathElement"><span class="element-name">path</span></a>
の終止点を指す。
<span lang="en">
If a percentage is given, then the ‘startOffset’ represents a percentage distance along the entire path. Thus, startOffset="0%" indicates the start point of the ‘path’ and startOffset="100%" indicates the end point of the ‘path’.
</span></p>

<p class="T">
この属性が指定されていない場合の効果は、値 "0" が指定されたときと同じになる。
<span lang="en">
If the attribute is not specified, the effect is as if a value of "0" were specified.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd><dt id="TextPathElementMethodAttribute"><span class="adef">method</span> = "<span class="attr-value">align | stretch</span>"</dt>
<dd>

<p class="T">
テキストをパスに沿わせて描画する際に，どの方法を用いるべきかを指示する。
<span lang="en">
Indicates the method by which text should be rendered along the path.
</span></p>

<p class="T">
値 <span class="attr-value">align</span> は、グリフに対する引き伸ばしや歪曲をせずに，単純な 2x3 行列の変換を用いてグリフを描画すべきであることを指示する。
典型的には、描画される各グリフに対する追加の，回転, 拡縮, 並進変換が行われる。
その結果、グリフが続け字になるようにデザインされたフォント（例えば筆記体のフォント）では、描画されたときに連結部が正しく揃わないことが起こり得る。
<span lang="en">
A value of align indicates that the glyphs should be rendered using simple 2x3 transformations such that there is no stretching/warping of the glyphs. Typically, supplemental rotation, scaling and translation transformations are done for each glyph to be rendered. As a result, with align, fonts where the glyphs are designed to be connected (e.g., cursive fonts), the connections may not align properly when text is rendered along a path.
</span></p>


<p class="T">
値 <span class="attr-value">stretch</span> は、グリフの外形線をパスに変換し，それらのすべての端点と制御点を パスに直交するベクトルに沿って調整することを指示する。
その結果、グリフは引き伸ばされ，必要なら歪曲される。
この方法では、筆記体などの続け字グリフの連結部も維持されることになる。
<span lang="en">
A value of stretch indicates that the glyph outlines will be converted into paths, and then all end points and control points will be adjusted to be along the perpendicular vectors from the path, thereby stretching and possibly warping the glyphs. With this approach, connected glyphs, such as in cursive scripts, will maintain their connections.
</span></p>

<p class="T">
この属性が指定されていない場合の効果は、値
<span class="attr-value">align</span>
が指定されたときと同じになる。
<span lang="en">
If the attribute is not specified, the effect is as if a value of align were specified.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd>
<dt id="TextPathElementSpacingAttribute"><span class="adef">spacing</span> = "<span class="attr-value">auto | exact</span>"</dt><dd>

<p class="T">
パスに沿って描画されるグリフの間隔を UA がどのよう調整すべきかを指示する。
<span lang="en">
Indicates how the user agent should determine the spacing between glyphs that are to be rendered along a path.
</span></p>


<p class="T">
値 <span class="attr-value">exact</span> は、
<a href="text.html#TextpathLayoutRules">パス上のテキストの配置規則</a>
に示される間隔調整の規則に正確に従って グリフが描画されるべきであることを指示する。
<span lang="en">
A value of exact indicates that the glyphs should be rendered exactly according to the spacing rules as specified in Text on a path layout rules.
</span></p>

<p class="T">
値 <span class="attr-value">auto</span> は、 UA は視覚に訴える効果を得るために，グリフの間隔調整にパス上のテキスト配置アルゴリズムを用いるべきであることを指示する。
<span lang="en">
A value of auto indicates that the user agent should use text-on-a-path layout algorithms to adjust the spacing between glyphs in order to achieve visually appealing results.
</span></p>


<p class="T">
この属性が指定されていない場合の効果は、値 <span class="attr-value">exact</span> が指定されたときと同じになる。
<span lang="en">
If the attribute is not specified, the effect is as if a value of exact were specified.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd><dt id="TextPathElementHrefAttribute"><span class="adef">xlink:href</span> = "<span class="attr-value"></span><a href="types.html#DataTypeIRI">&lt;iri&gt;</a>"</dt><dd>

<p class="T">
グリフが描画される
<a href="paths.html#PathElement"><span class="element-name">path</span></a>
要素への
<a href="linking.html#IRIReference">IRI 参照</a>
。
&lt;iri&gt; が無効な参照の場合（例えば要素が存在しなかったり参照先が
<a href="paths.html#PathElement"><span class="element-name">path</span></a>
でないなど）、
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
要素はエラーであり， UA はその内容全体を描画しない。
<span lang="en">
An IRI reference to the ‘path’ element onto which the glyphs will be rendered. If &lt;iri&gt; is an invalid reference (e.g., no such element exists, or the referenced element is not a ‘path’), then the ‘textPath’ element is in error and its entire contents shall not be rendered by the user agent.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd></dl>
    </div>

<p class="T">
参照先の
<a href="paths.html#PathElement"><span class="element-name">path</span></a>
要素内のパスデータの座標は、
<a href="paths.html#PathElement"><span class="element-name">path</span></a>
要素が定義された所での座標系ではなく，現在の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の座標系におけるものとみなされる。
参照先の
<a href="paths.html#PathElement"><span class="element-name">path</span></a>
要素の
<a href="coords.html#TransformAttribute"><span class="attr-name">transform</span></a>
属性は（もし現在の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素にも
<a href="coords.html#TransformAttribute"><span class="attr-name">transform</span></a>
属性があれば、それによる座標系変換も含めて）、現在の利用座標系に対する追加の変換を表現する。
例えば 次の SVG 内容文書片：
<span lang="en">
The path data coordinates within the referenced ‘path’ element are assumed to be in the same coordinate system as the current ‘text’ element, not in the coordinate system where the ‘path’ element is defined. The ‘transform’ attribute on the referenced ‘path’ element represents a supplemental transformation relative to the current user coordinate system for the current ‘text’ element, including any adjustments to the current user coordinate system due to a possible ‘transform’ attribute on the current ‘text’ element. For example, the following fragment of SVG content:
</span></p>

<pre>&lt;svg xmlns="http://www.w3.org/2000/svg" 
     xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"&gt;
  &lt;g <span style="font-weight: bold; color: red;">transform="translate(25,25)"</span>&gt;
    &lt;defs&gt;
      &lt;path id="path1" <span style="font-weight: bold; color: green;">transform="scale(2)"</span> d="..." fill="none" stroke="red"/&gt;
    &lt;/defs&gt;
  &lt;/g&gt;
  &lt;text <span style="font-weight: bold; color: blue;">transform="rotate(45)"</span>&gt;
    &lt;textPath xlink:href="#path1"&gt;Text along path1&lt;/textPath&gt;
  &lt;/text&gt;
&lt;/svg&gt;
</pre>

<p class="T">
は、次と同じ効果になるべきである：
<span lang="en">
should have the same effect as the following:
</span></p>

<pre>&lt;svg xmlns="http://www.w3.org/2000/svg" 
     xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"&gt;
  &lt;g <span style="font-weight: bold; color: blue;">transform="rotate(45)"</span>&gt;
    &lt;defs&gt;
      &lt;path id="path1" <span style="font-weight: bold; color: green;">transform="scale(2)"</span> d="..." fill="none" stroke="red"/&gt;
    &lt;/defs&gt;
    &lt;text&gt;
      &lt;textPath xlink:href="#path1"&gt;Text along path1&lt;/textPath&gt;
    &lt;/text&gt;
  &lt;/g&gt;
&lt;/svg&gt;
</pre>

<p class="T">
<code style="font-weight: bold; color: blue;">transform="rotate(45)"</code>
は
<a href="text.html#TextElement"><span class="element-name">text</span></a>
と, パス上のテキストから参照される図形としての
<a href="paths.html#PathElement"><span class="element-name">path</span></a>
要素の利用の 両方に適用される一方、
<code style="font-weight: bold; color: red;">transform="translate(25,25)"</code>
は
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
要素に対しては 何の効果も与えないことに注意。
<span lang="en">
Note that the transform="translate(25,25)" has no effect on the ‘textPath’ element, whereas the transform="rotate(45)" applies to both the ‘text’ and the use of the ‘path’ element as the referenced shape for text on a path.
</span></p>

<p class="T" id="ExampleToap01">
<span class="example-ref">Example toap01</span> にパス上のテキストの簡単な例を示す：
<span lang="en">
Example toap01 provides a simple example of text on a path:
</span></p>


<pre class="xml">&lt;?xml version="1.0" standalone="no"?&gt;
&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
  "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;
&lt;svg width="12cm" height="3.6cm" viewBox="0 0 1000 300" version="1.1"
     xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
  &lt;defs&gt;
    &lt;path id="MyPath"
          d="M 100 200 
             C 200 100 300   0 400 100
             C 500 200 600 300 700 200
             C 800 100 900 100 900 100" /&gt;
  &lt;/defs&gt;
  &lt;desc&gt;Example toap01 - <span title="simple text on a path"
  >単純なパス上のテキスト</span> &lt;/desc&gt;

  &lt;use xlink:href="#MyPath" fill="none" stroke="red"  /&gt;
  &lt;text font-family="Verdana" font-size="42.5" fill="blue" &gt;
    &lt;textPath xlink:href="#MyPath"&gt;
      We go up, then we go down, then up again
    &lt;/textPath&gt;
  &lt;/text&gt;

  &lt;!-- <span title="Show outline of canvas using 'rect' element"
  >'rect' 要素によりキャンバスの外形線を表示</span> --&gt;
  &lt;rect x="1" y="1" width="998" height="298"
        fill="none" stroke="blue" stroke-width="2" /&gt;
&lt;/svg&gt;</pre><table><caption>Example toap01</caption><tbody><tr><td><img title="Example toap01 — simple text on a path" alt="Example toap01 — simple text on a path" src="images/text/toap01.png"></td></tr></tbody></table>
<p class="view-as-svg"><a href="images/text/toap01.svg">この例を SVG で表示（ SVG 対応ブラウザのみ）</a></p>

<p class="T" id="ExampleToap02">
<span class="example-ref">Example toap02</span>
に、特定のグリフを描画する前に スタイル付け属性と現在のテキスト位置の調整を行うための，
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
要素内における
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の利用を示す。
最初の方の単語 "up" は 内部を赤色に塗られる。
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
属性が 単語 "up" を基底線から持ち上げるために用いられる。
<span lang="en">
Example toap02 shows how ‘tspan’ elements can be included within ‘textPath’ elements to adjust styling attributes and adjust the current text position before rendering a particular glyph. The first occurrence of the word "up" is filled with the color red. Attribute ‘dy’ is used to lift the word "up" from the baseline.
</span></p>


<pre class="xml">&lt;?xml version="1.0" standalone="no"?&gt;
&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
  "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;
&lt;svg width="12cm" height="3.6cm" viewBox="0 0 1000 300" version="1.1"
     xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
  &lt;defs&gt;
    &lt;path id="MyPath"
          d="M 100 200 
             C 200 100 300   0 400 100
             C 500 200 600 300 700 200
             C 800 100 900 100 900 100" /&gt;
  &lt;/defs&gt;
  &lt;desc&gt;Example toap02 - <span title="tspan within textPath"
  >textPath 内の tspan</span> &lt;/desc&gt;

  &lt;use xlink:href="#MyPath" fill="none" stroke="red"  /&gt;
  &lt;text font-family="Verdana" font-size="42.5" fill="blue" &gt;
    &lt;textPath xlink:href="#MyPath"&gt;
      We go 
      &lt;tspan dy="-30" fill="red" &gt;
        up
      &lt;/tspan&gt;
      &lt;tspan dy="30"&gt;
        ,
      &lt;/tspan&gt;
      then we go down, then up again
    &lt;/textPath&gt;
  &lt;/text&gt;

  &lt;!-- <span title="Show outline of canvas using 'rect' element"
  >'rect' 要素によりキャンバスの外形線を表示</span> --&gt;
  &lt;rect x="1" y="1" width="998" height="298"
        fill="none" stroke="blue" stroke-width="2" /&gt;
&lt;/svg&gt;</pre><table><caption>Example toap02</caption><tbody><tr><td><img title="Example toap02 — tspan within textPath" alt="Example toap02 — tspan within textPath" src="images/text/toap02.png"></td></tr></tbody></table>
<p class="view-as-svg"><a href="images/text/toap02.svg">この例を SVG で表示（ SVG 対応ブラウザのみ）</a></p>

<p class="T" id="ExampleToap03">
<span class="example-ref">Example toap03</span>
は、テキスト文字列の開始位置をパス上の特定の位置に指定するために，
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
要素の
<a href="text.html#TextPathElementStartOffsetAttribute"><span class="attr-name">startOffset</span></a>
属性を利用している（
<a href="text.html#TextpathLayoutRules">パス上のテキストの配置規則</a>
を見よ）。
<span lang="en">
Example toap03 demonstrates the use of the ‘startOffset’ attribute on the ‘textPath’ element to specify the start position of the text string as a particular position along the path. Notice that glyphs that fall off the end of the path are not rendered (see text on a path layout rules).
</span></p>


<pre class="xml">&lt;?xml version="1.0" standalone="no"?&gt;
&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
  "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;
&lt;svg width="12cm" height="3.6cm" viewBox="0 0 1000 300" version="1.1"
     xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
  &lt;defs&gt;
    &lt;path id="MyPath"
          d="M 100 200 
             C 200 100 300   0 400 100
             C 500 200 600 300 700 200
             C 800 100 900 100 900 100" /&gt;
  &lt;/defs&gt;
  &lt;desc&gt;Example toap03 - <span title="text on a path with startOffset attribute"
  >startOffset 属性を持つパス上のテキスト</span> &lt;/desc&gt;

  &lt;use xlink:href="#MyPath" fill="none" stroke="red"  /&gt;
  &lt;text font-family="Verdana" font-size="42.5" fill="blue" &gt;
    &lt;textPath xlink:href="#MyPath" startOffset="80%"&gt;
      We go up, then we go down, then up again
    &lt;/textPath&gt;
  &lt;/text&gt;

  &lt;!-- <span title="Show outline of canvas using 'rect' element"
  >'rect' 要素によりキャンバスの外形線を表示</span> --&gt;
  &lt;rect x="1" y="1" width="998" height="298"
        fill="none" stroke="blue" stroke-width="2" /&gt;
&lt;/svg&gt;</pre><table><caption>Example toap03</caption><tbody><tr><td><img title="Example toap03 — text on a path with startOffset attribute" alt="Example toap03 — text on a path with startOffset attribute" src="images/text/toap03.png"></td></tr></tbody></table>
<p class="view-as-svg"><a href="images/text/toap03.svg">この例を SVG で表示（ SVG 対応ブラウザのみ）</a></p>

<h3 title="10.13.3 Text on a path layout rules" id="TextpathLayoutRules">10.13.3 パス上のテキストの配置規則</h3>

<p class="T">
概念的には、パス上のテキストのパスは横または縦の線分に引き張られる。
横書テキストの流し込みでは、パスは開始点が線分の左端に写像されるように仮想の水平線分に引き張られる。
縦書テキストの流し込みでは、パスは開始点が線分の上端に写像されるように仮想の垂直線分に引き張られる。
標準の
<a href="text.html#TextLayout">テキスト配置</a>
規則がこの仮想の線分に適用され、その結果がパス上に逆写像される。
縦書と双方向の
<a href="text.html#TextLayout">テキスト配置</a>
規則もパス上のテキストに適用される。
<span lang="en">
Conceptually, for text on a path the target path is stretched out into either a horizontal or vertical straight line segment. For horizontal text layout flows, the path is stretched out into a hypothetical horizontal line segment such that the start of the path is mapped to the left of the line segment. For vertical text layout flows, the path is stretched out into a hypothetical vertical line segment such that the start of the path is mapped to the top of the line segment. The standard text layout rules are applied to the hypothetical straight line segment and the result is mapped back onto the target path. Vertical and bidirectional text layout rules also apply to text on a path.
</span></p>

<p class="T">
<a href="text.html#ReferenceOrientation">基準方位</a>
は パスに沿って描画される各グリフに対し，個別に定められる。
横書テキストの流し込みでは、グリフの基準方位は グリフが置かれるパス上の交点からのベクトルであり，交点における曲線の角度から反時計回りに 90 度の方向を指す。
縦書テキストの流し込みでは、グリフの基準方位は グリフが置かれるパス上の交点からのベクトルであり，交点における曲線の角度から 180 度の方向を指す。
<span lang="en">
The reference orientation is determined individually for each glyph that is rendered along the path. For horizontal text layout flows, the reference orientation for a given glyph is the vector that starts at the intersection point on the path to which the glyph is attached and which points in the direction 90 degrees counter-clockwise from the angle of the curve at the intersection point. For vertical text layout flows, the reference orientation for a given glyph is the vector that starts at the intersection point on the path to which the glyph is attached and which points in the direction 180 degrees from the angle of the curve at the intersection point.
</span></p>

<p class="T" id="ExampleToap04">
直線的な横書／縦書のテキストにおける基本的な
<a href="text.html#TextLayout">テキスト配置</a>
規則に対する追加の，パス上のテキストに特有の配置規則を説明するために、次の
<span class="example-ref">Example toap04</span>
を以下で利用する。
<span lang="en">
Example toap04 will be used to illustrate the particular layout rules for text on a path that supplement the basic text layout rules for straight line horizontal or vertical text.
</span></p>


<pre class="xml">&lt;?xml version="1.0" standalone="no"?&gt;
&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
  "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;
&lt;svg width="12cm" height="3.6cm" viewBox="0 0 1000 300" version="1.1"
     xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
  &lt;defs&gt;
    &lt;path id="MyPath"
          d="M 100 125 
             C 150 125 250 175 300 175
             C 350 175 450 125 500 125
             C 550 125 650 175 700 175
             C 750 175 850 125 900 125" /&gt;
  &lt;/defs&gt;
  &lt;desc&gt;Example toap04 - <span title="text on a path layout rules"
  >パス上のテキストの配置規則</span> &lt;/desc&gt;

  &lt;use xlink:href="#MyPath" fill="none" stroke="red"  /&gt;
  &lt;text font-family="Verdana" font-size="60" fill="blue" letter-spacing="2" &gt;
    &lt;textPath xlink:href="#MyPath"&gt;
      Choose shame or get war 
    &lt;/textPath&gt;
  &lt;/text&gt;

  &lt;!-- <span title="Show outline of canvas using 'rect' element"
  >'rect' 要素によりキャンバスの外形線を表示</span> --&gt;
  &lt;rect x="1" y="1" width="998" height="298"
        fill="none" stroke="blue" stroke-width="2" /&gt;
&lt;/svg&gt;</pre><table><caption>Example toap04</caption><tbody><tr><td><img title="Example toap04 — text on a path layout rules" alt="Example toap04 — text on a path layout rules" src="images/text/toap04.png"></td></tr></tbody></table>
<p class="view-as-svg"><a href="images/text/toap04.svg">この例を SVG で表示（ SVG 対応ブラウザのみ）</a></p>

<p class="T">
次の図に
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の最初のグリフを拡大して示す。
<span lang="en">
The following picture does an initial zoom in on the first glyph in the ‘text’ element.
</span></p>

    <img title="Image that shows text on a path" alt="Image that shows text on a path" src="images/text/toap05.png" width="288" height="91">

<p class="T">
図の小丸はグリフが置かれるパス上の点である。
グリフを囲むボックスは、その点における横軸が曲線の傾きに平行になるように回転されていることを示している。
このボックスはグリフの
<span id="CharWidth" class="SVG-Term" title="charwidth">文字幅</span>
（ charwidth — すなわちグリフが横書テキスト配置を用いて描かれるときの，現在のテキスト位置の水平アドバンス量）を示している。
<span lang="en">
The small dot above shows the point at which the glyph is attached to the path. The box around the glyph shows the glyph is rotated such that its horizontal axis is parallel to the tangent of the curve at the point at which the glyph is attached to the path. The box also shows the glyph's charwidth (i.e., the amount which the current text position advances horizontally when the glyph is drawn using horizontal text layout).
</span></p>

<p class="T">
配置規則の詳細を示すため、更に拡大した図を次に示す。
<span lang="en">
The next picture zooms in further to demonstrate the detailed layout rules.
</span></p>

    <img title="Image that shows text on a path" alt="Image that shows text on a path" src="images/text/toap06.png" width="288" height="176">

<p class="T">
パスに沿う，左から右への横書テキスト（すなわちグリフ方位が
<a href="text.html#SettingInlineProgressionDirection">行内進行方向</a>
に垂直なとき）における配置規則は、次のようになる：
<span lang="en">
For left-to-right horizontal text layout along a path (i.e., when the glyph orientation is perpendicular to the inline-progression-direction), the layout rules are as follows:
</span></p>

    <ul>

<li class="T">
まず，
<a href="text.html#TextPathElementStartOffsetAttribute"><span class="attr-name">startOffset</span></a>
属性と
<a href="text.html#TextAnchorProperty"><span class="prop-name">text-anchor</span></a>
プロパティを用いて最初のグリフに対する
<span  id="StartPointOnPath" class="SVG-Term" title="startpoint-on-the-path">パス上始点</span>
（上図では左側の赤小丸）を決定する。
<span class="prop-value">text-anchor:start</span>
の場合のパス上始点は パスの開始点からパスに沿って距離
<a href="text.html#TextPathElementStartOffsetAttribute"><span class="attr-name">startOffset</span></a>
のパス上の点を表し，
<span class="prop-value">text-anchor:middle</span>
の場合のパス上始点は パスの開始点からパスに沿って距離［
<a href="text.html#TextPathElementStartOffsetAttribute"><span class="attr-name">startOffset</span></a>
から
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
要素内のすべてのグリフのアドバンス値の総和の半分を引いたもの］のパス上の点を表し，
<span class="prop-value">text-anchor:end</span>
の場合のパス上始点は パスの開始点からパスに沿って距離［
<a href="text.html#TextPathElementStartOffsetAttribute"><span class="attr-name">startOffset</span></a>
から
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
要素内のすべてのグリフのアドバンス値の総和を引いたもの］のパス上の点を表す。
いずれにせよ、パス上始点は UA の
<a href="paths.html#DistanceAlongAPath">パスに沿う距離</a>
のアルゴリズムを用いて算出される。
最初のグリフが描画される前に，パス上始点の水平成分は、
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>
属性の値など，様々な横書用テキスト整列プロパティおよび属性を計算に入れて調整される。
<span lang="en">
Determine the startpoint-on-the-path for the first glyph using attribute ‘startOffset’ and property ‘text-anchor’. For text-anchor:start, startpoint-on-the-path is the point on the path which represents the point on the path which is ‘startOffset’ distance along the path from the start of the path, calculated using the user agent's distance along the path algorithm. For text-anchor:middle, startpoint-on-the-path is the point on the path which represents the point on the path which is [ ‘startOffset’ minus half of the total advance values for all of the glyphs in the ‘textPath’ element ] distance along the path from the start of the path, calculated using the user agent's distance along the path algorithm. For text-anchor:end, startpoint-on-the-path is the point on the path which represents the point on the path which is [ ‘startOffset’ minus the total advance values for all of the glyphs in the ‘textPath’ element ]. Before rendering the first glyph, the horizontal component of the startpoint-on-the-path is adjusted to take into account various horizontal alignment text properties and attributes, such as a ‘dx’ attribute value on a ‘tspan’ element. (In the picture above, the startpoint-on-the-path is the leftmost dot on the path.)
</span></li>

<li class="T">
グリフの文字幅（すなわち，横書テキスト配置によりグリフが描かれるときの現在のテキスト位置の水平アドバンス量）を決定する。
（上図では、文字幅はボックスの両端の２つの黒小丸の間の距離。）
<span lang="en">
Determine the glyph's charwidth (i.e., the amount which the current text position advances horizontally when the glyph is drawn using horizontal text layout). (In the picture above, the charwidth is the distance between the two dots at the side of the box.)
</span></li>

<li class="T">
このグリフに対するパス上始点からのパスに沿う距離が文字幅分の 曲線上の点を UA の
<a href="paths.html#DistanceAlongAPath">パスに沿う距離</a>
のアルゴリズムを用いた計算により決定する。
この点はグリフに対する
<span id="EndPointOnPath" class="SVG-Term" title="endpoint-on-the-path">パス上終点</span>
（上図では最も右側の赤小丸）である。
<span lang="en">
Determine the point on the curve which is charwidth distance along the path from the startpoint-on-the-path for this glyph, calculated using the user agent's distance along the path algorithm. This point is the endpoint-on-the-path for the glyph. (In the picture above, the endpoint-on-the-path for the glyph is the rightmost dot on the path.)
</span></li>

<li class="T">
<span id="MidPointOnPath" class="SVG-Term" title="midpoint-on-the-path">パス上中点</span>
、すなわち，パス上始点とパス上終点の間の「中点」（上図では白小丸）となる，パス上の点を決定する（ UA は距離計算または媒介変数による計算から選択してよい）。
<span lang="en">
Determine the midpoint-on-the-path, which is the point on the path which is "halfway" (user agents can choose either a distance calculation or a parametric calculation) between the startpoint-on-the-path and the endpoint-on-the-path. (In the picture above, the midpoint-on-the-path is shown as a white dot.)
</span></li>

<li class="T">
<span id="GlyphMidline" class="SVG-Term" title="glyph-midline">グリフ中央線</span>
（上図では点線）、すなわち，グリフの座標系の X 軸における グリフの中点を通る垂線を決定する。
<span lang="en">
Determine the glyph-midline, which is the vertical line in the glyph's coordinate system that goes through the glyph's x-axis midpoint. (In the picture above, the glyph-midline is shown as a dashed line.)
</span></li>

<li class="T">
グリフ中央線がパス上中点を通り，パス上始点とパス上終点を通る線に垂直になるように グリフを位置させる。
<span lang="en">
Position the glyph such that the glyph-midline passes through the midpoint-on-the-path and is perpendicular to the line through the startpoint-on-the-path and the endpoint-on-the-path.
</span></li>

<li class="T">
<a href="text.html#AlignmentBaselineProperty"><span class="prop-name">alignment-baseline</span></a>
プロパティと
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の属性
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
に指定された値に基づいて、グリフをパス上中点から相対的に縦に整列させる。
上の例では、
<a href="text.html#AlignmentBaselineProperty"><span class="prop-name">alignment-baseline</span></a>
プロパティは指定されておらず，初期値
<a href="text.html#AlignmentBaselineProperty"><span class="prop-value">alignment-baseline:baseline</span></a>
が用いられる。
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素は無いので、グリフの基底線がパス上中点に揃えられる。
<span lang="en">
Align the glyph vertically relative to the midpoint-on-the-path based on property ‘alignment-baseline’ and any specified values for attribute ‘dy’ on a ‘tspan’ element. In the example above, the ‘alignment-baseline’ property is unspecified, so the initial value of alignment-baseline:baseline will be used. There are no ‘tspan’ elements; thus, the baseline of the glyph is aligned to the midpoint-on-the-path.
</span></li>

<li class="T">
後続の各グリフに対し，新しくパス上始点を前のパス上終点に設定するが、フォントの横書カーニングテーブル, および
<a href="text.html#SpacingProperties">間隔調整プロパティ</a>
と属性
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
に値が与えられている
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素を含む種々の属性／プロパティの現在の値を考慮した，適切な調整を伴う。
すべての調整は、 UA の
<a href="paths.html#DistanceAlongAPath">パスに沿う距離</a>
のアルゴリズムを用いて，パスに沿う距離に対する調整として計算される。
<span lang="en">
For each subsequent glyph, set a new startpoint-on-the-path as the previous endpoint-on-the-path, but with appropriate adjustments taking into account horizontal kerning tables in the font and current values of various attributes and properties, including spacing properties and ‘tspan’ elements with values provided for attributes ‘dx’ and ‘dy’. All adjustments are calculated as distance adjustments along the path, calculated using the user agent's distance along the path algorithm.
</span></li>

<li class="T">
パス上中点がパスの端点より外に位置するグリフは描画されない。
<span lang="en">
Glyphs whose midpoint-on-the-path are off either end of the path are not rendered.
</span></li>

<li class="T">
グリフの描画はグリフが尽きるまで続けられる。
<span lang="en">
Continue rendering glyphs until there are no more glyphs.
</span></li>
</ul>

<p class="T">
パスに沿った上から下への縦書テキストの配置（すなわちグリフ方位が
<a href="text.html#SettingInlineProgressionDirection">行内進行方向</a>
に平行なとき）にも、相応する規則が用いられる。
配置規則は次のようになる：
<span lang="en">
Comparable rules are used for top-to-bottom vertical text layout along a path (i.e., when the glyph orientation is parallel with the inline-progression-direction), the layout rules are as follows:
</span></p>

    <ul>

<li class="T">
パスに沿った横書テキストの配置のときと同じ方法により、パス上始点を決定する。
ただし，最初のグリフの描画の前に，パス上始点の水平成分は、
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
属性の値など，様々な縦書テキスト用整列プロパティと属性を計算に入れて調整される。
<span lang="en">
Determine the startpoint-on-the-path using the same method as for horizontal text layout along a path, except that before rendering the first glyph, the horizontal component of the startpoint-on-the-path is adjusted to take into account various vertical alignment text properties and attributes, such as a ‘dy’ attribute value on a ‘tspan’ element.
</span></li>

<li class="T">
グリフの文字高（すなわち，縦書テキスト配置によりグリフが描かれるときの 現在のテキスト位置の垂直アドバンス量）を決定する。
<span lang="en">
Determine the glyph's charheight (i.e., the amount which the current text position advances vertically when the glyph is drawn using vertical text layout).
</span></li>

<li class="T">
このグリフに対する，パス上始点からパスに沿って文字高の分だけ進んだパス上の点を UA の
<a href="paths.html#DistanceAlongAPath">パスに沿う距離</a>
のアルゴリズムを用いた計算により決定する。
この点がグリフに対するパス上終点である。
<span lang="en">
Determine the point on the curve which is charheight distance along the path from the startpoint-on-the-path for this glyph, calculated using the user agent's distance along the path algorithm. This point is the endpoint-on-the-path for the glyph.
</span></li>

<li class="T">
パス上中点、すなわち，パス上始点とパス上終点の間の「中点」となる，パス上の点を決定する（ UA は距離計算または媒介変数による計算から選択してよい）。
<span lang="en">
Determine the midpoint-on-the-path, which is the point on the path which is "halfway" (user agents can choose either a distance calculation or a parametric calculation) between the startpoint-on-the-path and the endpoint-on-the-path.
</span></li>

<li class="T">
グリフ中央線、すなわち，グリフの座標系の Y 軸における，グリフの中点を通る水平線を決定する。
<span lang="en">
Determine the glyph-midline, which is the horizontal line in the glyph's coordinate system that goes through the glyph's y-axis midpoint.
</span></li>

<li class="T">
グリフ中央線がパス上中点を通り，パス上始点とパス上終点を通る線に垂直になるように、グリフを位置させる。
<span lang="en">
Position the glyph such that the glyph-midline passes through the midpoint-on-the-path and is perpendicular to the line through the startpoint-on-the-path and the endpoint-on-the-path.
</span></li>

<li class="T">
<a href="text.html#AlignmentBaselineProperty"><span class="prop-name">alignment-baseline</span></a>
プロパティと
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の属性
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>
に指定されている値に基づいて、グリフをパス上中点から相対的に横に整列する。
<span lang="en">
Align the glyph horizontally (where horizontal is relative to the glyph's coordinate system) relative to the midpoint-on-the-path based on property ‘alignment-baseline’ and any specified values for attribute ‘dx’ on a ‘tspan’ element.
</span></li>

<li class="T">
後続の各グリフに対し，新しくパス上始点を前のパス上終点に設定するが、フォントの縦書カーニングテーブル, および
<a href="text.html#SpacingProperties">間隔調整プロパティ</a>
と属性
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
に値が与えられている
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素を含む種々の属性／プロパティの現在の値を考慮した，適切な調整を伴う。
すべての調整は、 UA の
<a href="paths.html#DistanceAlongAPath">パスに沿う距離</a>
のアルゴリズムを用いて，パスに沿う距離の調整として計算される。
<span lang="en">
For each subsequent glyph, set a new startpoint-on-the-path as the previous endpoint-on-the-path, but with appropriate adjustments taking into account vertical kerning tables in the font and current values of various attributes and properties, including spacing properties and ‘tspan’ elements with values provided for attributes ‘dx’ and ‘dy’. All adjustments are calculated as distance adjustments along the path, calculated using the user agent's distance along the path algorithm.
</span></li>

<li class="T">
パス上中点がパスの端点より外に位置するグリフは描画されない。
<span lang="en">
Glyphs whose midpoint-on-the-path are off either end of the path are not rendered.
</span></li>

<li class="T">
グリフの描画はグリフが尽きるまで続けられる。
<span lang="en">
Continue rendering glyphs until there are no more glyphs.
</span></li>
</ul>

<p class="T">
上の計算において，もしパス上始点またはパス上終点がパスの端点より外に位置する場合、パス上中点の算出を可能にするために，パスの端点の傾きに平行な直線により 端点を越えてパスを延長する。
<span lang="en">
In the calculations above, if either the startpoint-on-the-path or the endpoint-on-the-path is off the end of the path, then extend the path beyond its end points with a straight line that is parallel to the tangent at the path at its end point so that the midpoint-on-the-path can still be calculated.
</span></p>

<p class="T">
<a href="text.html#TextElement"><span class="element-name">text</span></a>,
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>,
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>,
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素の <span class="attr-name">x</span> 属性／ <span class="attr-name">y</span> 属性は、それぞれ，
<a href="text.html#SettingInlineProgressionDirection">行内進行方向</a>
が横方向／縦方向の場合のパスに沿う新たな絶対オフセットを表現し，パス上始点に対し明示的な新たな値を与える。
横方向／縦方向の場合における，これらの要素の <span class="attr-name">y</span> 属性／ <span class="attr-name">x</span> 属性（同順）は無視される。
<span lang="en">
When the inline-progression-direction is horizontal, then any ‘x’ attributes on ‘text’, ‘tspan’, ‘tref’ or ‘altGlyph’ elements represent new absolute offsets along the path, thus providing explicit new values for startpoint-on-the-path. Any ‘y’ attributes on ‘text’, ‘tspan’, ‘tref’ or ‘altGlyph’ elements are ignored. When the inline-progression-direction is vertical, then any ‘y’ attributes on ‘text’, ‘tspan’, ‘tref’ or ‘altGlyph’ elements represent new absolute offsets along the path, thus providing explicit new values for startpoint-on-the-path. Any ‘x’ attributes on ‘text’, ‘tspan’, ‘tref’ or ‘altGlyph’ elements are ignored.
</span></p>




<h2 title="10.14 Alternate glyphs" id="AlternateGlyphs">10.14 代替グリフ</h2>

<p class="T">
リガチャ, 特殊な用途のフォント（例えば楽譜用のフォント）, アジア系テキストのための代替グリフなど、文字データに通常は対応しないグリフの異なるセットが必要になる状況がある。
<span lang="en">
There are situations such as ligatures, special-purpose fonts (e.g., a font for music symbols) or alternate glyphs for Asian text strings where it is required that a different set of glyphs is used than the glyph(s) which normally corresponds to the given character data.
</span></p>


<h3 title="10.14.1 The ‘altGlyph’ element" id="AltGlyphElement">10.14.1 <span class="element-name">altGlyph</span> 要素</h3>

<p class="T">
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素は特定の文字データの描画に利用されるグリフに対する制御を提供する。
<span lang="en">
The ‘altGlyph’ element provides control over the glyphs used to render particular character data.
</span></p>


<div class="element-summary"><div class="element-summary-name"><span class="element-name">altGlyph</span></div><dl><dt>分類：</dt><dd><a href="intro.html#TermTextContentElement">テキスト内容要素</a>,
<a href="intro.html#TermTextContentChildElement">テキスト内容子要素</a></dd>
<dt>内容モデル：</dt><dd title="Any elements or character data.">任意の要素または文字データ</dd>
<dt>属性：</dt><dd><ul class="no-bullets">
<li><a class="T-ex" href="intro.html#TermConditionalProcessingAttribute">条件付き処理属性</a></li>
<li><a class="T-ex" href="intro.html#TermCoreAttributes">中核属性</a></li>
<li><a class="T-ex" href="intro.html#TermGraphicalEventAttribute">グラフィカルイベント属性</a></li>
<li><a class="T-ex" href="intro.html#TermPresentationAttribute">呈示属性</a></li>
<li><a class="T-ex" href="intro.html#TermXLinkAttributes">xlink 属性</a><span>
<a href="text.html#AltGlyphElementHrefAttribute"><span class="attr-name">xlink:href</span></a></span></li>
<li><a href="styling.html#ClassAttribute"><span class="attr-name">class</span></a></li><li><a href="styling.html#StyleAttribute"><span class="attr-name">style</span></a></li><li><a href="struct.html#ExternalResourcesRequiredAttribute"><span class="attr-name">externalResourcesRequired</span></a></li><li><a href="text.html#AltGlyphElementXAttribute"><span class="attr-name">x</span></a></li><li><a href="text.html#AltGlyphElementYAttribute"><span class="attr-name">y</span></a></li><li><a href="text.html#AltGlyphElementDXAttribute"><span class="attr-name">dx</span></a></li><li><a href="text.html#AltGlyphElementDYAttribute"><span class="attr-name">dy</span></a></li><li><a href="text.html#AltGlyphElementGlyphRefAttribute"><span class="attr-name">glyphRef</span></a></li><li><a href="text.html#AltGlyphElementFormatAttribute"><span class="attr-name">format</span></a></li><li><a href="text.html#AltGlyphElementRotateAttribute"><span class="attr-name">rotate</span></a></li><li><a href="text.html#AltGlyphElementHrefAttribute"><span class="attr-name">xlink:href</span></a></li></ul></dd><dt>DOM インタフェース：</dt><dd><ul class="no-bullets"><li><a class="idlinterface" href="text.html#InterfaceSVGAltGlyphElement">SVGAltGlyphElement</a></li></ul></dd></dl></div>

    <div class="adef-list">
      <p><em>属性定義</em></p>
      <dl><dt id="AltGlyphElementHrefAttribute"><span class="adef">xlink:href</span> = "<a href="types.html#DataTypeIRI"><span class="attr-value">&lt;iri&gt;</span></a>"</dt><dd>

<p class="T">
SVG 文書片の
<a href="fonts.html#GlyphElement"><span class="element-name">glyph</span></a>
要素または
<a href="text.html#AltGlyphDefElement"><span class="element-name">altGlyphDef</span></a>
要素への
<a href="linking.html#IRIReference">IRI 参照</a>
。
<span lang="en">
An IRI reference either to a ‘glyph’ element in an SVG document fragment or to an ‘altGlyphDef’ element.
</span></p>

<p class="T">
参照先が
<a href="fonts.html#GlyphElement"><span class="element-name">glyph</span></a>
要素であり, かつ そのグリフが存在する場合、そのグリフが
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素内の文字の代わりに描画される。
<span lang="en">
If the reference is to a ‘glyph’ element and that glyph is available, then that glyph is rendered instead of the character(s) that are inside of the ‘altGlyph’ element.
</span></p>


<p class="T">
参照先が
<a href="text.html#AltGlyphDefElement"><span class="element-name">altGlyphDef</span></a>
要素であり, かつ 適切な代替グリフのセットが
<a href="text.html#AltGlyphDefElement"><span class="element-name">altGlyphDef</span></a>
要素の処理によって特定される場合、それらの代替グリフが
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素内の文字の代わりに描画される。
<span lang="en">
If the reference is to an ‘altGlyphDef’ element, then if an appropriate set of alternate glyphs is located from processing the ‘altGlyphDef’ element, then those alternate glyphs are rendered instead of the character(s) that are inside of the ‘altGlyph’ element.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>不可</span>

</dd><dt id="AltGlyphElementGlyphRefAttribute"><span class="adef">glyphRef</span> = "<span class="attr-value">&lt;string&gt;</span>"</dt><dd>

<p class="T">
グリフ識別子の形式は、
<a href="text.html#AltGlyphElementFormatAttribute"><span class="attr-name">format</span></a>
属性で与えられるフォントの形式に依存する（
<a href="text.html#GlyphRefElement"><span class="element-name">glyphRef</span></a>
要素の
<a href="text.html#GlyphRefElementGlyphRefAttribute"><span class="attr-name">glyphRef</span></a>
属性と同じ意味で）。
<span lang="en">
The glyph identifier, the format of which is dependent on the ‘format’ of the given font. (Same meaning as the ‘glyphRef’ attribute on the ‘glyphRef’ element.)
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>不可</span>

</dd><dt id="AltGlyphElementFormatAttribute"><span class="adef">format</span> = "<span class="attr-value">&lt;string&gt;</span>"</dt><dd>

<p class="T">
フォントの形式。
フォントが <em>TrueDoc™ Portable Font Resource</em> や <em>Embedded OpenType</em> など，
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/fonts.html#referencing">CSS2 仕様に挙げられているもの</a>
([<a href="refs.html#ref-CSS2">CSS2</a>], 15.3.5 節)
である場合、 &lt;string&gt; は <em>truedoc-pfr</em> や <em>embedded-opentype</em> など，対応するフォント形式の文字列を含んでいなければならない。
（この属性は
<a href="text.html#GlyphRefElement"><span class="element-name">glyphRef</span></a>
要素の
<a href="text.html#AltGlyphElementFormatAttribute"><span class="attr-name">format</span></a>
属性と同じ意味を持つ。）
<span lang="en">
The format of the given font. If the font is in one of the formats listed in CSS2 ([CSS2], section 15.3.5), such as TrueDoc™ Portable Font Resource or Embedded OpenType, then the &lt;string&gt; must contain the corresponding font format string, such as truedoc-pfr or embedded-opentype. (This attribute has the same meaning as the ‘format’ attribute on the ‘glyphRef’ element.)
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>不可</span>

</dd><dt id="AltGlyphElementXAttribute"><span class="adef">x</span> = "<a href="types.html#DataTypeCoordinates"><span class="attr-value">&lt;list-of-coordinates&gt;</span></a>"</dt><dd>

<p class="T">
<a href="types.html#DataTypeCoordinate">&lt;coordinate&gt;</a>
の値は
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>
属性と同じようにして処理されるが、次の例外を除く：もし参照先の代替グリフがこの
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素に含まれる Unicode 文字の代わりに描画されるならば、この
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素内の２番目から &lt;n&gt; 番目までの Unicode 文字に対応する，この要素とその任意の先祖の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
および
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<a href="text.html#AltGlyphElementXAttribute"><span class="attr-name">x</span></a>
属性で指定される絶対 X 座標は無視される。
この
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素内の最初の Unicode 文字に対応する，この要素またはそのいずれかの先祖の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
あるいは
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<a href="text.html#AltGlyphElementXAttribute"><span class="attr-name">x</span></a>
属性により指定される絶対 X 座標は、最初の代替グリフが描画される前に
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
に対する絶対 X 座標を新しく設定する。
<span lang="en">
The &lt;coordinate&gt; values are processed in the same manner as the ‘x’ attribute on the ‘tspan’ element, with the following exception: If the referenced alternate glyphs are rendered instead of the Unicode characters inside the ‘altGlyph’ element, then any absolute X coordinates specified via an ‘x’ attribute on this element or any ancestor ‘text’ or ‘tspan’ elements for Unicode characters 2 through n within the ‘altGlyph’ element are ignored. Any absolute X coordinate specified via an ‘x’ attribute on this element or any ancestor ‘text’ or ‘tspan’ elements for the first Unicode character within the ‘altGlyph’ element sets a new absolute X coordinate for the current text position before rendering the first alternate glyph.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd><dt id="AltGlyphElementYAttribute"><span class="adef">y</span> = "<a href="types.html#DataTypeCoordinates"><span class="attr-value">&lt;list-of-coordinates&gt;</span></a>"</dt><dd>

<p class="T">
（ <span class="attr-name">x</span> 属性に相応する）
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素の描画における絶対 Y 座標。
<span lang="en">
The corresponding absolute Y coordinates for rendering the ‘altGlyph’ element.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd><dt id="AltGlyphElementDXAttribute"><span class="adef">dx</span> = "<a href="types.html#DataTypeLengths"><span class="attr-value">&lt;list-of-lengths&gt;</span></a>"</dt><dd>

<p class="T">
<a href="types.html#DataTypeLength">&lt;length&gt;</a>
値は
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>
属性と同じようにして処理されるが、次の例外を除く：
もし参照先の代替グリフがこの
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素に含まれる Unicode 文字の代わりに描画されるならば、この要素に含まれる２番目から &lt;n&gt; 番目までの Unicode 文字に対し，この要素の
<a href="text.html#AltGlyphElementDXAttribute"><span class="attr-name">dx</span></a>
属性あるいはこの要素の任意の先祖の
<a href="text.html#TextElement"><span class="element-name">text</span></a>,
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素を通して指定される相対 X 座標は無視される。
この
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素に含まれる最初の Unicode 文字に対し，この要素の
<a href="text.html#AltGlyphElementDXAttribute"><span class="attr-name">dx</span></a>
属性あるいはこの要素のいずれかの先祖の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
または
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素を通して指定される相対 X 座標は、最初の代替グリフが描画される前に
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
に対する相対 X 座標を新しく設定する。
<span lang="en">
The &lt;length&gt; values are processed in the same manner as the ‘dx’ attribute on the ‘tspan’ element, with the following exception: If the referenced alternate glyphs are rendered instead of the Unicode characters inside the ‘altGlyph’ element, then any relative X coordinates specified via an ‘dx’ attribute on this element or any ancestor ‘text’ or ‘tspan’ elements for Unicode characters 2 through n within the ‘altGlyph’ element are ignored. Any relative X coordinate specified via an ‘dx’ attribute on this element or any ancestor ‘text’ or ‘tspan’ elements for the first Unicode character within the ‘altGlyph’ element sets a new relative X coordinate for the current text position before rendering the first alternate glyph.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd><dt id="AltGlyphElementDYAttribute"><span class="adef">dy</span> = "<a href="types.html#DataTypeLengths"><span class="attr-value">&lt;list-of-lengths&gt;</span></a>"</dt><dd>

<p class="T">
（ <span class="attr-name">dx</span> 属性に相応する）
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素の描画における相対 Y 座標。
<span lang="en">
The corresponding relative Y coordinates for rendering the ‘altGlyph’ element.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可</span>

</dd><dt id="AltGlyphElementRotateAttribute"><span class="adef">rotate</span> = "<a href="types.html#DataTypeNumbers"><span class="attr-value">&lt;list-of-numbers&gt;</span></a>"</dt><dd>

<p class="T">
<a href="types.html#DataTypeNumber">&lt;number&gt;</a>
値は
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
属性と同じようにして処理されるが、次の例外を除く：
もし参照先の代替グリフがこの
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素に含まれる Unicode 文字の代わりに描画されるならば、この要素に含まれる２番目から &lt;n&gt; 番目までの Unicode 文字に対し，この要素の
<a href="text.html#AltGlyphElementRotateAttribute"><span class="attr-name">rotate</span></a>
属性あるいはこの要素の任意の先祖の
<a href="text.html#TextElement"><span class="element-name">text</span></a>,
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素を通して指定される追加の回転は無視される。
この
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素に含まれる最初の Unicode 文字に対し，この要素の
<a href="text.html#AltGlyphElementRotateAttribute"><span class="attr-name">rotate</span></a>
属性あるいはこの要素のいずれかの先祖の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
または
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素を通して指定される追加の回転は、最初の代替グリフが描画される前に
<a href="text.html#CurrentTextPosition">現在のテキスト位置</a>
に対する追加の回転角度を新しく設定する。
<span lang="en">
The &lt;number&gt; values are processed in the same manner as the ‘rotate’ attribute on the ‘tspan’ element, with the following exception: If the referenced alternate glyphs are rendered instead of the Unicode characters inside the ‘altGlyph’ element, then any supplemental rotation values specified via an ‘rotate’ attribute on this element or any ancestor ‘text’ or ‘tspan’ elements for Unicode characters 2 through n within the ‘altGlyph’ element are ignored. Supplemental rotation values specified via an ‘rotate’ attribute on this element or any ancestor ‘text’ or ‘tspan’ elements for the first Unicode character within the ‘altGlyph’ element sets a new supplemental rotation angle before rendering the alternate glyphs.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>可（非加法的）</span>

</dd></dl>
    </div>

<p class="T">
もし代替グリフへの参照の結果，利用する代替グリフの特定ができない場合、
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素内の文字は
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素が
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素であったかのように描画される。
<span lang="en">
If the references to alternate glyphs do not result in successful identification of alternate glyphs to use, then the character(s) that are inside of the ‘altGlyph’ element are rendered as if the ‘altGlyph’ element were a ‘tspan’ element instead.
</span></p>

<p class="T">
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素は
<a href="text.html#AltGlyphElementHrefAttribute"><span class="attr-name">xlink:href</span></a>
属性を通して
<a href="fonts.html#GlyphElement"><span class="element-name">glyph</span></a>
要素または
<a href="text.html#AltGlyphDefElement"><span class="element-name">altGlyphDef</span></a>
要素を参照するか, あるいは
<a href="text.html#FontPropertiesUsedBySVG">フォント選択プロパティ</a>
（すなわちグリフ識別子とフォント形式）により グリフを特定する。
もし
<a href="text.html#AltGlyphElementHrefAttribute"><span class="attr-name">xlink:href</span></a>
属性が指定された場合，こちらが優先され、他のグリフ識別属性／プロパティは無視される。
<span lang="en">
An ‘altGlyph’ element either references a ‘glyph’ element or an ‘altGlyphDef’ element via its ‘xlink:href’ attribute or identifies a glyph by means of font selection properties, a glyph identifier and a font format. If the ‘xlink:href’ attribute is specified, it takes precedence, and the other glyph identification attributes and properties are ignored.
</span></p>




<h3 title="10.14.2 The ‘altGlyphDef’, ‘altGlyphItem’ and ‘glyphRef’ elements" id="AlternateGlyphDefinitions">10.14.2 <span class="element-name">altGlyphDef</span>, <span class="element-name">altGlyphItem</span>, <span class="element-name">glyphRef</span> 要素</h3>

<p class="T" id="AltGlyphDefElement">
<a href="text.html#AltGlyphDefElement"><span class="element-name">altGlyphDef</span></a>
要素は可能なグリフ置換セットを定義する。
<span lang="en">
The ‘altGlyphDef’ element defines a set of possible glyph substitutions.
</span></p>


<div class="element-summary"><div class="element-summary-name"><span class="element-name">altGlyphDef</span></div><dl><dt>分類：</dt><dd>None</dd>
<dt>内容モデル：</dt><dd title="Either: * one or more ‘glyphRef’ elements, or * one or more ‘altGlyphItem’ elements.">
      <ul>
        <li>１個以上の
<a href="text.html#GlyphRefElement"><span class="element-name">glyphRef</span></a>
要素, または</li>
        <li>１個以上の
<a href="text.html#AltGlyphItemElement"><span class="element-name">altGlyphItem</span></a>
要素</li>
      </ul>
のいずれか。</dd>
<dt>属性：</dt><dd><ul class="no-bullets">
<li><a class="T-ex" href="intro.html#TermCoreAttributes">中核属性</a></li>
</ul></dd><dt>DOM インタフェース：</dt><dd><ul class="no-bullets"><li><a class="idlinterface" href="text.html#InterfaceSVGAltGlyphDefElement">SVGAltGlyphDefElement</a></li></ul></dd></dl></div>

<p class="T">
<a href="text.html#AltGlyphDefElement"><span class="element-name">altGlyphDef</span></a>
には次のいずれも含ませられる：
<span lang="en">
An ‘altGlyphDef’ can contain either of the following:
</span></p>


<ul>

<li class="T">
最も単純な場合、
<a href="text.html#AltGlyphDefElement"><span class="element-name">altGlyphDef</span></a>
は１個以上の
<a href="text.html#GlyphRefElement"><span class="element-name">glyphRef</span></a>
要素を含む。
各
<a href="text.html#GlyphRefElement"><span class="element-name">glyphRef</span></a>
要素は 特定のフォントの１個のグリフを参照する。
参照先のグリフすべてが可用ならば、この要素を参照している
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素内の文字の代わりに，それらのグリフが描画される。
もし参照先のグリフのいずれかが利用不能ならば、文字を囲む
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素が無かったかのように
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素内の文字が描画される。
<span lang="en">
In the simplest case, an ‘altGlyphDef’ contains one or more ‘glyphRef’ elements. Each ‘glyphRef’ element references a single glyph within a particular font. If all of the referenced glyphs are available, then these glyphs are rendered instead of the character(s) inside of the referencing ‘altGlyph’ element. If any of the referenced glyphs are unavailable, then the character(s) that are inside of the ‘altGlyph’ element are rendered as if there were not an ‘altGlyph’ element surrounding those characters.
</span></li>

<li class="T">
より複雑な場合では、
<a href="text.html#AltGlyphDefElement"><span class="element-name">altGlyphDef</span></a>
は１個以上の
<a href="text.html#AltGlyphItemElement"><span class="element-name">altGlyphItem</span></a>
要素を含む。
各
<a href="text.html#AltGlyphItemElement"><span class="element-name">altGlyphItem</span></a>
は置換グリフの候補の集合を表現する。
各
<a href="text.html#AltGlyphItemElement"><span class="element-name">altGlyphItem</span></a>
は１個以上の
<a href="text.html#GlyphRefElement"><span class="element-name">glyphRef</span></a>
要素を含む。
各
<a href="text.html#GlyphRefElement"><span class="element-name">glyphRef</span></a>
要素は特定のフォントの１個のグリフを参照する。
参照先のグリフすべてが可用であるような
<a href="text.html#AltGlyphItemElement"><span class="element-name">altGlyphItem</span></a>
要素のうち，最初のものが選ばれる。
この
<a href="text.html#AltGlyphItemElement"><span class="element-name">altGlyphItem</span></a>
に参照されるグリフが、この
<a href="text.html#AltGlyphDefElement"><span class="element-name">altGlyphDef</span></a>
要素を参照している
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素内の文字の代わりに描画される。
もし どの
<a href="text.html#AltGlyphItemElement"><span class="element-name">altGlyphItem</span></a>
要素も失敗したならば（すなわち，参照先のグリフすべてが可用であるような
<a href="text.html#AltGlyphItemElement"><span class="element-name">altGlyphItem</span></a>
要素が無い）、文字を囲む
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素が無かったかのように
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素内の文字が描画される。
<span lang="en">
In the more complex case, an ‘altGlyphDef’ contains one or more ‘altGlyphItem’ elements. Each ‘altGlyphItem’ represents a candidate set of substitute glyphs. Each ‘altGlyphItem’ contains one or more ‘glyphRef’ elements. Each ‘glyphRef’ element references a single glyph within a particular font. The first ‘altGlyphItem’ in which all referenced glyphs are available is chosen. The glyphs referenced from this ‘altGlyphItem’ are rendered instead of the character(s) that are inside of the referencing ‘altGlyph’ element. If none of the ‘altGlyphItem’ elements result in a successful match (i.e., none of the ‘altGlyphItem’ elements has all of its referenced glyphs available), then the character(s) that are inside of the ‘altGlyph’ element are rendered as if there were not an ‘altGlyph’ element surrounding those characters.
</span></li>
</ul>

<p class="T" id="AltGlyphItemElement">
<a href="text.html#AltGlyphItemElement"><span class="element-name">altGlyphItem</span></a>
要素は可能なグリフ置換の候補の集合を定義する。
参照先のグリフすべてが可用であるような
<a href="text.html#AltGlyphItemElement"><span class="element-name">altGlyphItem</span></a>
要素のうち，最初のものが選ばれる。
それらのグリフたちが参照元の
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素内の文字の代わりに描画される。
<span lang="en">
The ‘altGlyphItem’ element defines a candidate set of possible glyph substitutions. The first ‘altGlyphItem’ element whose referenced glyphs are all available is chosen. Its glyphs are rendered instead of the character(s) that are inside of the referencing ‘altGlyph’ element.
</span></p>


<div class="element-summary"><div class="element-summary-name"><span class="element-name">altGlyphItem</span></div><dl><dt>分類：</dt><dd>None</dd>
<dt>内容モデル：</dt>
<dd>１個以上の
<a href="text.html#GlyphRefElement"><span class="element-name">glyphRef</span></a>
要素。</dd>
<dt>属性：</dt><dd><ul class="no-bullets">
<li><a class="T-ex" href="intro.html#TermCoreAttributes">中核属性</a></li>
</ul></dd><dt>DOM インタフェース：</dt><dd><ul class="no-bullets"><li><a class="idlinterface" href="text.html#InterfaceSVGAltGlyphItemElement">SVGAltGlyphItemElement</a></li></ul></dd></dl></div>

<p class="T" id="GlyphRefElement">
<a href="text.html#GlyphRefElement"><span class="element-name">glyphRef</span></a>
要素は利用可能なグリフを定義する。
<span lang="en">
The ‘glyphRef’ element defines a possible glyph to use.
</span></p>


<div class="element-summary"><div class="element-summary-name"><span class="element-name">glyphRef</span></div><dl><dt>分類：</dt><dd>None</dd>
<dt>内容モデル：</dt><dd title="Empty.">空。</dd>
<dt>属性：</dt><dd><ul class="no-bullets">
<li><a class="T-ex" href="intro.html#TermCoreAttributes">中核属性</a></li>
<li><a class="T-ex" href="intro.html#TermPresentationAttribute">呈示属性</a></li>
<li><a class="T-ex" href="intro.html#TermXLinkAttributes">xlink 属性</a><span>
<a href="text.html#GlyphRefElementHrefAttribute"><span class="attr-name">xlink:href</span></a></span></li>
<li><a href="styling.html#ClassAttribute"><span class="attr-name">class</span></a></li><li><a href="styling.html#StyleAttribute"><span class="attr-name">style</span></a></li><li><a href="text.html#GlyphRefElementXAttribute"><span class="attr-name">x</span></a></li><li><a href="text.html#GlyphRefElementYAttribute"><span class="attr-name">y</span></a></li><li><a href="text.html#GlyphRefElementDXAttribute"><span class="attr-name">dx</span></a></li><li><a href="text.html#GlyphRefElementDYAttribute"><span class="attr-name">dy</span></a></li><li><a href="text.html#GlyphRefElementGlyphRefAttribute"><span class="attr-name">glyphRef</span></a></li><li><a href="text.html#GlyphRefElementFormatAttribute"><span class="attr-name">format</span></a></li><li><a href="text.html#GlyphRefElementHrefAttribute"><span class="attr-name">xlink:href</span></a></li></ul></dd><dt>DOM インタフェース：</dt><dd><ul class="no-bullets"><li><a class="idlinterface" href="text.html#InterfaceSVGGlyphRefElement">SVGGlyphRefElement</a></li></ul></dd></dl></div>

    <div class="adef-list">
      <p><em>属性定義</em></p>
      <dl><dt id="GlyphRefElementHrefAttribute"><span class="adef">xlink:href</span> = "<a href="types.html#DataTypeIRI"><span class="attr-value">&lt;iri&gt;</span></a>"</dt><dd>

<p class="T">
SVG 文書片の
<a href="fonts.html#GlyphElement"><span class="element-name">glyph</span></a>
要素への
<a href="linking.html#IRIReference">IRI 参照</a>
。
参照先の
<a href="fonts.html#GlyphElement"><span class="element-name">glyph</span></a>
が代替グリフとして描画される。
<span lang="en">
An IRI reference to a ‘glyph’ element in an SVG document fragment. The referenced ‘glyph’ is rendered as an alternate glyph.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>不可</span>

</dd><dt id="GlyphRefElementGlyphRefAttribute"><span class="adef">glyphRef</span> = "<span class="attr-value">&lt;string&gt;</span>"</dt><dd>

<p class="T">
グリフ識別子。
その書式はフォントの
<a href="text.html#GlyphRefElementFormatAttribute"><span class="attr-name">format</span></a>
に依存する。
<span lang="en">
The glyph identifier, the format of which is dependent on the ‘format’ of the given font.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>不可</span>

</dd><dt id="GlyphRefElementFormatAttribute"><span class="adef">format</span> = "<span class="attr-value">&lt;string&gt;</span>"</dt><dd>

<p class="T">
フォントの形式。
フォントが <em>TrueDoc™ Portable Font Resource</em> や <em>Embedded OpenType</em> など，
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/fonts.html#referencing">CSS2 仕様に挙げられているもの</a>
([<a href="refs.html#ref-CSS2">CSS2</a>], 15.3.5 節)
である場合、 &lt;string&gt; は <em>truedoc-pfr</em> や <em>embedded-opentype</em> など，対応するフォント形式の文字列を含んでいなければならない。
<span lang="en">
The format of the given font. If the font is in one of the formats listed in CSS2 ([CSS2], section 15.3.5), such as TrueDoc™ Portable Font Resource or Embedded OpenType, then the &lt;string&gt; must contain the corresponding font format string, such as truedoc-pfr or embedded-opentype.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>不可</span>

</dd><dt id="GlyphRefElementXAttribute"><span class="adef">x</span> = "<a href="types.html#DataTypeNumber"><span class="attr-value">&lt;number&gt;</span></a>"</dt><dd>

<p class="T">
この値は、このグリフのフォントの座標系における新たな絶対 X 座標を表す。
<span lang="en">
This value represents the new absolute X coordinate within the font's coordinate system for this glyph.
</span></p>


<p class="T">
フォントの座標系は、 CSS2 の
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/fonts.html">フォント</a>
([<a href="refs.html#ref-CSS2">CSS2</a>], 15 章)
で述べられている <em>エム平方</em> のモデルに基づく。
<span lang="en">
The font coordinate system is based on the em square model described in the Fonts chapter of CSS2 ([CSS2], chapter 15).
</span></p>

<p class="T">
この属性が指定されていない場合、最初の
<a href="text.html#GlyphRefElement"><span class="element-name">glyphRef</span></a>
子要素に対しては，この属性は "0" とみなされる一方、後続の
<a href="text.html#GlyphRefElement"><span class="element-name">glyphRef</span></a>
子要素に対しては，この属性は前の
<a href="text.html#GlyphRefElement"><span class="element-name">glyphRef</span></a>
要素からの終点 X 座標に設定される。
<span lang="en">
If the attribute is not specified, for the first ‘glyphRef’ child element, the effect is as if the attribute were set to "0", whereas for subsequent ‘glyphRef’ child elements, the effect is as if the attribute were set to the end X coordinate from the previous ‘glyphRef’ element.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>不可</span>

</dd><dt id="GlyphRefElementYAttribute"><span class="adef">y</span> = "<a href="types.html#DataTypeNumber"><span class="attr-value">&lt;number&gt;</span></a>"</dt><dd>

<p class="T">
（ <span class="attr-name">x</span> 属性に相応する）
このグリフのフォントの座標系における新たな絶対 Y 座標。
<span lang="en">
The corresponding new absolute Y coordinate within the font's coordinate system for this glyph.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>不可</span>

</dd><dt id="GlyphRefElementDXAttribute"><span class="adef">dx</span> = "<a href="types.html#DataTypeNumber"><span class="attr-value">&lt;number&gt;</span></a>"</dt><dd>

<p class="T">
この値は このグリフのフォントの座標系における相対 X 座標を表す。
すなわち，フォントの座標系において、グリフは
<a href="text.html#GlyphRefElementXAttribute"><span class="attr-name">x</span></a>
属性（明示的に指定された
<a href="text.html#GlyphRefElementXAttribute"><span class="attr-name">x</span></a>
属性または
<a href="text.html#GlyphRefElementXAttribute"><span class="attr-name">x</span></a>
属性の処理による既定の値）によって確立される絶対 X 座標から <span class="attr-value">&lt;number&gt;</span> の分だけ X 軸正方向にずらされる。
<span lang="en">
This value represents the relative X coordinate within the font's coordinate system for this glyph. The glyph is thus shifted by &lt;number&gt; units along the positive X axis within the font's coordinate system supplemental to the absolute X coordinate established by the ‘x’ attribute (either due to an explicit ‘x’ attribute or due to default value processing for the ‘x’ attribute).
</span></p>


<p class="T">
フォントの座標系は CSS2 の
<a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/fonts.html">フォント</a>
([<a href="refs.html#ref-CSS2">CSS2</a>], 15 章)
で述べられている <em>エム平方</em> のモデルに基づく。
<span lang="en">
The font coordinate system is based on the em square model described in the Fonts chapter of CSS2 ([CSS2], chapter 15).
</span></p>


<p class="T">
この属性が指定されていない場合の効果は、値 "0" が指定されたときと同じになる。
<span lang="en">
If the attribute is not specified, the effect is as if the attribute were set to "0".
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>不可</span>

</dd><dt id="GlyphRefElementDYAttribute"><span class="adef">dy</span> = "<a href="types.html#DataTypeNumber"><span class="attr-value">&lt;number&gt;</span></a>"</dt><dd>

<p class="T">
（ <span class="attr-name">dx</span> 属性に相応する）
フォントの座標系の単位による，
<a href="text.html#GlyphRefElementYAttribute"><span class="attr-name">y</span></a>
属性により確立される絶対 Y 座標からの Y 軸正方向へのグリフのずれ量。
<span lang="en">
The corresponding number of units within the font's coordinate system to shift the glyph along the positive Y axis relative to the absolute Y coordinate established by the ‘y’ attribute.
</span></p>


<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>不可</span>

</dd></dl>
    </div>

<p class="T">
<a href="text.html#GlyphRefElement"><span class="element-name">glyphRef</span></a>
要素は、
<a href="text.html#AltGlyphElementHrefAttribute"><span class="attr-name">xlink:href</span></a>
属性を通して SVG 文書片の
<a href="fonts.html#GlyphElement"><span class="element-name">glyph</span></a>
要素を参照するか, あるいは
<a href="text.html#FontPropertiesUsedBySVG">フォント選択プロパティ</a>
（すなわちグリフ識別子とフォント形式）により，グリフを特定する。
もし属性やプロパティの指定がグリフの特定に不十分な場合、
<a href="text.html#GlyphRefElement"><span class="element-name">glyphRef</span></a>
の処理は、グリフ参照が完全に指定されてはいるが 与えられたグリフが利用不能なときと同じになる。
<a href="text.html#AltGlyphElementHrefAttribute"><span class="attr-name">xlink:href</span></a>
属性が指定されていた場合はそちらが優先され、他のグリフ識別属性／プロパティは無視される。
<span lang="en">
A ‘glyphRef’ either references a ‘glyph’ element in an SVG document fragment via its ‘xlink:href’ attribute or identifies a glyph by means of font selection properties, a glyph identifier and a font format. If insufficient attributes and properties have been specified to identify a glyph, then the ‘glyphRef’ is processed in the same manner as when a glyph reference is fully specified, but the given glyph is not available. If the ‘xlink:href’ attribute is specified, it takes precedence, and the other glyph identification attributes and properties are ignored.
</span></p>




<h2 title="10.15 White space handling" id="WhiteSpace">10.15 空白の処理</h2>

<p class="T" id="XMLSpaceAttribute">
XML の文字データにおける空白類の扱いを指定するための標準 XML 属性
<a href="struct.html#XMLSpaceAttribute"><span class="attr-name">xml:space</span></a>
は、 SVG の
<a href="#TextElement"><span class="element-name">text</span></a>
要素内の文字データにおいてもサポートされる。

<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素のどの子要素も、それらのテキスト内容に適用されることになる 
<a href="struct.html#XMLSpaceAttribute"><span class="attr-name">xml:space</span></a>
属性を持つことに注意。

SVG-UA は 以下で述べる，この属性に関する特別な処理規則を持つ。
これらは XML の構文解析
[<a href="http://www.w3.org/TR/2008/REC-xml-20081126/">XML10</a>]
と DOM の構築が完了した後に続くふるまいである。
<span lang="en">
SVG supports the standard XML attribute ‘xml:space’ to specify the handling of white space characters within a given ‘text’ element's character data. Note that any child element of a ‘text’ element may also have an ‘xml:space’ attribute which will apply to that child element's text content. The SVG user agent has special processing rules associated with this attribute as described below. These are behaviors that occur subsequent to XML parsing [XML10] and any construction of a DOM.
</span></p>

<p class="T">
<a href="struct.html#XMLSpaceAttribute"><span class="attr-name">xml:space</span></a>
は 継承可能な属性であり，２種類の値をとれる：
<span lang="en">
‘xml:space’ is an inheritable attribute which can have one of two values:
</span></p>


<dl><dt><span class="attr-value">default</span></dt>

<dd class="T">
（
<a href="struct.html#XMLSpaceAttribute"><span class="attr-name">xml:space</span></a>
の初期／既定値） <code>xml:space="default"</code> と指定されている場合、 SVG-UA は元の文字データ内容の複製に対し次を行う：まず，すべての改行を取り除く。
次に，すべてのタブ文字をスペース文字に置き換え, 先頭および末尾の連続するスペース文字をすべて取り去り, 最後にすべての連続するスペース文字は１個にまとめられる。
<span lang="en">
(The initial/default value for ‘xml:space’.) When xml:space="default", the SVG user agent will do the following using a copy of the original character data content. First, it will remove all newline characters. Then it will convert all tab characters into space characters. Then, it will strip off all leading and trailing space characters. Then, all contiguous space characters will be consolidated.
</span>
</dd>
<dt><span class="attr-value">preserve</span></dt>

<dd class="T">
<code>xml:space="preserve"</code> と指定されている場合、 SVG-UA は元の文字データ内容の複製に対し次を行う：すべての改行とタブ文字はスペース文字に置き換えられるが、スペース文字は先頭および末尾のもの, 連続したものも含めて、残さず描かれる。
このように， <code>xml:space="preserve"</code> においては、文字列 <code>"a&nbsp;&nbsp;&nbsp;b"</code>（"a" と "b" の間に３個の空白）は <code>"a&nbsp;b"</code> （"a" と "b" の間に空白１個だけ）より、"a" と "b" の間が大きく空くように描かれる。
<span lang="en">
When xml:space="preserve", the SVG user agent will do the following using a copy of the original character data content. It will convert all newline and tab characters into space characters. Then, it will draw all space characters, including leading, trailing and multiple contiguous space characters. Thus, when drawn with xml:space="preserve", the string "a&nbsp;&nbsp;&nbsp;b" (three spaces between "a" and "b") will produce a larger separation between "a" and "b" than "a b" (one space between "a" and "b").
</span>
</dd>
</dl>

<p class="T">
次の例に， <span class="attr-value">xml:space="default"</span> が利用される場合に行の字下げが重要な意味を持つことを示す。
下の文書片には２つの似たような
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の対がある。
どちらの
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素にも <span class="attr-value">xml:space="default"</span> が利用されている。
どの行の終りにも空白類はないものとする（すなわち、行の最後の可視文字の直後に改行が続く）。
<span lang="en">
The following example illustrates that line indentation can be important when using xml:space="default". The fragment below show two pairs of similar ‘text’ elements, with both ‘text’ elements using xml:space="default". For these examples, there is no extra white space at the end of any of the lines (i.e., the line break occurs immediately after the last visible character).
</span></p>


<pre>[01]  &lt;text xml:space='default'&gt;
[02]    WS example
[03]    indented lines
[04]  &lt;/text&gt;
[05]  &lt;text xml:space='preserve'&gt;WS example indented lines&lt;/text&gt;
[06]
[07]  &lt;text xml:space='default'&gt;
[08]WS example
[09]non-indented lines
[10]  &lt;/text&gt;
[11]  &lt;text xml:space='preserve'&gt;WS examplenon-indented lines&lt;/text&gt;
</pre>

<p class="T">
最初の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の対は字下げされた文字データを示している。
最初の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の属性 <span class="attr-value">xml:space="default"</span>
は、 UA に次を指示する：
<span lang="en">
The first pair of ‘text’ elements above show the effect of indented character data. The attribute xml:space="default" in the first ‘text’ element instructs the user agent to:
</span></p>


<ul>

<li class="T">
すべてのタブを（もし在れば）スペース文字に置き換え,
<span lang="en">
convert all tabs (if any) to space characters,
</span></li>

<li class="T">
改行（すなわち、行 [01], [02], [03] の終りの改行）を取り除き,
<span lang="en">
strip out all line breaks (i.e., strip out the line breaks at the end of lines [01], [02] and [03]),
</span></li>

<li class="T">
先頭のスペース文字（すなわち、行 [02] の "WS example" の前に在るスペース文字）をすべて取り除き,
<span lang="en">
strip out all leading space characters (i.e., strip out space characters before "WS example" on line [02]),
</span></li>

<li class="T">
末尾のスペース文字（すなわち、行 [04] の "&lt;/text&gt;" の前に在るスペース文字）をすべて取り除き,
<span lang="en">
strip out all trailing space characters (i.e., strip out space characters before "&lt;/text&gt;" on line [04]),
</span></li>

<li class="T">
中途の連続するスペース文字すべて（すなわち、行 [03] の字下げされた行の前のスペース文字）をそれぞれ１個のスペース文字にまとめる。
<span lang="en">
consolidate all intermediate space characters (i.e., the space characters before "indented lines" on line [03]) into a single space character.
</span></li>
</ul>

<p class="T">
後半の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の対は 字下げされていない文字データを示している。
３番目の
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の属性 <span class="attr-value">xml:space="default"</span> は、 UA に次を指示する：
<span lang="en">
The second pair of ‘text’ elements above show the effect of non-indented character data. The attribute xml:space="default" in the third ‘text’ element instructs the user agent to:
</span></p>


<ul>

<li class="T">
すべてのタブを（もし在れば）スペース文字に置き換え,
<span lang="en">
convert all tabs (if any) to space characters,
</span></li>

<li class="T">
改行（すなわち，行 [07], [08], [09] の終りの改行）を取り除き,
<span lang="en">
strip out all line breaks (i.e., strip out the line breaks at the end of lines [07], [08] and [09]),
</span></li>

<li class="T">
先頭のスペース文字をすべて取り除き（この例ではそのようなスペース文字は無い）,
<span lang="en">
strip out all leading space characters (there are no leading space characters in this example),
</span></li>

<li class="T">
末尾のスペース文字（すなわち，行 [10] の "&lt;/text&gt;" の前に在るスペース文字）をすべて取り除き,
<span lang="en">
strip out all trailing space characters (i.e., strip out space characters before "&lt;/text&gt;" on line [10]),
</span></li>

<li class="T">
中途の連続するスペース文字すべてをそれぞれ１個のスペース文字にまとめる（この例ではそのようなスペース文字は無い）。
<span lang="en">
consolidate all intermediate space characters into a single space character (in this example, there are no intermediate space characters).
</span></li>
</ul>

<p class="T">
XML 構文解析処理では、文字データをアプリケーションに渡す前に，改行指示の標準表現（例えば，２文字のリテラル "#xD#xA" か１文字のリテラル #xD または #xA ）を１個の文字 #xA に変換することが要求されていることに注意。
すなわち， SVG の各改行は、元のリソースに利用されている改行表現に関係なく，１個の文字 #xA で表現される。
（
<a href="http://www.w3.org/TR/REC-xml/#sec-line-ends">XML end-of-line handling</a>
参照。）
<span lang="en">
Note that XML parsers are required to convert the standard representations for a newline indicator (e.g., the literal two-character sequence "#xD#xA" or the stand-alone literals #xD or #xA) into the single character #xA before passing character data to the application. Thus, each newline in SVG will be represented by the single character #xA, no matter what representation for newlines might have been used in the original resource. (See XML end-of-line handling.)
</span></p>

<p class="T">
<a href="text.html#TextElement"><span class="element-name">text</span></a>,
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>,
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>,
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素の
<a href="text.html#TSpanElementXAttribute"><span class="attr-name">x</span></a>,
<a href="text.html#TSpanElementYAttribute"><span class="attr-name">y</span></a>,
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>,
<a href="text.html#TSpanElementRotateAttribute"><span class="attr-name">rotate</span></a>
属性など，文字の現れる順番に基づく SVG 言語や SVG DOM の機能は、ここで述べられた空白類の処理の適用後の文字列に基づく。
特に <span class="attr-value">xml:space="default"</span> の場合、空白類は多くの場合，処理の一部として取り除かれる。
テキスト文字列の各文字に対する番号付けは、この節の規則により空白類が取り除かれた後に行われる。
<span lang="en">
Any features in the SVG language or the SVG DOM that are based on character position number, such as the ‘x’, ‘y’, ‘dx’, ‘dy’ and ‘rotate’ attributes on the ‘text’, ‘tspan’, ‘tref’ and ‘altGlyph’ elements, are based on character position after applying the white space handling rules described here. In particular, if xml:space="default", it is often the case that white space characters are removed as part of processing. Character position numbers index into the text string after the white space characters have been removed per the rules in this section.
</span></p>

<p class="T">
空白類に対応するグリフは グリフ自身が非空白であったとしても，空隙として表示されるべきである。
<a href="http://www.unicode.org/faq/unsup_char.html">未サポート文字の表示</a>
[<a href="refs.html#ref-UNICODE">UNICODE</a>]
を参照のこと。
<span lang="en">
Note that a glyph corresponding to a whitespace character should only be displayed as a visible but blank space, even if the glyph itself happens to be non-blank. See display of unsupported characters [UNICODE].
</span></p><!-- PR -->

<p class="T">
<a href="struct.html#XMLSpaceAttribute"><span class="attr-name">xml:space</span></a>
属性では：
<span lang="en">
The ‘xml:space’ attribute is:
</span></p>

<p class="T">
&nbsp;&nbsp;&nbsp;&nbsp;
<span class="anim-target"><a href="animate.html#Animatable">アニメーション：</a>不可</span></p>


<h2 title="10.16 Text selection and clipboard operations" id="TextSelection">10.16 テキスト選択とクリップボード処理</h2>

<p class="T">
システムがテキスト選択可能で（例えばマウスのようなポインティング装置を装備したシステム），コピーとペースト処理のためのクリップボードを備えている場合、
<a href="conform.html#ConformingSVGViewers">適合 SVG ビューア</a>
には次に挙げる機能のサポートが要求される：
<span lang="en">
Conforming SVG viewers on systems which have the capacity for text selection (e.g., systems which are equipped with a pointer device such as a mouse) and which have system clipboards for copy/paste operations are required to support:
</span></p>


<ul>

<li class="T">
利用者による SVG 内容のテキスト文字列の選択。
<span lang="en">
user selection of text strings in SVG content
</span></li>

<li class="T">
選択されたテキスト文字列をシステムのクリップボードにコピーすること。
<span lang="en">
the ability to copy selected text strings to the system clipboard
</span></li>
</ul>

<p class="T">
テキスト選択処理は次に挙げるすべてが生じたときに開始される：
<span lang="en">
A text selection operation starts when all of the following occur:
</span></p>


<ul>

<li class="T">
利用者がポインティング装置により
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素の一部として描画されたグリフを指し, <em>選択</em>操作を開始し（例えばシステム標準のマウスボタンの押下による選択操作）, <em>選択</em>操作を続けつつポインティング装置を動かす（例えばシステム標準のマウスボタンを押しながら選択操作を続ける）。
<span lang="en">
the user positions the pointing device over a glyph that has been rendered as part of a ‘text’ element, initiates a select operation (e.g., pressing the standard system mouse button for select operations) and then moves the pointing device while continuing the select operation (e.g., continuing to press the standard system mouse button for select operations)
</span></li>

<li class="T">
他の可視グラフィックス要素が、ポインティング装置によってクリックされた地点にあるグリフの上に塗られていない。
<span lang="en">
no other visible graphics element has been painted above the glyph at the point at which the pointing device was clicked
</span></li>

<li class="T">
グリフに関連付けられた
<a href="text.html#TextElement"><span class="element-name">text</span></a>,
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>,
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
要素いずれか（またはその先祖要素）に
<a href="linking.html#Links">リンク</a>
や
<a href="script.html#EventHandling">イベント</a>
が指定されていない。
<span lang="en">
no links or events have been assigned to the ‘text’, ‘tspan’ or ‘textPath’ element(s) (or their ancestors) associated with the given glyph.
</span></li>
</ul>

<p class="T">
テキスト選択操作の間（例えば利用者がマウスボタンを押し続ける），他のグラフィックス要素に関連するイベントすべては無視され（すなわちテキスト選択操作はモダールになる）、 SVG-UA は選択されたグリフを補色で再描画するなどの適切なハイライトにより，どの文字が選択されているかを動的に表現することになる。
テキスト選択操作においてマウスポインタが動きつづける間，選択部分における最後のグリフは、同じ
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素内のグリフで，グリフセルがポインタにもっとも近いものになる。
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素内での位置が選択部分の始めと終わりの間にあるすべての文字は、キャンバス上の位置に関係なく, グラフィックス要素が選択部分の終わりの上を覆うかどうかにも関係なく，ハイライトされることになる。
<span lang="en">
As the text selection operation proceeds (e.g., the user continues to press the given mouse button), all associated events with other graphics elements are ignored (i.e., the text selection operation is modal) and the SVG user agent shall dynamically indicate which characters are selected by an appropriate highlighting technique, such as redrawing the selected glyphs with inverse colors. As the pointer is moved during the text selection process, the end glyph for the text selection operation is the glyph within the same ‘text’ element whose glyph cell is closest to the pointer. All characters within the ‘text’ element whose position within the ‘text’ element is between the start of selection and end of selection shall be highlighted, regardless of position on the canvas and regardless of any graphics elements that might be above the end of selection point.
</span></p>

<p class="T">
一度テキスト選択操作が完了すれば（例えば利用者がマウスの押下を解放したとき）、選択されたテキストは，ポインティング装置によるイベントなど（例えばマウスボタンの押下）テキスト選択を解除するイベントが発生するまで，ハイライトされ続ける。
<span lang="en">
Once the text selection operation ends (e.g., the user releases the given mouse button), the selected text will stay highlighted until an event occurs which cancels text selection, such as a pointer device activation event (e.g., pressing a mouse button).
</span></p>

<p class="T">
テキスト選択操作中にどの文字をハイライトし続けるかの規則の詳細は
<a href="implnote.html#TextSelectionImplementationNotes">テキスト選択の実装上の注意</a>
で与える。
<span lang="en">
Detailed rules for determining which characters to highlight during a text selection operation are provided in Text selection implementation notes.
</span></p>

<p class="T">
システムクリップボードを持つシステムにおいては、選択されているテキストをシステムクリップボードにコピーするためのユーザインタフェースを提供することが， SVG-UA に要求される。
SVG-UA は、選択されたテキスト文字列をクリップボードに渡す際に，システムにおける素のテキスト用のクリップボードデータ形式にするだけでも十分であるが、テキストに関連付けられた種々の
<a href="text.html#FontPropertiesUsedBySVG">フォントプロパティ</a>
も含めたリッチテキストも渡す方が望ましい。
<span lang="en">
For systems which have system clipboards, the SVG user agent is required to provide a user interface for initiating a copy of the currently selected text to the system clipboard. It is sufficient for the SVG user agent to post the selected text string in the system's appropriate clipboard format for plain text, but it is preferable if the SVG user agent also posts a rich text alternative which captures the various font properties associated with the given text string.
</span></p>

<p class="T">
双方向テキストに対しては、論理順序によるテキスト選択のサポートが UA に要求される。
この場合の選択結果は、双方向による再配列により，グリフのハイライトが不連続になり得る。
UA は，双方向テキストの選択を視覚的描画順序（すなわち
<a href="text.html#RelationshipWithBiDirectionality">双方向</a>
テキスト配置アルゴリズムが適用された後）に従うような代替の機能を提供してもよいが、選択された文字データが論理順序において不連続となり得る。
この場合，利用者が双方向テキストのクリップボードへのコピーを要求したときは、視覚的に選択された文字たちのみをコピーするように，適切な調整を行うことが UA に要求される。
<span lang="en">
For bidirectional text, the user agent must support text selection in logical order, which will result in discontinuous highlighting of glyphs due to the bidirectional reordering of characters. User agents can provide an alternative ability to select bidirectional text in visual rendering order (i.e., after bidirectional text layout algorithms have been applied), with the result that selected character data might be discontinuous logically. In this case, if the user requests that bidirectional text be copied to the clipboard, then the user agent is required to make appropriate adjustments to copy only the visually selected characters to the clipboard.
</span></p>

<p class="T">
可能なら， SVG 生成器は、ウェブブラウザのような SVG 表示ソフトウエアの中で正しく順序付けられたテキスト選択を容易にするように，テキスト文字列を順序付けることが推奨される。
<span lang="en">
When feasible, it is recommended that generators of SVG attempt to order their text strings to facilitate properly ordered text selection within SVG viewing applications such as Web browsers.
</span></p>


<h2 title="10.17 DOM interfaces" id="DOMInterfaces">10.17 DOM インタフェース</h2>

<h3 title="10.17.1 Interface SVGTextContentElement" id="InterfaceSVGTextContentElement">10.17.1 インタフェース SVGTextContentElement</h3>

<p class="T">
<a class="idlinterface" href="text.html#InterfaceSVGTextContentElement">SVGTextContentElement</a>
インタフェースは
<a class="idlinterface" href="text.html#InterfaceSVGTextElement">SVGTextElement</a>,
<a class="idlinterface" href="text.html#InterfaceSVGTSpanElement">SVGTSpanElement</a>,
<a class="idlinterface" href="text.html#InterfaceSVGTRefElement">SVGTRefElement</a>,
<a class="idlinterface" href="text.html#InterfaceSVGAltGlyphElement">SVGAltGlyphElement</a>,
<a class="idlinterface" href="text.html#InterfaceSVGTextPathElement">SVGTextPathElement</a>
など、種々のテキスト関連のインタフェースに継承される。
<span lang="en">
The SVGTextContentElement is inherited by various text-related interfaces, such as SVGTextElement, SVGTSpanElement, SVGTRefElement, SVGAltGlyphElement and SVGTextPathElement.
</span></p>

<p class="T">
このインタフェースの文字のインデックスおよび個数を参照するメソッドにおいては、それらの参照はそれぞれ UTF-16 符号単位のインデックス／個数と解釈される。
これは、 DOM2 Core の
<a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-FF21A306">CharacterData</a>
インタフェースのメソッドがインデックスおよび個数として文字データ内の UTF-16 符号単位を利用することとの一貫性を保つためである。
したがって例えば、
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素のテキスト内容が U+10000 などの１個の非 BMP 文字ならば、２つの UTF-16 符号単位（サロゲートペア）が１個の文字を表現するので，要素に対する
<a class="idlattr" href="text.html#__svg__SVGTextContentElement__getNumberOfChars">getNumberOfChars</a>
の呼び出しでは 2 が返されることになる。
<span lang="en">
For the methods on this interface that refer to an index to a character or a number of characters, these references are to be interpreted as an index to a UTF-16 code unit or a number of UTF-16 code units, respectively. This is for consistency with DOM Level 2 Core, where methods on the CharacterData interface use UTF-16 code units as indexes and counts within the character data. Thus for example, if the text content of a ‘text’ element is a single non-BMP character, such as U+10000, then invoking getNumberOfChars on that element will return 2 since there are two UTF-16 code units (the surrogate pair) used to represent that one character.
</span></p>

<pre class="idl">interface <b>SVGTextContentElement</b> : <a class="idlinterface" href="types.html#InterfaceSVGElement">SVGElement</a>,
                                  <a class="idlinterface" href="types.html#InterfaceSVGTests">SVGTests</a>,
                                  <a class="idlinterface" href="types.html#InterfaceSVGLangSpace">SVGLangSpace</a>,
                                  <a class="idlinterface" href="types.html#InterfaceSVGExternalResourcesRequired">SVGExternalResourcesRequired</a>,
                                  <a class="idlinterface" href="types.html#InterfaceSVGStylable">SVGStylable</a> {

  // lengthAdjust Types
  const unsigned short <a href="text.html#__svg__SVGTextContentElement__LENGTHADJUST_UNKNOWN">LENGTHADJUST_UNKNOWN</a> = 0;
  const unsigned short <a href="text.html#__svg__SVGTextContentElement__LENGTHADJUST_SPACING">LENGTHADJUST_SPACING</a> = 1;
  const unsigned short <a href="text.html#__svg__SVGTextContentElement__LENGTHADJUST_SPACINGANDGLYPHS">LENGTHADJUST_SPACINGANDGLYPHS</a> = 2;

  readonly attribute <a class="idlinterface" href="types.html#InterfaceSVGAnimatedLength">SVGAnimatedLength</a> <a href="text.html#__svg__SVGTextContentElement__textLength">textLength</a>;
  readonly attribute <a class="idlinterface" href="types.html#InterfaceSVGAnimatedEnumeration">SVGAnimatedEnumeration</a> <a href="text.html#__svg__SVGTextContentElement__lengthAdjust">lengthAdjust</a>;

  long <a href="text.html#__svg__SVGTextContentElement__getNumberOfChars">getNumberOfChars</a>();
  float <a href="text.html#__svg__SVGTextContentElement__getComputedTextLength">getComputedTextLength</a>();
  float <a href="text.html#__svg__SVGTextContentElement__getSubStringLength">getSubStringLength</a>(in unsigned long charnum, in unsigned long nchars) raises(<a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>);
  <a class="idlinterface" href="coords.html#InterfaceSVGPoint">SVGPoint</a> <a href="text.html#__svg__SVGTextContentElement__getStartPositionOfChar">getStartPositionOfChar</a>(in unsigned long charnum) raises(<a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>);
  <a class="idlinterface" href="coords.html#InterfaceSVGPoint">SVGPoint</a> <a href="text.html#__svg__SVGTextContentElement__getEndPositionOfChar">getEndPositionOfChar</a>(in unsigned long charnum) raises(<a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>);
  <a class="idlinterface" href="types.html#InterfaceSVGRect">SVGRect</a> <a href="text.html#__svg__SVGTextContentElement__getExtentOfChar">getExtentOfChar</a>(in unsigned long charnum) raises(<a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>);
  float <a href="text.html#__svg__SVGTextContentElement__getRotationOfChar">getRotationOfChar</a>(in unsigned long charnum) raises(<a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>);
  long <a href="text.html#__svg__SVGTextContentElement__getCharNumAtPosition">getCharNumAtPosition</a>(in <a class="idlinterface" href="coords.html#InterfaceSVGPoint">SVGPoint</a> point);
  void <a href="text.html#__svg__SVGTextContentElement__selectSubString">selectSubString</a>(in unsigned long charnum, in unsigned long nchars) raises(<a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>);
};</pre><dl class="interface"><dt>“lengthAdjust Types” グループの定数</dt><dd><dl class="constants">
<dt id="__svg__SVGTextContentElement__LENGTHADJUST_UNKNOWN"><b>LENGTHADJUST_UNKNOWN</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt><dd>

<p class="T">
未定義のタイプに設定されていることを表す。
このタイプの新たな値を定義したり, 既存の値をこのタイプに変更する試みは無効である。
<span lang="en">
The enumeration was set to a value that is not one of predefined types. It is invalid to attempt to define a new value of this type or to attempt to switch an existing value to this type.
</span></p>

</dd>
<dt id="__svg__SVGTextContentElement__LENGTHADJUST_SPACING"><b>LENGTHADJUST_SPACING</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt><dd>

<p class="T">
値 <span class="attr-value">spacing</span> に対応する。
<span lang="en">
Corresponds to value 'spacing'.
</span></p>

</dd>
<dt id="__svg__SVGTextContentElement__LENGTHADJUST_SPACINGANDGLYPHS"><b>LENGTHADJUST_SPACINGANDGLYPHS</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt><dd>

<p class="T">
値 <span class="attr-value">spacingAndGlyphs</span> に対応する。
<span lang="en">
Corresponds to value 'spacingAndGlyphs'.
</span></p>

</dd></dl></dd><dt>属性</dt><dd><dl class="attributes">
<dt id="__svg__SVGTextContentElement__textLength"><b>textLength</b><span class="idl-type-parenthetical"> (readonly
<a class="idlinterface" href="types.html#InterfaceSVGAnimatedLength">SVGAnimatedLength</a>)</span></dt><dd>

<p class="T">
与えられた要素の <span class="attr-name">textLength</span> 属性に対応する。
<span lang="en">
Corresponds to attribute ‘textLength’ on the given element.
</span></p>

</dd>
<dt id="__svg__SVGTextContentElement__lengthAdjust"><b>lengthAdjust</b><span class="idl-type-parenthetical"> (readonly
<a class="idlinterface" href="types.html#InterfaceSVGAnimatedEnumeration">SVGAnimatedEnumeration</a>)</span></dt><dd>

<p class="T">
与えられた要素の <span class="attr-name">lengthAdjust</span> 属性に対応する。
値はこのインタフェースで定義される長さ調整定数（ LENGTHADJUST…）のいずれかでなければならない。
<span lang="en">
Corresponds to attribute ‘lengthAdjust’ on the given element. The value must be one of the length adjust constants defined on this interface.
</span></p>

</dd></dl></dd><dt>演算</dt><dd><dl class="attributes">
<dt id="__svg__SVGTextContentElement__getNumberOfChars">long <b>getNumberOfChars</b>()</dt><dd>

<p class="T">
現在の要素内の描画対象の全文字数を、
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>
から参照される文字も含め，それらが描画されるかどうかに関わらず返す。
事実上、これは DOM Level 3 Core 
([<a href="refs.html#ref-DOM3">DOM3</a>], 1.4 節)
の
<a href="http://www.w3.org/TR/2004/REC-DOM-Level-3-Core-20040407/core.html#Node3-textContent">Node::textContent</a>
属性の length に、その属性が
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>
も展開した場合において，等しくなる。
<span lang="en">
Returns the total number of characters available for rendering within the current element, which includes referenced characters from ‘tref’ reference, regardless of whether they will be rendered. Effectively, this is equivalent to the length of the Node::textContent attribute from DOM Level 3 Core ([DOM3], section 1.4), if that attribute also expanded ‘tref’ elements.
</span></p>

<dl class="operation"><dt>返り値</dt><dd>

<p class="T">
全文字数。
<span lang="en">
Total number of characters.
</span></p>

</dd></dl></dd>
<dt id="__svg__SVGTextContentElement__getComputedTextLength">float <b>getComputedTextLength</b>()</dt><dd>

<p class="T">
この要素内の描画されるすべての文字に対するすべてのアドバンス値の総和。
グリフの（水平または垂直）アドバンス値,
<a href="text.html#KerningProperty"><span class="prop-name">kerning</span></a>,
<a href="text.html#LetterSpacingProperty"><span class="prop-name">letter-spacing</span></a>,
<a href="text.html#WordSpacingProperty"><span class="prop-name">word-spacing</span></a>
プロパティによる効果,
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
属性による調整も計算に織り込まれる。
非描画環境においては、 UA はグリフの幾何計量に対する合理的な仮定をするものとする。
<span lang="en">
The total sum of all of the advance values from rendering all of the characters within this element, including the advance value on the glyphs (horizontal or vertical), the effect of properties ‘kerning’, ‘letter-spacing’ and ‘word-spacing’ and adjustments due to attributes ‘dx’ and ‘dy’ on ‘tspan’ elements. For non-rendering environments, the user agent shall make reasonable assumptions about glyph metrics.
</span></p>

<dl class="operation"><dt>返り値</dt><dd>

<p class="T">
テキストアドバンス距離。
<span lang="en">
The text advance distance.
</span></p>

</dd></dl></dd>
<dt id="__svg__SVGTextContentElement__getSubStringLength">float <b>getSubStringLength</b>(in unsigned long <var>charnum</var>, in unsigned long <var>nchars</var>)</dt><dd>

<p class="T">
指定された部分文字列に対するすべてのアドバンス値の総和。
グリフの（水平または垂直）アドバンス値,
<a href="text.html#KerningProperty"><span class="prop-name">kerning</span></a>,
<a href="text.html#LetterSpacingProperty"><span class="prop-name">letter-spacing</span></a>,
<a href="text.html#WordSpacingProperty"><span class="prop-name">word-spacing</span></a>
プロパティによる効果,
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素の
<a href="text.html#TSpanElementDXAttribute"><span class="attr-name">dx</span></a>,
<a href="text.html#TSpanElementDYAttribute"><span class="attr-name">dy</span></a>
属性による調整も計算に織り込まれる。
非描画環境においては、 UA はグリフの幾何計量について合理的な仮定を置くものとする。
連続する複数個の文字が不可分に描画される（例えば，いくつかのグリフ並びに, あるいは範囲の一端がサロゲートペアの狭間を指すときなど）, かつ <var>nchars</var> が 0 より大きい場合、計量範囲は不可分の文字が含まれるように拡大されるものとする。
<span lang="en">
The total sum of all of the advance values from rendering the specified substring of the characters, including the advance value on the glyphs (horizontal or vertical), the effect of properties ‘kerning’, ‘letter-spacing’ and ‘word-spacing’ and adjustments due to attributes ‘dx’ and ‘dy’ on ‘tspan’ elements. For non-rendering environments, the user agent shall make reasonable assumptions about glyph metrics. If multiple consecutive characters are rendered inseparably (e.g., as a single glyph or a sequence of glyphs, or because the range encompasses half of a surrogate pair), and nchars is greater than 0 then the measured range shall be expanded so that each of the inseparable characters are included.
</span></p>

<dl class="operation"><dt>パラメタ</dt><dd><ol class="parameters"><li><div class="parameter">unsigned long <var>charnum</var></div>

<p class="T">
部分文字列の最初の文字のインデックス。
最初の文字がインデックス 0 。
<span lang="en">
The index of the first character in the substring, where the first character has an index of 0.
</span></p>

</li><li><div class="parameter">unsigned long <var>nchars</var></div>

<p class="T">
部分文字列の文字数。
<var>nchars</var> が存在する文字より多くの文字を指定している場合、部分文字列は <var>charnum</var> から文字列の末端までの文字からなるものとする。
<span lang="en">
The number of characters in the substring. If nchars specifies more characters than are available, then the substring will consist of all characters starting with charnum until the end of the list of characters.
</span></p>

</li></ol></dd><dt>返り値</dt><dd>

<p class="T">
テキストアドバンス距離。
<span lang="en">
The text advance distance.
</span></p>

</dd><dt>例外</dt><dd><dl class="exceptions"><dt><a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>,
code INDEX_SIZE_ERR</dt>

<dd class="T">
<var>charnum</var> または <var>nchars</var> が負であるか、 <var>charnum</var> がこのノードの文字数以上のときに投出される。
<span lang="en">
Raised if charnum or nchars is negative or if charnum is greater than or equal to the number of characters at this node.
</span>
</dd>
</dl></dd></dl></dd>
<dt id="__svg__SVGTextContentElement__getStartPositionOfChar"><a class="idlinterface" href="coords.html#InterfaceSVGPoint">SVGPoint</a>
<b>getStartPositionOfChar</b>(in unsigned long <var>charnum</var>)</dt><dd>

<p class="T">
指定された文字に対応するグリフ（たち）に対する，描画直前の利用座標系における現在のテキスト位置を返す。
この現在のテキスト位置には、
<a href="text.html#KerningProperty"><span class="prop-name">kerning</span></a>,
<a href="text.html#LetterSpacingProperty"><span class="prop-name">letter-spacing</span></a>,
<a href="text.html#WordSpacingProperty"><span class="prop-name">word-spacing</span></a>
プロパティによる文字の間隔調整, および
<span class="attr-name">x</span>, <span class="attr-name">y</span>,
<span class="attr-name">dx</span>, <span class="attr-name">dy</span>
属性による調整による効果も すでに織り込まれている。
連続する複数の文字が不可分な形で（１個以上のグリフとして）描画される場合、最初のグリフの開始位置を返す。
<span lang="en">
Returns the current text position before rendering the character in the user coordinate system for rendering the glyph(s) that correspond to the specified character. The current text position has already taken into account the effects of any inter-character adjustments due to properties ‘kerning’, ‘letter-spacing’ and ‘word-spacing’ and adjustments due to attributes ‘x’, ‘y’, ‘dx’ and ‘dy’. If multiple consecutive characters are rendered inseparably (e.g., as a single glyph or a sequence of glyphs), then each of the inseparable characters will return the start position for the first glyph.
</span></p>

<dl class="operation"><dt>パラメタ</dt><dd><ol class="parameters"><li><div class="parameter">unsigned long <var>charnum</var></div>

<p class="T">
文字のインデックス。
最初の文字がインデックス 0
<span lang="en">
The index of the character, where the first character has an index of 0.
</span></p>

</li></ol></dd><dt>返り値</dt><dd>

<p class="T">
文字の開始位置。
<span lang="en">
The character's start position.
</span></p>

</dd><dt>例外</dt><dd><dl class="exceptions"><dt><a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>,
code INDEX_SIZE_ERR</dt>

<dd class="T">
<var >charnum</var> が負であるか, このノードの文字数以上のときに投出される。
<span lang="en">
Raised if the charnum is negative or if charnum is greater than or equal to the number of characters at this node.
</span>
</dd>
</dl></dd></dl></dd>
<dt id="__svg__SVGTextContentElement__getEndPositionOfChar"><a class="idlinterface" href="coords.html#InterfaceSVGPoint">SVGPoint</a>
<b>getEndPositionOfChar</b>(in unsigned long <var>charnum</var>)</dt><dd>

<p class="T">
指定された文字に対応するグリフ（たち）に対する文字の描画直後の利用座標系における現在のテキスト位置を返す。
この現在のテキスト位置には、次の文字のための間隔調整などの効果は<em>含まれない</em>。
すなわち
<a href="text.html#KerningProperty"><span class="prop-name">kerning</span></a>,
<a href="text.html#LetterSpacingProperty"><span class="prop-name">letter-spacing</span></a>,
<a href="text.html#WordSpacingProperty"><span class="prop-name">word-spacing</span></a>
プロパティによる文字の間隔調整、および
<span class="attr-name">x</span>, <span class="attr-name">y</span>,
<span class="attr-name">dx</span>, <span class="attr-name">dy</span>
属性による調整による効果は織り込まれない。
連続する複数の文字が（１個以上のグリフとして）不可分な形で描画される場合、それらの文字に対しては最後のグリフの終了位置を返す。
<span lang="en">
Returns the current text position after rendering the character in the user coordinate system for rendering the glyph(s) that correspond to the specified character. This current text position does not take into account the effects of any inter-character adjustments to prepare for the next character, such as properties ‘kerning’, ‘letter-spacing’ and ‘word-spacing’ and adjustments due to attributes ‘x’, ‘y’, ‘dx’ and ‘dy’. If multiple consecutive characters are rendered inseparably (e.g., as a single glyph or a sequence of glyphs), then each of the inseparable characters will return the end position for the last glyph.
</span></p>

<dl class="operation"><dt>パラメタ</dt><dd><ol class="parameters"><li><div class="parameter">unsigned long <var>charnum</var></div>

<p class="T">
文字のインデックス。
最初の文字がインデックス 0 。
<span lang="en">
The index of the character, where the first character has an index of 0.
</span></p>

</li></ol></dd><dt>返り値</dt><dd>

<p class="T">
文字の終了位置
<span lang="en">
The character's end position.
</span></p>

</dd><dt>例外</dt><dd><dl class="exceptions"><dt><a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>,
code INDEX_SIZE_ERR</dt>

<dd class="T">
<var >charnum</var> が負であるか、このノードの文字数以上のときに投出される。
<span lang="en">
Raised if the charnum is negative or if charnum is greater than or equal to the number of characters at this node.
</span>
</dd>
</dl></dd></dl></dd>
<dt id="__svg__SVGTextContentElement__getExtentOfChar"><a class="idlinterface" href="types.html#InterfaceSVGRect">SVGRect</a>
<b>getExtentOfChar</b>(in unsigned long <var>charnum</var>)</dt><dd>

<p class="T">
指定された文字に対応するグリフの描画において利用座標系で占める最小の限界ボックスを最小および最大の X, Y 値で返す。
返す。
算出においてはグリフはフォントの full standard グリフセルを占めるものとみなされる。
連続する複数の文字が不可分な形で（１個以上のグリフとして）描画される場合、それぞれの文字に対して同じ領域が返される。
<span lang="en">
Returns a tightest rectangle which defines the minimum and maximum X and Y values in the user coordinate system for rendering the glyph(s) that correspond to the specified character. The calculations assume that all glyphs occupy the full standard glyph cell for the font. If multiple consecutive characters are rendered inseparably (e.g., as a single glyph or a sequence of glyphs), then each of the inseparable characters will return the same extent.
</span></p>

<dl class="operation"><dt>パラメタ</dt><dd><ol class="parameters"><li><div class="parameter">unsigned long <var>charnum</var></div>

<p class="T">
文字のインデックス。
最初の文字がインデックス 0 。
<span lang="en">
The index of the character, where the first character has an index of 0.
</span></p>

</li></ol></dd><dt>返り値</dt><dd>

<p class="T">
描画されたグリフ（たち）すべて囲む矩形。
<span lang="en">
The rectangle which encloses all of the rendered glyph(s).
</span></p>

</dd><dt>例外</dt><dd><dl class="exceptions"><dt><a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>,
code INDEX_SIZE_ERR</dt>

<dd class="T">
<var >charnum</var> が負であるか, このノードの文字数以上のときに投出される。
<span lang="en">
Raised if the charnum is negative or if charnum is greater than or equal to the number of characters at this node.
</span>
</dd>
</dl></dd></dl></dd>
<dt id="__svg__SVGTextContentElement__getRotationOfChar">float <b>getRotationOfChar</b>(in unsigned long <var>charnum</var>)</dt><dd>

<p class="T">
現在の利用座標系に相対的な、指定された文字に対応するグリフの描画に利用される回転角度を返す。
１個の文字に対し複数のグリフが利用されていて，それぞれのグリフに異なる回転が施される場合（例えばパス上のテキスト）、 UA はそれらの平均値を返すことになる（例えばグリフたちが描画されるパス区間の中間点における回転角度）。
回転角度は
<a href="text.html#GlyphOrientationHorizontalProperty"><span class="prop-name">glyph-orientation-horizontal</span></a>,
<a href="text.html#GlyphOrientationVerticalProperty"><span class="prop-name">glyph-orientation-vertical</span></a>
プロパティによる回転に対する追加の回転を表す。
すなわち，これらのプロパティによるグリフの回転は返り値の回転角度には<em>織り込まれない</em>。
連続する複数の文字が不可分な形で（１個以上のグリフとして）描画される場合、それらの文字に対する返り値の回転角度は同じになる。
<span lang="en">
Returns the rotation value relative to the current user coordinate system used to render the glyph(s) corresponding to the specified character. If multiple glyph(s) are used to render the given character and the glyphs each have different rotations (e.g., due to text-on-a-path), the user agent shall return an average value (e.g., the rotation angle at the midpoint along the path for all glyphs used to render this character). The rotation value represents the rotation that is supplemental to any rotation due to properties ‘glyph-orientation-horizontal’ and ‘glyph-orientation-vertical’; thus, any glyph rotations due to these properties are not included into the returned rotation value. If multiple consecutive characters are rendered inseparably (e.g., as a single glyph or a sequence of glyphs), then each of the inseparable characters will return the same rotation value.
</span></p>

<dl class="operation"><dt>パラメタ</dt><dd><ol class="parameters"><li><div class="parameter">unsigned long <var>charnum</var></div>

<p class="T">
文字のインデックス。
最初の文字がインデックス 0 。
<span lang="en">
The index of the character, where the first character has an index of 0.
</span></p>

</li></ol></dd><dt>返り値</dt><dd>

<p class="T">
回転角度。
<span lang="en">
The rotation angle.
</span></p>

</dd><dt>例外</dt><dd><dl class="exceptions"><dt><a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>,
code INDEX_SIZE_ERR</dt>

<dd class="T">
<var >charnum</var> が負であるか, このノードの文字数以上のときに投出される。
<span lang="en">
Raised if the charnum is negative or if charnum is greater than or equal to the number of characters at this node.
</span>
</dd>
</dl></dd></dl></dd>
<dt id="__svg__SVGTextContentElement__getCharNumAtPosition">long <b>getCharNumAtPosition</b>(in
<a class="idlinterface" href="coords.html#InterfaceSVGPoint">SVGPoint</a>
<var>point</var>)</dt><dd>

<p class="T">
対応するグリフのセル限界ボックスが与えられた点を含むような，文字のインデックスを返す。
算出においては、グリフはフォントの full standard グリフセルを占めるものとみなされる。
その様な文字が存在しない場合、値 -1 が返される。
その様な文字が複数存在する場合、要素に含まれるそれらの文字のうち，最後に描画されたグリフに対応する文字が選ばれる（すなわち双方向性による再配列を計算に入れる）。
連続する複数の文字が不可分な形で（１個以上のグリフとして）描画される場合、 UA はそれらの文字によるテキストアドバンス量の合計を等分することにより，文字を選択するものとする。
<span lang="en">
Returns the index of the character whose corresponding glyph cell bounding box contains the specified point. The calculations assume that all glyphs occupy the full standard glyph cell for the font. If no such character exists, a value of -1 is returned. If multiple such characters exist, the character within the element whose glyphs were rendered last (i.e., take into account any reordering such as for bidirectional text) is used. If multiple consecutive characters are rendered inseparably (e.g., as a single glyph or a sequence of glyphs), then the user agent shall allocate an equal percentage of the text advance amount to each of the contributing characters in determining which of the characters is chosen.
</span></p>

<dl class="operation"><dt>パラメタ</dt><dd><ol class="parameters"><li><div class="parameter"><a class="idlinterface" href="coords.html#InterfaceSVGPoint">SVGPoint</a>
<var>point</var></div>

<p class="T">
利用空間内の点。
<span lang="en">
A point in user space.
</span></p>

</li></ol></dd><dt>返り値</dt><dd>

<p class="T">
与えられた点に位置する文字のインデックス。
最初の文字のインデックスは 0 とする。
<span lang="en">
The index of the character which is at the given point, where the first character has an index of 0.
</span></p>

</dd></dl></dd>
<dt id="__svg__SVGTextContentElement__selectSubString">void <b>selectSubString</b>(in unsigned long <var>charnum</var>, in unsigned long <var>nchars</var>)</dt><dd>

<p class="T">
利用者が文字列を選択するのと全く同じ様に、指定された部分の文字列を選択する。
<span lang="en">
Causes the specified substring to be selected just as if the user selected the substring interactively.
</span></p>

<dl class="operation"><dt>パラメタ</dt><dd><ol class="parameters"><li><div class="parameter">unsigned long <var>charnum</var></div>

<p class="T">
選択部分における開始文字のインデックス。
最初の文字がインデックス 0 。
<span lang="en">
The index of the start character which is at the given point, where the first character has an index of 0.
</span></p>

</li><li><div class="parameter">unsigned long <var>nchars</var></div>

<p class="T">
選択部分の文字数。
<var>nchars</var> が可能な文字数を超えた場合は、最後の文字まで選択される。
<span lang="en">
The number of characters in the substring. If nchars specifies more characters than are available, then the substring will consist of all characters starting with charnum until the end of the list of characters.
</span></p>

</li></ol></dd><dt>例外</dt><dd><dl class="exceptions"><dt><a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>,
code INDEX_SIZE_ERR</dt>

<dd class="T">
<var>charnum</var> または <var>nchars</var> が負であるか、 <var>charnum</var> がこのノードの文字数以上のときに投出される。
<span lang="en">
Raised if charnum or nchars is negative or if charnum is greater than or equal to the number of characters at this node.
</span>
</dd>
</dl></dd></dl></dd></dl></dd></dl>

<h3 title="10.17.2 Interface SVGTextPositioningElement" id="InterfaceSVGTextPositioningElement">10.17.2 インタフェース SVGTextPositioningElement</h3>

<p class="T">
<a class="idlinterface" href="text.html#InterfaceSVGTextPositioningElement">SVGTextPositioningElement</a>
インタフェースは
<a class="idlinterface" href="text.html#InterfaceSVGTextElement">SVGTextElement</a>,
<a class="idlinterface" href="text.html#InterfaceSVGTSpanElement">SVGTSpanElement</a>,
<a class="idlinterface" href="text.html#InterfaceSVGTRefElement">SVGTRefElement</a>,
<a class="idlinterface" href="text.html#InterfaceSVGAltGlyphElement">SVGAltGlyphElement</a>
などのテキスト関連のインタフェースに継承される。
<span lang="en">
The SVGTextPositioningElement interface is inherited by text-related interfaces: SVGTextElement, SVGTSpanElement, SVGTRefElement and SVGAltGlyphElement.
</span></p>


<pre class="idl">interface <b>SVGTextPositioningElement</b> : <a class="idlinterface" href="text.html#InterfaceSVGTextContentElement">SVGTextContentElement</a> {
  readonly attribute <a class="idlinterface" href="types.html#InterfaceSVGAnimatedLengthList">SVGAnimatedLengthList</a> <a href="text.html#__svg__SVGTextPositioningElement__x">x</a>;
  readonly attribute <a class="idlinterface" href="types.html#InterfaceSVGAnimatedLengthList">SVGAnimatedLengthList</a> <a href="text.html#__svg__SVGTextPositioningElement__y">y</a>;
  readonly attribute <a class="idlinterface" href="types.html#InterfaceSVGAnimatedLengthList">SVGAnimatedLengthList</a> <a href="text.html#__svg__SVGTextPositioningElement__dx">dx</a>;
  readonly attribute <a class="idlinterface" href="types.html#InterfaceSVGAnimatedLengthList">SVGAnimatedLengthList</a> <a href="text.html#__svg__SVGTextPositioningElement__dy">dy</a>;
  readonly attribute <a class="idlinterface" href="types.html#InterfaceSVGAnimatedNumberList">SVGAnimatedNumberList</a> <a href="text.html#__svg__SVGTextPositioningElement__rotate">rotate</a>;
};</pre><dl class="interface"><dt>属性</dt><dd><dl class="attributes">
<dt id="__svg__SVGTextPositioningElement__x"><b>x</b><span class="idl-type-parenthetical"> (readonly
<a class="idlinterface" href="types.html#InterfaceSVGAnimatedLengthList">SVGAnimatedLengthList</a>)</span></dt><dd>

<p class="T">
与えられた要素の <span class="attr-name">x</span> 属性に対応する。
<span lang="en">
Corresponds to attribute ‘x’ on the given element.
</span></p>

</dd>
<dt id="__svg__SVGTextPositioningElement__y"><b>y</b><span class="idl-type-parenthetical"> (readonly
<a class="idlinterface" href="types.html#InterfaceSVGAnimatedLengthList">SVGAnimatedLengthList</a>)</span></dt><dd>

<p class="T">
与えられた要素の <span class="attr-name">y</span> 属性に対応する。
<span lang="en">
Corresponds to attribute ‘y’ on the given element.
</span></p>

</dd>
<dt id="__svg__SVGTextPositioningElement__dx"><b>dx</b><span class="idl-type-parenthetical"> (readonly
<a class="idlinterface" href="types.html#InterfaceSVGAnimatedLengthList">SVGAnimatedLengthList</a>)</span></dt><dd>

<p class="T">
与えられた要素の <span class="attr-name">dx</span> 属性に対応する。
<span lang="en">
Corresponds to attribute ‘dx’ on the given element.
</span></p>

</dd>
<dt id="__svg__SVGTextPositioningElement__dy"><b>dy</b><span class="idl-type-parenthetical"> (readonly
<a class="idlinterface" href="types.html#InterfaceSVGAnimatedLengthList">SVGAnimatedLengthList</a>)</span></dt><dd>

<p class="T">
与えられた要素の <span class="attr-name">dy</span> 属性に対応する。
<span lang="en">
Corresponds to attribute ‘dy’ on the given element.
</span></p>

</dd>
<dt id="__svg__SVGTextPositioningElement__rotate"><b>rotate</b><span class="idl-type-parenthetical"> (readonly
<a class="idlinterface" href="types.html#InterfaceSVGAnimatedNumberList">SVGAnimatedNumberList</a>)</span></dt><dd>

<p class="T">
与えられた要素の <span class="attr-name">rotate</span> 属性に対応する。
<span lang="en">
Corresponds to attribute ‘rotate’ on the given element.
</span></p>

</dd></dl></dd></dl>

<h3 title="10.17.3 Interface SVGTextElement" id="InterfaceSVGTextElement">10.17.3 インタフェース SVGTextElement</h3>

<p class="T">
<a class="idlinterface" href="text.html#InterfaceSVGTextElement">SVGTextElement</a>
インタフェースは
<a href="text.html#TextElement"><span class="element-name">text</span></a>
要素に対応する。
<span lang="en">
The SVGTextElement interface corresponds to the ‘text’ element.
</span></p>


<pre class="idl">interface <b>SVGTextElement</b> : <a class="idlinterface" href="text.html#InterfaceSVGTextPositioningElement">SVGTextPositioningElement</a>,
                           <a class="idlinterface" href="types.html#InterfaceSVGTransformable">SVGTransformable</a> {
};</pre>


<h3 title="10.17.4 Interface SVGTSpanElement" id="InterfaceSVGTSpanElement">10.17.4 インタフェース SVGTSpanElement</h3>

<p class="T">
<a class="idlinterface" href="text.html#InterfaceSVGTSpanElement">SVGTSpanElement</a>
インタフェースは
<a href="text.html#TSpanElement"><span class="element-name">tspan</span></a>
要素に対応する。
<span lang="en">
The SVGTSpanElement interface corresponds to the ‘tspan’ element.
</span></p>


<pre class="idl">interface <b>SVGTSpanElement</b> : <a class="idlinterface" href="text.html#InterfaceSVGTextPositioningElement">SVGTextPositioningElement</a> {
};</pre>


<h3 title="10.17.5 Interface SVGTRefElement" id="InterfaceSVGTRefElement">10.17.5 インタフェース SVGTRefElement</h3>

<p class="T">
<a class="idlinterface" href="text.html#InterfaceSVGTRefElement">SVGTRefElement</a>
インタフェースは
<a href="text.html#TRefElement"><span class="element-name">tref</span></a>
要素に対応する。
<span lang="en">
The SVGTRefElement interface corresponds to the ‘tref’ element.
</span></p>


<pre class="idl">interface <b>SVGTRefElement</b> : <a class="idlinterface" href="text.html#InterfaceSVGTextPositioningElement">SVGTextPositioningElement</a>,
                           <a class="idlinterface" href="types.html#InterfaceSVGURIReference">SVGURIReference</a> {
};</pre>


<h3 title="10.17.6 Interface SVGTextPathElement" id="InterfaceSVGTextPathElement">10.17.6 インタフェース SVGTextPathElement</h3>

<p class="T">
<a class="idlinterface" href="text.html#InterfaceSVGTextPathElement">SVGTextPathElement</a>
インタフェースは
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
要素に対応する。
<span lang="en">
The SVGTextPathElement interface corresponds to the ‘textPath’ element.
</span></p>


<pre class="idl">interface <b>SVGTextPathElement</b> : <a class="idlinterface" href="text.html#InterfaceSVGTextContentElement">SVGTextContentElement</a>,
                               <a class="idlinterface" href="types.html#InterfaceSVGURIReference">SVGURIReference</a> {

  // textPath Method Types
  const unsigned short <a href="text.html#__svg__SVGTextPathElement__TEXTPATH_METHODTYPE_UNKNOWN">TEXTPATH_METHODTYPE_UNKNOWN</a> = 0;
  const unsigned short <a href="text.html#__svg__SVGTextPathElement__TEXTPATH_METHODTYPE_ALIGN">TEXTPATH_METHODTYPE_ALIGN</a> = 1;
  const unsigned short <a href="text.html#__svg__SVGTextPathElement__TEXTPATH_METHODTYPE_STRETCH">TEXTPATH_METHODTYPE_STRETCH</a> = 2;

  // textPath Spacing Types
  const unsigned short <a href="text.html#__svg__SVGTextPathElement__TEXTPATH_SPACINGTYPE_UNKNOWN">TEXTPATH_SPACINGTYPE_UNKNOWN</a> = 0;
  const unsigned short <a href="text.html#__svg__SVGTextPathElement__TEXTPATH_SPACINGTYPE_AUTO">TEXTPATH_SPACINGTYPE_AUTO</a> = 1;
  const unsigned short <a href="text.html#__svg__SVGTextPathElement__TEXTPATH_SPACINGTYPE_EXACT">TEXTPATH_SPACINGTYPE_EXACT</a> = 2;

  readonly attribute <a class="idlinterface" href="types.html#InterfaceSVGAnimatedLength">SVGAnimatedLength</a> <a href="text.html#__svg__SVGTextPathElement__startOffset">startOffset</a>;
  readonly attribute <a class="idlinterface" href="types.html#InterfaceSVGAnimatedEnumeration">SVGAnimatedEnumeration</a> <a href="text.html#__svg__SVGTextPathElement__method">method</a>;
  readonly attribute <a class="idlinterface" href="types.html#InterfaceSVGAnimatedEnumeration">SVGAnimatedEnumeration</a> <a href="text.html#__svg__SVGTextPathElement__spacing">spacing</a>;
};</pre><dl class="interface"><dt>“textPath Method Types” グループの定数</dt><dd><dl class="constants">
<dt id="__svg__SVGTextPathElement__TEXTPATH_METHODTYPE_UNKNOWN"><b>TEXTPATH_METHODTYPE_UNKNOWN</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt><dd>

<p class="T">
未定義のタイプに設定されていることを表す。
このタイプの新たな値を定義したり, 既存の値をこのタイプに変更する試みは無効である。
<span lang="en">
The enumeration was set to a value that is not one of predefined types. It is invalid to attempt to define a new value of this type or to attempt to switch an existing value to this type.
</span></p>

</dd>
<dt id="__svg__SVGTextPathElement__TEXTPATH_METHODTYPE_ALIGN"><b>TEXTPATH_METHODTYPE_ALIGN</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt><dd>

<p class="T">
値 <span class="attr-value">align</span> に対応する。
<span lang="en">
Corresponds to value 'align'.
</span></p>

</dd>
<dt id="__svg__SVGTextPathElement__TEXTPATH_METHODTYPE_STRETCH"><b>TEXTPATH_METHODTYPE_STRETCH</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt><dd>

<p class="T">
値 <span class="attr-value">stretch</span> に対応する。
<span lang="en">
Corresponds to value 'stretch'.
</span></p>

</dd></dl></dd><dt>“textPath Spacing Types” グループの定数</dt><dd><dl class="constants">
<dt id="__svg__SVGTextPathElement__TEXTPATH_SPACINGTYPE_UNKNOWN"><b>TEXTPATH_SPACINGTYPE_UNKNOWN</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt><dd>

<p class="T">
未定義のタイプに設定されていることを表す。
このタイプの新たな値を定義したり, 既存の値をこのタイプに変更する試みは無効である。
<span lang="en">
The enumeration was set to a value that is not one of predefined types. It is invalid to attempt to define a new value of this type or to attempt to switch an existing value to this type.
</span></p>

</dd>
<dt id="__svg__SVGTextPathElement__TEXTPATH_SPACINGTYPE_AUTO"><b>TEXTPATH_SPACINGTYPE_AUTO</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt><dd>

<p class="T">
値 <span class="attr-value">auto</span> に対応する。
<span lang="en">
Corresponds to value 'auto'.
</span></p>

</dd>
<dt id="__svg__SVGTextPathElement__TEXTPATH_SPACINGTYPE_EXACT"><b>TEXTPATH_SPACINGTYPE_EXACT</b><span class="idl-type-parenthetical"> (unsigned short)</span></dt><dd>

<p class="T">
値 <span class="attr-value">exact</span> に対応する。
<span lang="en">
Corresponds to value 'exact'.
</span></p>

</dd></dl></dd><dt>属性</dt><dd><dl class="attributes">
<dt id="__svg__SVGTextPathElement__startOffset"><b>startOffset</b><span class="idl-type-parenthetical"> (readonly
<a class="idlinterface" href="types.html#InterfaceSVGAnimatedLength">SVGAnimatedLength</a>)</span></dt><dd>

<p class="T">
与えられた
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
要素の
<a href="text.html#TextPathElementStartOffsetAttribute"><span class="attr-name">startOffset</span></a>
属性に対応する。
<span lang="en">
Corresponds to attribute ‘startOffset’ on the given ‘textPath’ element.
</span></p>

</dd>
<dt id="__svg__SVGTextPathElement__method"><b>method</b><span class="idl-type-parenthetical"> (readonly
<a class="idlinterface" href="types.html#InterfaceSVGAnimatedEnumeration">SVGAnimatedEnumeration</a>)</span></dt><dd>

<p class="T">
与えられた
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
要素の
<a href="text.html#TextPathElementMethodAttribute"><span class="attr-name">method</span></a>
属性に対応する。
<span lang="en">
Corresponds to attribute ‘method’ on the given ‘textPath’ element.
</span></p>

</dd>
<dt id="__svg__SVGTextPathElement__spacing"><b>spacing</b><span class="idl-type-parenthetical"> (readonly
<a class="idlinterface" href="types.html#InterfaceSVGAnimatedEnumeration">SVGAnimatedEnumeration</a>)</span></dt><dd>

<p class="T">
与えられた
<a href="text.html#TextPathElement"><span class="element-name">textPath</span></a>
要素の
<a href="text.html#TextPathElementSpacingAttribute"><span class="attr-name">spacing</span></a>
属性に対応する。
<span lang="en">
Corresponds to attribute ‘spacing’ on the given ‘textPath’ element.
</span></p>

</dd></dl></dd></dl>


<h3 title="10.17.7 Interface SVGAltGlyphElement" id="InterfaceSVGAltGlyphElement">10.17.7 インタフェース SVGAltGlyphElement</h3>

<p class="T">
<a class="idlinterface" href="text.html#InterfaceSVGAltGlyphElement">SVGAltGlyphElement</a>
インタフェースは
<a href="text.html#AltGlyphElement"><span class="element-name">altGlyph</span></a>
要素に対応する。
<span lang="en">
The SVGAltGlyphElement interface corresponds to the ‘altGlyph’ element.
</span></p>


<pre class="idl">interface <b>SVGAltGlyphElement</b> : <a class="idlinterface" href="text.html#InterfaceSVGTextPositioningElement">SVGTextPositioningElement</a>,
                               <a class="idlinterface" href="types.html#InterfaceSVGURIReference">SVGURIReference</a> {
  attribute DOMString <a href="text.html#__svg__SVGAltGlyphElement__glyphRef">glyphRef</a> setraises(<a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>);
  attribute DOMString <a href="text.html#__svg__SVGAltGlyphElement__format">format</a> setraises(<a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>);
};</pre><dl class="interface"><dt>属性</dt><dd><dl class="attributes">
<dt id="__svg__SVGAltGlyphElement__glyphRef"><b>glyphRef</b><span class="idl-type-parenthetical"> (DOMString)</span></dt><dd>

<p class="T">
与えられた要素の
<a href="text.html#AltGlyphElementGlyphRefAttribute"><span class="attr-name">glyphRef</span></a>
属性に対応する。
<span lang="en">
Corresponds to attribute ‘glyphRef’ on the given element.
</span></p>

<dl class="attribute"><dt>設定時の例外</dt><dd><dl class="exceptions"><dt><a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>,
code NO_MODIFICATION_ALLOWED_ERR</dt>

<dd class="T">
<a href="svgdom.html#ReadOnlyNodes">読み取り専用の属性</a>
の変更を試みたときに投出される。
<span lang="en">
Raised on an attempt to change the value of a read only attribute.
</span>
</dd>
</dl></dd></dl></dd>
<dt id="__svg__SVGAltGlyphElement__format"><b>format</b><span class="idl-type-parenthetical"> (DOMString)</span></dt><dd>

<p class="T">
与えられた要素の
<a href="text.html#AltGlyphElementFormatAttribute"><span class="attr-name">format</span></a>
属性に対応する。
<span lang="en">
Corresponds to attribute ‘format’ on the given element.
</span></p>

<dl class="attribute"><dt>設定時の例外</dt><dd><dl class="exceptions"><dt><a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>,
code NO_MODIFICATION_ALLOWED_ERR</dt>

<dd class="T">
<a href="svgdom.html#ReadOnlyNodes">読み取り専用の属性</a>
の変更を試みたときに投出される。
<span lang="en">
Raised on an attempt to change the value of a read only attribute.
</span>
</dd>
</dl></dd></dl></dd></dl></dd></dl>


<h3 title="10.17.8 Interface SVGAltGlyphDefElement" id="InterfaceSVGAltGlyphDefElement">10.17.8 インタフェース SVGAltGlyphDefElement</h3>

<p class="T">
<a class="idlinterface" href="text.html#InterfaceSVGAltGlyphDefElement">SVGAltGlyphDefElement</a>
インタフェースは
<a href="text.html#AltGlyphDefElement"><span class="element-name">altGlyphDef</span></a>
要素に対応する。
<span lang="en">
The SVGAltGlyphDefElement interface corresponds to the ‘altGlyphDef’ element.
</span></p>


<pre class="idl">interface <b>SVGAltGlyphDefElement</b> : <a class="idlinterface" href="types.html#InterfaceSVGElement">SVGElement</a> {
};</pre>


<h3 title="10.17.9 Interface SVGAltGlyphItemElement" id="InterfaceSVGAltGlyphItemElement">10.17.9 インタフェース SVGAltGlyphItemElement</h3>

<p class="T">
<a class="idlinterface" href="text.html#InterfaceSVGAltGlyphItemElement">SVGAltGlyphItemElement</a>
インタフェースは
<a href="text.html#AltGlyphItemElement"><span class="element-name">altGlyphItem</span></a>
要素に対応する。
<span lang="en">
The SVGAltGlyphItemElement interface corresponds to the ‘altGlyphItem’ element.
</span></p>


<pre class="idl">interface <b>SVGAltGlyphItemElement</b> : <a class="idlinterface" href="types.html#InterfaceSVGElement">SVGElement</a> {
};</pre>


<h3 title="10.17.10 Interface SVGGlyphRefElement" id="InterfaceSVGGlyphRefElement">10.17.10 インタフェース SVGGlyphRefElement</h3>

<p class="T">
<a class="idlinterface" href="text.html#InterfaceSVGGlyphRefElement">SVGGlyphRefElement</a>
インタフェースは
<a href="text.html#GlyphRefElement"><span class="element-name">glyphRef</span></a>
要素に対応する。
<span lang="en">
The SVGGlyphRefElement interface corresponds to the ‘glyphRef’ element.
</span></p>


<pre class="idl">interface <b>SVGGlyphRefElement</b> : <a class="idlinterface" href="types.html#InterfaceSVGElement">SVGElement</a>,
                               <a class="idlinterface" href="types.html#InterfaceSVGURIReference">SVGURIReference</a>,
                               <a class="idlinterface" href="types.html#InterfaceSVGStylable">SVGStylable</a> {
  attribute DOMString <a href="text.html#__svg__SVGGlyphRefElement__glyphRef">glyphRef</a> setraises(<a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>);
  attribute DOMString <a href="text.html#__svg__SVGGlyphRefElement__format">format</a> setraises(<a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>);
  attribute float <a href="text.html#__svg__SVGGlyphRefElement__x">x</a> setraises(<a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>);
  attribute float <a href="text.html#__svg__SVGGlyphRefElement__y">y</a> setraises(<a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>);
  attribute float <a href="text.html#__svg__SVGGlyphRefElement__dx">dx</a> setraises(<a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>);
  attribute float <a href="text.html#__svg__SVGGlyphRefElement__dy">dy</a> setraises(<a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>);
};</pre><dl class="interface"><dt>属性</dt><dd><dl class="attributes">
<dt id="__svg__SVGGlyphRefElement__glyphRef"><b>glyphRef</b><span class="idl-type-parenthetical"> (DOMString)</span></dt><dd>

<p class="T">
与えられた要素の
<a href="text.html#GlyphRefElementGlyphRefAttribute"><span class="attr-name">glyphRef</span></a>
属性に対応する。
<span lang="en">
Corresponds to attribute ‘glyphRef’ on the given element.
</span></p>

<dl class="attribute"><dt>設定時の例外</dt><dd><dl class="exceptions"><dt><a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>,
code NO_MODIFICATION_ALLOWED_ERR</dt>

<dd class="T">
<a href="svgdom.html#ReadOnlyNodes">読み取り専用の属性</a>
の変更を試みたときに投出される。
<span lang="en">
Raised on an attempt to change the value of a read only attribute.
</span>
</dd>
</dl></dd></dl></dd>
<dt id="__svg__SVGGlyphRefElement__format"><b>format</b><span class="idl-type-parenthetical"> (DOMString)</span></dt><dd>

<p class="T">
与えられた要素の
<a href="text.html#GlyphRefElementFormatAttribute"><span class="attr-name">format</span></a>
属性に対応する。
<span lang="en">
Corresponds to attribute ‘format’ on the given element.
</span></p>

<dl class="attribute"><dt>設定時の例外</dt><dd><dl class="exceptions"><dt><a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>,
code NO_MODIFICATION_ALLOWED_ERR</dt>

<dd class="T">
<a href="svgdom.html#ReadOnlyNodes">読み取り専用の属性</a>
の変更を試みたときに投出される。
<span lang="en">
Raised on an attempt to change the value of a read only attribute.
</span>
</dd>
</dl></dd></dl></dd>
<dt id="__svg__SVGGlyphRefElement__x"><b>x</b><span class="idl-type-parenthetical"> (float)</span></dt><dd>

<p class="T">
与えられた要素の
<a href="text.html#GlyphRefElementXAttribute"><span class="attr-name">x</span></a>
属性に対応する。
<span lang="en">
Corresponds to attribute ‘x’ on the given element.
</span></p>

<dl class="attribute"><dt>設定時の例外</dt><dd><dl class="exceptions"><dt><a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>,
code NO_MODIFICATION_ALLOWED_ERR</dt>

<dd class="T">
<a href="svgdom.html#ReadOnlyNodes">読み取り専用の属性</a>
の変更を試みたときに投出される。
<span lang="en">
Raised on an attempt to change the value of a read only attribute.
</span>
</dd>
</dl></dd></dl></dd>
<dt id="__svg__SVGGlyphRefElement__y"><b>y</b><span class="idl-type-parenthetical"> (float)</span></dt><dd>

<p class="T">
与えられた要素の
<a href="text.html#GlyphRefElementYAttribute"><span class="attr-name">y</span></a>
属性に対応する。
<span lang="en">
Corresponds to attribute ‘y’ on the given element.
</span></p>

<dl class="attribute"><dt>設定時の例外</dt><dd><dl class="exceptions"><dt><a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>,
code NO_MODIFICATION_ALLOWED_ERR</dt>

<dd class="T">
<a href="svgdom.html#ReadOnlyNodes">読み取り専用の属性</a>
の変更を試みたときに投出される。
<span lang="en">
Raised on an attempt to change the value of a read only attribute.
</span>
</dd>
</dl></dd></dl></dd>
<dt id="__svg__SVGGlyphRefElement__dx"><b>dx</b><span class="idl-type-parenthetical"> (float)</span></dt><dd>

<p class="T">
与えられた要素の
<a href="text.html#GlyphRefElementDXAttribute"><span class="attr-name">dx</span></a>
属性に対応する。
<span lang="en">
Corresponds to attribute ‘dx’ on the given element.
</span></p>

<dl class="attribute"><dt>設定時の例外</dt><dd><dl class="exceptions"><dt><a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>,
code NO_MODIFICATION_ALLOWED_ERR</dt>

<dd class="T">
<a href="svgdom.html#ReadOnlyNodes">読み取り専用の属性</a>
の変更を試みたときに投出される。
<span lang="en">
Raised on an attempt to change the value of a read only attribute.
</span>
</dd>
</dl></dd></dl></dd>
<dt id="__svg__SVGGlyphRefElement__dy"><b>dy</b><span class="idl-type-parenthetical"> (float)</span></dt><dd>

<p class="T">
与えられた要素の
<a href="text.html#GlyphRefElementDYAttribute"><span class="attr-name">dy</span></a>
属性に対応する。
<span lang="en">
Corresponds to attribute ‘dy’ on the given element.
</span></p>

<dl class="attribute"><dt>設定時の例外</dt><dd><dl class="exceptions"><dt><a class="idlinterface" href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-17189187">DOMException</a>,
code NO_MODIFICATION_ALLOWED_ERR</dt>

<dd class="T">
<a href="svgdom.html#ReadOnlyNodes">読み取り専用の属性</a>
の変更を試みたときに投出される。
<span lang="en">
Raised on an attempt to change the value of a read only attribute.
</span>
</dd>
</dl></dd></dl></dd></dl></dd></dl>


<div class="header bottom">
<a href="index.html#minitoc">目次</a> ⋅
<a href="expanded-toc.html">詳細目次</a> ⋅
<a href="shapes.html">前章</a> ⋅
<a href="painting.html">次章</a> ⋅
<a href="eltindex.html">要素</a> ⋅
<a href="attindex.html">属性</a> ⋅
<a href="propidx.html">プロパティ</a>
</div><script src="style/expanders.js" type="text/javascript"> </script>


</body>
</html>
