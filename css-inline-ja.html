<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>CSS Inline Layout Module Level 3 （日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-css.css" type="text/css" />

<style>
.char-prop {
	font-family: serif0, serif;
	color: green;
}
</style>


<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script >

Util.ready = function(){
	const source_data = {
		collectParts: Util.collectParts,
		generate: expand,
	};
	Util.switchWordsInit(source_data);
}

function expand(){
	const class_map = this.class_map;
	const tag_map = this.tag_map;
	const link_map = this.link_map;

	let context_prop = '';
	let context_prop1 = '';

	return this.html.replace(
		/%\w+|`(.*?)([$@^])(\w*)/g,
		create_html
	);

	function create_html(match, key, indicator, klass){

if(!indicator) {//%
	return `<var>${match.slice(1)}</var>`;
}

let text = key;
let href = '';

switch(klass){
case 'r':
	text = `[${key}]`;
	href = `#biblio-${key.toLowerCase()}`;
	break;
case 'p':
	if( indicator === '@') {
		context_prop = `#valdef-${key}-`;
	} else {
		context_prop1 = `#valdef-${key}-`;
	}
	break;
case 'tp':
	text = `&lt;'<code class="property">${key}</code>'&gt;`;
	href = link_map[`p.${key}`];
	break;
case 'ps': 
	text = `:${key}`;
	break;
case 'pe': 
	text = `::${key}`;
	break;
case 't':
	text = `&lt;${key}&gt;`;
	break;
case 'vt':
	text = `&lt;${key}&gt;`;
	href = context_prop + key;
	break;
case 'v':
	href = context_prop + key;
	break;
case 'v1':
	href = context_prop1 + key;
	klass = 'v';
	break;
case 'U' :
	text = `U+${key}`;
	break;
case 'cref' :
	text = '“' + key
		.replace(/[^\da-fA-F]+/g, '＊')
		.replace(/[\da-fA-F]+/g, '&#x$&;')
		.replace(/＊/g, '') + '”';
	break;

case 'en':
	return `<span lang="en-x-a0">${key}</span>`;
	break;
case 'issue':
	href = `~CSSissue/${key}`;
	text = `issue#${key}`;
	break;
case 'dgm':
	return `<a id="_dgm-${key}"></a>`;
}

let tag = tag_map[klass];
if(tag) {
	let classname = class_map[klass];
	classname = classname ? ` class="${classname}"` : '';
	text = `<${tag}${classname}>${text}</${tag}>`;
}

if(indicator !== '^'){
	href = link_map[ klass ? `${klass}.${key}` : key ] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = `<a href="${href}">${text}</a>`;
		break;
	case '@':
		text = `<dfn id="${href.slice(1)}">${text}</dfn>`;
		break;
	default:
		console.log(match);
		return match;
	}
}

return text;

	}
}
</script>

<script type="text/plain" id="_source_data">


●●options

spec_title:CSS Inline Layout Module Level 3
spec_date:2019-08-10
trans_update:2019-08-12
source_checked:181022
page_state_key:CSS
original_url:https://drafts.csswg.org/css-inline-3/
spec_status:ED
ref_id_prefix:biblio-
ref_id_lowercase:true
site_nav:typeset,css
conformance:css
copyright:2019,permissive
trans_1st_pub:2015-07-11


●●class_map
p:property
t:type
vt:type
u:unit
v:value
css:css
pe:pseudo
ps:pseudo
e:element
uc:char-prop
U:code-point

●●tag_map
p:code
t:var
vt:var
v:code
u:code
css:code
pe:code
ps:code
e:code
U:span
uc:span
c:code
V:var

●●original_id_map


valdef-baseline-shift-baseline:baseline-shift-baseline
valdef-baseline-source-auto:valdef-alignment-baseline-auto
valdef-baseline-source-first:valdef-alignment-baseline-first
valdef-baseline-source-last:valdef-alignment-baseline-last


●●link_map

p.alignment-baseline:#propdef-alignment-baseline
p.baseline-shift:#propdef-baseline-shift
p.baseline-source:#propdef-baseline-source
p.dominant-baseline:#propdef-dominant-baseline
p.initial-letters:#propdef-initial-letters
p.initial-letters-align:#propdef-initial-letters-align
p.initial-letters-wrap:#propdef-initial-letters-wrap
p.vertical-align:#propdef-vertical-align
p.inline-sizing:#propdef-inline-sizing
p.line-sizing:#propdef-line-sizing
p.line-height:#propdef-line-height
p.leading-trim:#propdef-leading-trim
p.leading-trim-over:#propdef-leading-trim-over
p.leading-trim-under:#propdef-leading-trim-under


p.align-content:~CSSALIGN#propdef-align-content
p.align-self:~CSSALIGN#propdef-align-self
p.box-sizing:~SIZING#propdef-box-sizing
p.clear:~CSS2VISUREN#propdef-clear
p.color:~CSSCOLOR#propdef-opacity
p.display:~CSSDISP#propdef-display
p.float:~CSS2VISUREN#propdef-float
p.font-size:~CSSFONT#propdef-font-size
p.hanging-punctuation:~CSSTEXT#propdef-hanging-punctuation
p.height:~CSS2VISUDET#propdef-height
p.justify-self:~CSSALIGN#propdef-justify-self
p.letter-spacing:~CSSTEXT#propdef-letter-spacing
p.opacity:~CSSCOLOR#propdef-opacity
p.orphans:~CSSBREAK#propdef-orphans
p.position:~CSS2VISUREN#propdef-position
	p.position:~CSSPOS#propdef-position
p.shape-outside:~CSSSHAPES#propdef-shape-outside
p.text-align:~CSSTEXT#propdef-text-align
p.text-indent:~CSSTEXT#propdef-text-indent
p.text-orientation:~CSSWM#propdef-text-orientation
p.widows:~CSSBREAK#propdef-widows
p.width:~CSS2VISUDET#propdef-width
p.word-spacing:~CSSTEXT#propdef-word-spacing
p.list-style-position:~CSSLIST#propdef-list-style-position

pe.first-letter:~CSSPSEUDO#selectordef-first-letter
pe.marker:~CSSPSEUDO#selectordef-marker

v.~autoS:~SIZING#valdef-width-auto
v.inline-block:~CSSDISP#valdef-display-inline-block

行内-塊:~CSSDISP#valdef-display-inline-block
行内-~table:~CSSDISP#valdef-display-inline-block

	v.normal:#valdef-line-sizing-normal
	v.legacy:#valdef-line-sizing-legacy

	v.normal:#valdef-inline-sizing-normal
	v.stretch:#valdef-inline-sizing-stretch

	v.normal:#valdef-initial-letters-normal

	v.cap:#valdef-leading-trim-over-cap
	v.ex:#valdef-leading-trim-over-ex
	v.normal:#valdef-leading-trim-over-normal
	v.text:#valdef-leading-trim-over-text
	v.ideographic:#valdef-leading-trim-over-ideographic
	v.ideographic-ink:#valdef-leading-trim-over-ideographic-ink

	v.alphabetic:#valdef-leading-trim-under-alphabetic
	v.normal:#valdef-leading-trim-under-normal
	v.text:#valdef-leading-trim-under-text
	v.ideographic:#valdef-leading-trim-under-ideographic
	v.ideographic-ink:#valdef-leading-trim-under-ideographic-ink


	v.sideways:~CSSWM#valdef-text-orientation-sideways
	v.sideways-right:~CSSWM#valdef-text-orientation-sideways-right
	v.sideways-left

	v.none:~CSSWG/css-page-floats-3/#valdef-float-none
	v.static:~CSSWG/css-position-3/#valdef-position-static
	v.block:~CSSWG/css-display-3/#valdef-display-block
	v.first:#valdef-initial-letters-wrap-first
	v.last:~CSSALIGN#valdef-justify-self-last-baseline


	v.auto:#valdef-baseline-source-auto
	v.first:#valdef-baseline-source-first
	v.last:#valdef-baseline-source-last

t.length:~CSSVAL#length-value
t.percentage:~CSSVAL#percentage-value
t.number:~CSSVAL#number-value
t.integer:~CSSVAL#integer-value
t.length-percentage:~CSSVAL#typedef-length-percentage
	p.vertical-align:~CSS2VISUDET#propdef-vertical-align


u.em:~CSSVAL#em
u.ic:~CSSVAL#ic


	●用語
支柱:#strut

~cap-height:#_cap-height
整列-済み下位tree:#_aligned-subtree
	~CSS2VISUDET#_aligned-subtree
	baseline@

支配的~基底線:#dominant-baseline
基底線:#baseline
	支配的~基底線:~CSSWM#dominant-baseline
基底線:~CSSWM#baseline
根~行内~box:#root-inline-box

埋没~頭字:#dropped-initial
沈込み頭字:#sunken-initial
持上げ頭字:#raised-initial
先頭字:#initial-letter
先頭字~box:#initial-letter
不可分な先頭字:#atomic-initial-letter
不可分な先頭字~box:#atomic-initial-letter
可分な先頭字:#inline-initial-letter
行内~先頭字:#inline-initial-letter
行内~先頭字~box:#inline-initial-letter

注釈文を見よ:#first-most-inline-level
占める行l数:#initial-letters-initial-letter-size
	~size→占める行l数
沈込する行l数:#initial-letters-initial-letter-sink
	~sink→沈込する行l数

	●用語（外部

塊-軸:~CSSWM#block-axis
行内-軸:~CSSWM#inline-axis
行内~基底~方向:~CSSWM#inline-base-direction
塊~flow方向:~CSSWM#block-flow-direction
行内~始端:~CSSWM#inline-start
塊-終端:~CSSWM#block-end
塊-始端:~CSSWM#block-start
横組み:~CSSWM#horizontal-writing-mode
縦組み:~CSSWM#vertical-writing-mode
始端:~CSSWM#start
終端:~CSSWM#end
行-上面:~CSSWM#line-over
行-下面:~CSSWM#line-under
行-左端:~CSSWM#line-left
行-右端:~CSSWM#line-right
上面:~CSSWM#over
下面:~CSSWM#under
行内~size:~CSSWM#inline-size
塊~size:~CSSWM#block-size
論理-横幅:~CSSWM#logical-width
論理-縦幅:~CSSWM#logical-height
	~CSSWM#alphabetic-baseline
	~CSSWM#central-baseline
	mathematical

~size:~SIZING#size
横幅:~SIZING#width
縦幅:~SIZING#height
選好d横幅:~SIZING#width
選好d縦幅:~SIZING#height
最小~size~prop:~SIZING#min-size-properties
最大~size~prop:~SIZING#max-size-properties
	最小-横幅
	最大-横幅
確定的:~SIZING#definite

内縁の:~SIZING#inner-size
自動的~size:~SIZING#automatic-size
~sizing~prop:~SIZING#sizing-property
収まるよう伸張する:~SIZING#stretch-fit

~typographic文字~単位:~CSSTEXT#typographic-character-unit
~typographic字l単位:~CSSTEXT#typographic-letter-unit
~Unicode一般~字種:~CSSTEXT#unicode-general-category
~Unicode用字系:~CSSTEXT#unicode-script
内容~言語:~CSSTEXT#content-language
吊下がる:~CSSTEXT#hang
両端揃え機会:~CSSTEXT#justification-opportunity
単語~分離子:~CSSTEXT#word-separator
保全d空白:~CSSTEXT#preserved-white-space
強制d行l分断:~CSSTEXT#forced-line-break

基底線~格子:~CSSLINEGRID#line-grid

	v.inside
内側に位置された:~CSSLIST#valdef-list-style-position-inside
	~TR/css-lists-3/#valuedef-inside

内容~辺:~CSSBOX#content-edge
~margin辺:~CSSBOX#margin-edge
内容~区画:~CSSBOX#content-area
内容~box:~CSSBOX#content-box
~margin~box:~CSSBOX#margin-box
~margin:~CSSBOX#margin
~border:~CSSBOX#border
~padding:~CSSBOX#padding


行内~box:~CSSDISP#inline-box
不可分な行内:~CSSDISP#atomic-inline
可分な行内:~CSSDISP#inline
塊~容器:~CSSDISP#block-container
行内level:~CSSDISP#inline-level
行内level~box:~CSSDISP#inline-level-box
	整形~文脈:~CSSDISP#formatting-context
独立な整形~文脈:~CSSDISP#independent-formatting-context
塊~整形~文脈:~CSSDISP#block-formatting-context
行内~整形~文脈:~CSSDISP#inline-formatting-context
~flow内:~CSSDISP#in-flow
包含塊:~CSSDISP#containing-block
整形~文脈:~CSSDISP#formatting-context
~box~tree:~CSSDISP#box-tree
置換され:~CSSDISP#replaced-element
	置換されない:~CSSDISP#non-replaced
~text連なり:~CSSDISP#text-run
匿名:~CSSDISP#anonymous
~box~tree:~CSSDISP#box tree
絶対位置され:~CSSDISP#absolutely-positioned

相殺-:~CSS2BOX#collapsing-margins

合成-:~CSSALIGN#synthesize-baseline
整列~基底線:~CSSALIGN#alignment-baseline
	~SVG2/text.html#TermAlignmentBaseline
基底線~整列:~CSSALIGN#baseline-alignment
整列~文脈:~CSSALIGN#shared-alignment-context
~box整列~prop:~CSSALIGN#box-alignment-properties
最初の基底線~集合:~CSSALIGN#first-baseline-set
最後の基底線~集合:~CSSALIGN#last-baseline-set
最初の基底線による整列:~CSSALIGN#first-baseline-alignment
最後の基底線による整列:~CSSALIGN#last-baseline-alignment

~flex駒:~CSSFLEX#flex-item
~flex容器:~CSSFLEX#flex-container
格子~容器:~CSSGRID#grid-container
格子~駒:~CSSGRID#grid-item

柱~box:~CSSMCOL#column-box

~ruby注釈:~CSSRUBY#ruby-annotation-box
~ruby:~CSSRUBY#ruby

断片化~容器:~CSSBREAK#fragmentation-container
断片:~CSSBREAK#fragment
	~box断片:~CSSBREAK#box-fragment
		→断片
断片化:~CSSBREAK#fragmentation
単体的:~CSSBREAK#monolithic
強制d分断:~CSSBREAK#forced-break

下位prop:~CASCADE#longhand
算出d値:~CASCADE#computed-value
指定d値:~CASCADE#specified-value
使用~値:~CASCADE#used-value

整形される最初の行l:~CSSPSEUDO#first-formatted-line
浮動体:~CSS2VISUREN#float
	https://drafts.csswg.org/css-page-floats-3/#float
~clear対象:~CSS2VISUREN#_to-be-cleared
行l~box:#line-box
半-~leading:#leading

略式~prop:~CASCADE#shorthand-property
複柱~layout:~CSSMCOL#multi-column-layout
可用な最初の~font:~CSSFONT#first-available-font

●●words_table1


CSSLINEGRID:https://drafts.csswg.org/css-line-grid/

dbaronP:https://dev.w3.org/cvsweb/~checkout~/csswg/css3-linebox/Attic/Overview.html?rev=1.5;content-type=text%2Fhtml#LineStacking

autoS:auto


●●words_table

	●用字系／文字
Arabic:::アラビア語
Devanagari:::デヴァーナーガリー
Bengali:::ベンガル語
Gurmukhi:::グルムキー文字
Tibetan:::チベット語
CJK:

Farsi:::ペルシャ語
Hebrew:::ヘブライ語
Indic:::インド系
Latin::::ラテン
Greek:::ギリシア文字
Cyrillic:::キリル文字

西欧:Western:~
日本語:Japanese:~

上付文字:superscript::上付き文字
下付文字:subscript::下付き文字
字下げ:indentation::~
	~~大文字:capital／

用字系:script::~
慣行:tradition:~
約物:punctuation::~
装飾的:decorative::~

字l:letter::字°
字種:category::~
双向性:bidi::~
双方向-:bidirectional::~
space:
発音区別符:diacritic::~
改行文字:newline:~

	●text layout／font計量
OpenType:
span:
grid:
cap:
em:

cap-height::cap 高
x-height:
ex-height:
glyph::::グリフ
ruby::::ルビ
em-box:::em-ボックス

ink:
字詰:kern::字詰め
字詰法:kerning::字詰め法
descender::::ディセンダ
descent::::ディセント
ascender::::アセンダ
ascent::::アセント
bearing:
	::ベアリング
	はみ出る:leak

accent:::アクセント記号
alphabetic:
text-top:
mathematical:
ideographic:
	表語的:ideographic

	hebrew:
hanging:
吊下げ:hanging::~
吊下がる:hangする::ぶら下がる
吊下がり:hanging::ぶら下がり


ズラシ:shift:ずらし
ズラされ:shiftされ:ずらされ
ズラす:shiftする:ずらす
間隔:space::アキ
間隔法:spacing::アキ組
leading:::行アキ
	~leadingは含まない:unleaded
半-:half-::~
	半分:half
typographic::::タイポグラフィック
	zero-width non-joiner
central:
clear:
横組み:horizontal writing mode::~
縦組み:vertical writing mode::~
中央:center::~
中央寄せに:center::~
中央寄せ:centering::~
中点:midpoint:~
先頭字:initial letter::~
分断法:breaking::~
分断:break::~
分断-:break::~

単語:word:~
句:phrase:~

収まる:fitする::~
収まり:fitし::~
伸張-:stretch::~
占める:occupyする:~

回込む:wrap aroundする::回り込む
回込ませ:wrap aroundさせ::回り込ませ
回込まな:wrap aroundしな::回り込まな
回込み:wrapping::回り込み

折返され:wrapされ::折り返され
折返す:wrapする::折り返す
折返し:wrapping::折り返し
折返直して:wrap し直して::折り返し直して
	折返直-:rewrapp

埋没:dropped::~
埋没-:drop::~
埋没cap:drop cap::埋没 cap
持上げ:raised::持ち上げ
持上され:raiseされ::持ち上げられ
沈込み:sunken::沈み込み
沈込量:sink 量::沈み込み量
沈込しつ:sinkしつ::沈み込みつ
沈込しな:sinkしな::沈み込まな
沈込する:sinkする::沈み込む
沈込して:sinkして::沈み込んで

行-:line-::~
複行:multi-line::複数行
	行-間:inter-line
行分:-lines::~
一行分:1-line::1 行分
二行分:2-lines::2 行分
三行分:3-lines::3 行分
行高:line height::~

上面:over::~
下面:under::~

高さ:height:~
深さ:depth:~
	高い:high
	最も高い:highest
	最も深い:deepest
	deep
縦方向:vertical::~
縦方向の:verticalな::~


合成-:synthesize:~
	合成-法:synthesizing
揃える:matchさせる:~
	~~揃える:land on／align
合間:between:~
基底線:baseline::~::ベースライン
限界:bounding::~
限界域:bounds::~
拡幅-:extend::~
	~~拡幅:grow
支配的:dominant::~
整列-:align::~
	整列-済み:aligned
整列:alignment::~
整列点:alignment point::~
書字:writing::~
書記体系:writing system::~
頭字:initial::~

変動:variation:~
直交方向の:transverse:~
隙間:gap:~
	~~隙間なく:with no separation
face:
測定-:measure:~
計量:metric:~

排他-:exclude::~
排他:exclusion::~
外形線:outline::~
形状付け:shaping:~
形状:shape:~
図形:shape:~
矩形:rectangle:~
矩形な:rectangularな:~
座標:coordinate:~
供与-:contribute:~
寄与-:contribute:~
減算-:subtract:~
乗算-:multiply:~
中間:halfway:~
両端揃え:justification::~
並置:juxtaposition::~
機会:opportunity::~
分離子:separator::~
縮約-:collapse::~
連なり:run::~
植字:typesetting::~
分布-:distribute::~
基準:reference:~
基準に:refer:~

	~text連なり:running text
	突き当る:impinge
	点:point
	地点:point
	周を成す:face
	下回る:descends below
	上下いずれかの〜超える:higher or lower
	上／下へ超える:ascend or descend beyond

	●layout（断片化
強制d:forced::強制
断片:fragment::~
断片化:fragmentation::~
単体的:monolithic::~
region:
柱:column::::カラム
複柱:multi-column::複 column::複カラム
	~page割り:pagination
切分ける:sliceする:切り分ける
切落す:truncateする:切り落とす

	●layout
table:
	::テーブル
row:
col:column
cell:
flex:
格子:grid::~::グリッド
駒:item:::アイテム
支柱:strut::~
位置決め:positioning::~
絶対位置-:absolute に position::絶対位置に
	に位置する:-positioned
	~sizeし直す:resize
	最も始端に:startmost
	始端に整列しない~text:non-start text alignment
	下側:below
	上側:above
側:side::~
不可分:atomic::~
可分:non-atomic::~
距離:distance:~
辺:edge::~
進行:progression::~
部屋:room:~
重合して:overlapして:重なり合って
重合しな:overlapしな:重なり合わな
重合する:overlapする:重なり合う

浮動体:float::~
	浮動体:floating boxes
浮動-:float::~
	置換され:replaced
	置換されない:non-replaced
相殺-:collapse::~
堆積-:stack::~
封入-:enclose::~
反対:opposite:~
接合-:flush:~
連接-:adjoin:~
隣接する:adjacent な:~
確定的:definite:~
最小:minimum:~
最大:maximum:~
	最も小さい:smallest
切詰めた:clampした:切り詰めた
内方:inward:~
下方:downward:~
	に向けて:towards
収容-:accommodate:~
封込め:containment:封じ込め
削る:trimする:~
	~~削る:reducing
	剥ぎ取る:strip out
超過-:exceed:~
分割-:split:~
削減-:reduce:~

	短くなる:shorten
	下へ:down
	過ぎて:past
	周り:around
	短か過ぎる:too short
	に並んでいる:alongside
	並び:sequence of
	周囲の:surrounding
	直上にある:previous
	始端に配置される:first-most
	起点に:anchored to 〜 with respect to
	長さ無限な:infinite sequence of
	引き寄せる:pull in
	ずらされ:moved up
	寄りかか:abut
	見た目:optical
	崩れる:broken
	^en:rhythm
	はみ出る:with parts
	入りきる:fall
	まちまちになり得る :leads to differently 〜 for different
	~~拡がり:bleed
	~~仮想の:imaginary
	連続する:successive
	離れる:apart

	●構造
	包含している:containing
	最初の子である:first-child

	●描画／塗り
描かれ:drawされ:~
描く:drawする:~
描法:drawing:描き方
色:color:~
塗られ:paintされ:~
拡縮-:scale:~
触れる:touchする:~

	●CSS
CSS2:
	CSS2:CSS 2
	~style不能:unstyleable
単位:unit:~

	●仕様
利点:advantage:~
背景:background:~
方策:strategy:~
丁度:exactに:ちょうど
	丁度〜かのように:exactly as if
通例:usual:~
審美的:aesthetic:~
概要:outline:~
適理な:reasonableな:理に適う
批評:critiques:~
尊重-:respect:~
解法:solution:~
違法:illegal:~

	進捗-中の:-in-progress
	討議中:under discussion
	用例:example usage
	§:section
	事実:fact
	必要に応じて:as necessary/as needed/
	必要なら:as required
	そぐわない:awkward
	同様／類似する:similar
	同様:like
	同様に:…, much as
	余分の:extra
	本当は:really
	煩わしいもの:annoyance
	机上のもの:theoretical
	目障りな:jarring visual
	目に見える:visually-apparent
	普通の:ordinary
	込み入っている:tricky
	健全さ〜検査:sanity-check
	登場以前から:predate〜entirely
	特に／ので:therefore
	ぶつかる:crash
	可能性:possibility
	優先され:takes precedence
	関わらない:not care／But only／:not enter into
	仮の:hypothetical
	今のうちにしたい〜:We might want to use this opportunity
	~~複雑さ:complications
	誤り:error
	嫌らしい:annoying
	大まか:rought
	言え:say
	^en:pay attention me
	-:maybe
	はっきり:well
	上手く:well に
	待っている:invite
	見込まれる:likely
	欠落している:missing
	~codeに直書きされ:hard-coded
	満たされ:met
	全世界:world
	場当たり的な数:magic number
	詳しい:in-depth
	呼ばれ:called

	●仕様（動詞
情報源:source:~
意向:intention:~
推定-:infer:~
再考-:reconsider:~
発明-:invent:~
	invention
良さげ:sensible:~
修正-:fix:~
設計者:designer:~
整理-:clean up:~

	検出-:detection
	~~拡張:expand
	〜しない:avoid する
	どちらを選好するか:preference
	すなわち、:that means
	任意選択で外す:opt out
	特別に扱われるようになる:triggers the special layout considerations
	加えて，:additionally／in addition／furthermore
	されそう:seem
	気付いて:aware of
	とるようにされる:gain
	一致-:coincide
	埋めて:fill out
	書き直す:reword
	-:satisfy
	~~要求された:requisite
	~~素描:sketched out
	大まか:rough
	もの:stuff

	●未分類（動詞
展開-:expand:~
固定-:fix:~
	作成-法:creating
保全d:preserved:保全
増大-:increase:~
継続性:continuity:~
	計算-法:calculating
選択-:select:~
	選択-法:selecting
	~~見合う:match
出自に:originate:~
	originating
発生-:arise:~

	混在している:mixing
	始め:beginning
	在／無:absence／:present／:presence
	埋-:fill
	後続-:following
	先行-:precede
	先行-:previous
	無い:missing
	属する:belong
	-:coincide
	等しくする:equalizing
	得られ:yield

	●未分類
minus::::マイナス
	0 でない:non-zero
	plus
	table
実数:number:~
	数値:number
	整数倍:integral number
	整数でない:non-integer
符号:sign:~
素の:plainな:~
幾何的:geometric:~

	alias
	cyan
	緑色:green
	赤色:red
	青色:blue:
	橙色
	倍数:multiple
	-:set of
	数学的な:math
	組:pair
	〜を超えない~最~大な正~整数:floored to the nearest positive whole number
	他の内容:the others
	これらの~keyword:they

	●指示語
	短い:short
	across
	低い:lower
	以前の:previous
	~~後続する:main
	古い:old
	より早い:earlier
	でも:still
	次の:next
	N 本目の:Nth
	複数:multi-
	ただし:except
	のみならず:not just 〜 but also
	始め:beginning
	とともに:along with
	-:nearby
	残りの:the rest of
	残る:leaving
	は別として:aside from
	のみから:alone
	大きい:large
	および:as well as
	たびに:any time
	いくつもの:a lot of
	主に:primarily
	全体的な:overall
	さらには:moreover
	ある種の:occasional
	各種:variety
	一連の:set of


●●ref_normative
[CSS-ALIGN-3]
    Elika Etemad; Tab Atkins Jr.. CSS Box Alignment Module Level 3. 6 December 2018. WD. URL: https://www.w3.org/TR/css-align-3/ 
[CSS-BOX-3]
    Elika Etemad. CSS Box Model Module Level 3. 18 December 2018. WD. URL: https://www.w3.org/TR/css-box-3/ 
[CSS-BREAK-3]
    Rossen Atanassov; Elika Etemad. CSS Fragmentation Module Level 3. 4 December 2018. CR. URL: https://www.w3.org/TR/css-break-3/ 
[CSS-BREAK-4]
    Rossen Atanassov; Elika Etemad. CSS Fragmentation Module Level 4. 18 December 2018. WD. URL: https://www.w3.org/TR/css-break-4/ 
[CSS-CASCADE-4]
    Elika Etemad; Tab Atkins Jr.. CSS Cascading and Inheritance Level 4. 28 August 2018. CR. URL: https://www.w3.org/TR/css-cascade-4/ 
[CSS-DISPLAY-3]
    Tab Atkins Jr.; Elika Etemad. CSS Display Module Level 3. 11 July 2019. CR. URL: https://www.w3.org/TR/css-display-3/ 
[CSS-FONTS-3]
    John Daggett; Myles Maxfield; Chris Lilley. CSS Fonts Module Level 3. 20 September 2018. REC. URL: https://www.w3.org/TR/css-fonts-3/ 
[CSS-LISTS-3]
    Elika Etemad; Tab Atkins Jr.. CSS Lists Module Level 3. 25 April 2019. WD. URL: https://www.w3.org/TR/css-lists-3/ 
[CSS-MULTICOL-1]
    Florian Rivoal; Rachel Andrew. CSS Multi-column Layout Module Level 1. 28 May 2018. WD. URL: https://www.w3.org/TR/css-multicol-1/ 
[CSS-PAGE-FLOATS-3]
    Johannes Wilm. CSS Page Floats. 15 September 2015. WD. URL: https://www.w3.org/TR/css-page-floats-3/ 
[CSS-PSEUDO-4]
    Daniel Glazman; Elika Etemad; Alan Stearns. CSS Pseudo-Elements Module Level 4. 25 February 2019. WD. URL: https://www.w3.org/TR/css-pseudo-4/ 
[CSS-RUBY-1]
    Elika Etemad; Koji Ishii. CSS Ruby Layout Module Level 1. 5 August 2014. WD. URL: https://www.w3.org/TR/css-ruby-1/ 
[CSS-SHAPES-1]
    Vincent Hardy; Rossen Atanassov; Alan Stearns. CSS Shapes Module Level 1. 20 March 2014. CR. URL: https://www.w3.org/TR/css-shapes-1/ 
[CSS-SIZING-3]
    Tab Atkins Jr.; Elika Etemad. CSS Intrinsic & Extrinsic Sizing Module Level 3. 22 May 2019. WD. URL: https://www.w3.org/TR/css-sizing-3/ 
[CSS-TEXT-3]
    Elika Etemad; Koji Ishii; Florian Rivoal. CSS Text Module Level 3. 12 December 2018. WD. URL: https://www.w3.org/TR/css-text-3/ 
[CSS-VALUES-3]
    Tab Atkins Jr.; Elika Etemad. CSS Values and Units Module Level 3. 6 June 2019. CR. URL: https://www.w3.org/TR/css-values-3/ 
[CSS-VALUES-4]
    Tab Atkins Jr.; Elika Etemad. CSS Values and Units Module Level 4. 31 January 2019. WD. URL: https://www.w3.org/TR/css-values-4/ 
[CSS-WRITING-MODES-4]
    Elika Etemad; Koji Ishii. CSS Writing Modes Level 4. 30 July 2019. CR. URL: https://www.w3.org/TR/css-writing-modes-4/ 
[CSS2]
    Bert Bos; et al. Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification. 7 June 2011. REC. URL: https://www.w3.org/TR/CSS2/ 
[QUIRKS]
    Simon Pieters. Quirks Mode Standard. Living Standard. URL: https://quirks.spec.whatwg.org/ 
[RFC2119]
    S. Bradner. Key words for use in RFCs to Indicate Requirement Levels. March 1997. Best Current Practice. URL: https://tools.ietf.org/html/rfc2119 

●●ref_informative

[CSS-LINE-GRID-1]
    Elika Etemad; Koji Ishii; Alan Stearns. CSS Line Grid Module Level 1. 16 September 2014. WD. URL: https://www.w3.org/TR/css-line-grid-1/ 
[CSS-POSITION-3]
    Rossen Atanassov; Arron Eicholz. CSS Positioned Layout Module Level 3. 17 May 2016. WD. URL: https://www.w3.org/TR/css-position-3/ 
[CSS-WRITING-MODES-3]
    Elika Etemad; Koji Ishii. CSS Writing Modes Level 3. 30 July 2019. CR. URL: https://www.w3.org/TR/css-writing-modes-3/ 
[SELECT]
    Tantek Çelik; et al. Selectors Level 3. 6 November 2018. REC. URL: https://www.w3.org/TR/selectors-3/ 


●●trans_metadata
<p>
~THIS_PAGEは、~W3Cにより編集者草案として公開された
<a href="~SPEC_URL">CSS Inline Layout Module Level 3</a>
を日本語に翻訳したものです。
~PUB
</p>

●●spec_metadata


最新発行バージョン
	https://www.w3.org/TR/css-inline/

以前のバージョン
	https://www.w3.org/TR/2018/WD-css-inline-3-20180808/
	https://www.w3.org/TR/2016/WD-css-inline-3-20160524/
	https://www.w3.org/TR/2015/WD-css-inline-3-20150917/
	https://www.w3.org/TR/2014/WD-css-inline-3-20141218/
	https://www.w3.org/TR/2002/WD-css3-linebox-20020515/

最新の課題
	<a href="https://github.com/w3c/csswg-drafts/labels/css-inline-3">GitHub Issues</a>

編集
	<a href="mailto:dauwhe@gmail.com">Dave Cramer</a> (Hachette Livre)
	<a href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (Invited Expert)
	<a href="mailto:szilles@adobe.com">Steve Zilles</a> (Adobe)

Suggest an Edit for this Spec
	<a href="https://github.com/w3c/csswg-drafts/blob/master/css-inline-3/Overview.bs">GitHub Editor</a>

課題一覧
	<a href="https://github.com/w3c/csswg-drafts/issues?q=is%3Aissue+is%3Aopen+label%3Acss-inline-3">CSS3 Line Layout issues in GitHub</a>

</script>

</head>

<body>



<!--%resource pool -->

<div id="_persisted_parts" hidden>

<img id="_dgm-leading-trim-centering-fail"
	alt="Consider some Latin text placed to the right of an image, to be centered between its top and bottom. Measuring from the top of the image to the top of the text box yields 13px; likewise measuring from the bottom of the image to the bottom of the text box yelds 13px, theoretically perfectly centering the text. However, measuring from the top of the image to the cap-height yields 21px; and measuring from the bottom to the alphabetic baseline yields 19px, showing that visually the text is not actually centered."
	src="css-inline/leading-trim-centering-fail.png"
	style="height: 10rem"
>

<img id="_dgm-leading-trim-centering-goal"
	alt="If the text were visually centered, the distance between the top of the image and the cap height would be 20px, and the distance between the bottom of the image and the alphabetic baseline would be equally 20px."
	src="css-inline/leading-trim-centering-goal.png"
	style="height: 10rem"
>

<img id="_dgm-leading-trim-centering-variants"
	alt=""
	src="css-inline/leading-trim-centering-variants.gif"
>


<img id="_dgm-Dropcap-E-acute-3line"
	src="css-inline/Dropcap-E-acute-3line.png"
	width="480"
	alt="3-line drop cap with E Acute"
>
<img id="_dgm-Dropcap-lines"
	src="css-inline/Dropcap-lines.png"
	width="600"
	alt="drop cap showing alignment"
>
<img id="_dgm-Initial-2line-JapaneseVertical"
	src="css-inline/Initial-2line-JapaneseVertical.png"
	width="480"
	alt="Japanese Vertical Initial"
>
<img id="_dgm-CJK-Initial"
	src="css-inline/CJK-Initial.png"
	width="480"
	alt="Diagram of Japanese initial letter in vertical writing mode"
>
<img id="_dgm-Devangari-Initial"
	src="css-inline/Devangari-Initial.png"
	width="480"
	alt="Devangari initial letter"
>
<img id="_dgm-SunkenCapA"
	src="css-inline/SunkenCapA.png"
	width="480"
	alt="sunken drop initial"
>
<img id="_dgm-RaisedCap"
	src="css-inline/RaisedCap.png"
	width="480"
	alt="raised cap"
>
<img id="_dgm-initial-letter-punctuation-quote"
	src="css-inline/initial-letter-punctuation-quote.png"
	width="604"
	alt="Paragraph showing both opening quote and first letter set as three-line drop cap"
>
<img id="_dgm-InitialLetter33"
	src="css-inline/InitialLetter33.png"
	width="360"
	alt="3 lines high, 3 lines deep"
>
<img id="_dgm-InitialLetter32"
	src="css-inline/InitialLetter32.png"
	width="360"
	alt="3 lines high, 2 lines deep"
>
<img id="_dgm-InitialLetter31"
	src="css-inline/InitialLetter31.png"
	width="360"
	alt="3 lines high, 1 line deep"
>
<img id="_dgm-non-integer-initial"
	src="css-inline/non-integer-initial.png"
	width="360"
	alt="Non-integral initial letter that only aligns at base"
>
<img id="_dgm-adjacent-initial-letter"
	alt="Initial letter adjacent to text"
	src="css-inline/adjacent-initial-letter.png"
	width="360"
>

<!-- 
<img id="_dgm-first-most-inline-level-descendant-example"
	src="css-inline/first-most-inline-level-descendant-example.png"
	width="300"
	alt="text with two-line initial-letter"
>
-->
<img id="_dgm-infinite-text"
	alt="text underlay shows how initial letter alignment is not affected by the content of the spanned lines"
	src="css-inline/infinite-text.png"
	width="360"
>
<img id="_dgm-infinite-text-1"
	alt="Constant-sized text underlay shows how initial letter alignment is not affected by the content of the spanned lines."
	src="css-inline/infinite-text.png"
	width="360"
>

<img id="_dgm-hebrew-initial-letter"
	src="css-inline/hebrew-initial-letter.png"
	width="480"
	alt="optical kerning in the presence or absence of a space after the initial letter"
>
<img id="_dgm-InitialLetterWithTextIndent"
	alt="initial letter with text indent"
	src="css-inline/InitialLetterWithTextIndent.png"
	width="300"
>
<img id="_dgm-Multi-line-initial"
	src="css-inline/Multi-line-initial.png"
	width="300"
	alt="multi-line drop cap"
>
<!-- 
<img id="_dgm-InitialCapEquation"
	src="css-inline/InitialCapEquation.png"
	width="604"
	alt="Equation to calcuate drop initial font size"
>
 -->
<img id="_dgm-Dropcap-J-3line-crash"
	src="css-inline/Dropcap-J-3line-crash.png"
	width="480"
	alt="3-line drop cap with J, with descender crashing into fourth line of text"
>
<img id="_dgm-Dropcap-J-3line-exclude"
	src="css-inline/Dropcap-J-3line-exclude.png"
	width="480"
	alt="3-line drop cap with J, but four-line exclusion"
>
<img id="_dgm-OpticalKerning"
	src="css-inline/OpticalKerning.png"
	width="200"
	alt="optical kerning in the presence or absence of a space after the initial letter"
>
<img id="_dgm-initial-letter-drop-para-compare"
	src="css-inline/initial-letter-drop-para-compare.png"
	width="600"
	alt="raised cap para after normal para"
>
<img id="_dgm-initial-letter-short-para"
	src="css-inline/initial-letter-short-para.png"
	width="600"
	alt="short para with initial letter"
>
<img id="_dgm-initial-letter-short-para-initial"
	src="css-inline/initial-letter-short-para-initial.png"
	width="600"
	alt="short para with initial letter followed by para with initial"
>


<img id="_dgm-A-wraparound-none"
	src="css-inline/A-wraparound-none.png"
	width="600"
	alt="regular dropcap A"
>
<img id="_dgm-A-wraparound"
	src="css-inline/A-wraparound.png"
	width="600"
	alt="text wrapping around dropcap A"
>
<img id="_dgm-A-wraparound-first"
	src="css-inline/A-wraparound-first.png"
	width="600"
	alt="text wrapping around dropcap A but only on first line"
>
<img id="_dgm-V-wraparound"
	src="css-inline/V-wraparound.png"
	width="600"
	alt=""
>
<img id="_dgm-P-wraparound"
	src="css-inline/P-wraparound.png"
	width="600"
	alt=""
>
<img id="_dgm-W-wraparound"
	src="css-inline/W-wraparound.png"
	width="600"
	alt=""
>
<img id="_dgm-float-interaction"
	alt="initial letter interacting with floats"
	src="css-inline/float-interaction.png"
	width="480"
>
<img id="_dgm-measuring-x-height-o"
	src="css-inline/measuring-x-height-o.png"
	width="320"
	alt="measuring the x height of the letter o"
>
<img id="_dgm-measuring-hanging-baseline-ka"
	src="css-inline/measuring-hanging-baseline-ka.png"
	width="320"
	alt="finding the position of the hanging baseline of the letter ka"
>

</div>

<header>
	<hgroup>
<h1 id="title">CSS による行内レイアウト — CSS Inline Layout Module Level 3</h1>
	</hgroup>

</header>

<div id="MAIN" hidden>

	<section id="abstract">
~ABSTRACT

<p>
~CSS整形~modelは、［
容器の内側に~flowされる要素や~text
］を，何~行lかに折返すようにする整形を供する。
そのうち、［
行lの中での要素や~textの整形 ／
その`行内~基底~方向$における位置決め
<!-- 行内~進行~方向 -->／
行lの分断法
］は、 `CSS-TEXT-3$r にて述べられる。
この~moduleは、［
行lの中の要素や~text／ 行lたち
］に対する，`塊~flow方向$における位置決めについて述べる。
<!-- 塊~進行~方向 -->
この位置決めは、`基底線$に相対的になることが多い。
また、最初の行lや埋没capを整形するための，特別な特能についても述べる。
これは `CSS2$r における~modelを拡張する。
◎
The CSS formatting model provides for a flow of elements and text inside of a container to be wrapped into lines. The formatting of elements and text within a line, its positioning in the inline progression direction, and the breaking of lines are described in [CSS-TEXT-3]. This module describes the positioning in the block progression direction both of elements and text within lines and of the lines themselves. This positioning is often relative to a baseline. It also describes special features for formatting of first lines and drop caps. It extends on the model in [CSS2].
</p>

~CSSisaLANG

	</section>
	<section id="status">
~STATUSofTHIS

<p>
これは編集者草案の公の複製です…
<!-- 
この節では、発行時点における…
-->
【以下，この節の他の内容は <a href="css-common-ja.html#status">CSS 日本語訳 共通ページ</a>に委譲。】
</p>

<p>
次の特能は
<a href="css-common-ja.html#at-risk">~risk下</a>
にあり、勧告候補の期間内に取下げられるかもしれません：
◎
The following features are at-risk, and may be dropped during the CR period:
</p>

<ul>
	<li>
`initial-letters-wrap$p ~prop
◎
the initial-letters-wrap property
</li>
</ul>

	</section>

<main id="MAIN0">
	<section id="intro">

<h2 title="Introduction">1. 序論</h2>

<p>
この~moduleは、
CSS Inline Layout （行内~layout）~modelを定義する。
それは、~CSS2に定義される~modelを置換し, 拡張する。
これは、まだまだ進捗-中の作業なので、実装者は~CSS2を参照するべきである。
◎
This module defines the CSS Inline Layout model, replacing and extending the model as defined in CSS2.1. It is very much a work-in-progress, and implementers should reference CSS2.1 for now.
</p>

<p class="issue">
ここでの~layoutの多くの側面は、~font計量に依存する。
~OpenTypeには、［
~Latin／~Cyrillic／~Greek
］用, および~CJK用の関連な計量は存在するが、他の多くの書記体系~用のそれらは欠落している。
例えば，~OpenType~table内には~Hebrew用の視覚的な上端~計量は無い。
この~moduleが全世界で上手く働くためには、［
どの書記体系~用にも，関連な計量を供する~font
］が必要になる。
すなわち、~OpenTypeは そのような計量を許容する必要があり，~font設計者は 正確aな数値を供する必要がある。
◎
Many aspects of layout here depend on font metrics. While the relevant metrics exist in OpenType for Latin/Cyrillic/Greek and for CJK, they are missing for many other writing systems. For example, the visual top metric for Hebrew has no metric in the OpenType tables. For this module to work well for the world, we need fonts to provide the relevant metrics for all writing systems, and that means both that OpenType needs to allow such metrics and font designers need to provide accurate numbers.
</p>

	</section>
	<section id="model">
<h2 title="Inline Layout Box Model">2. 行内~layout~box~model</h2>

<p>
`塊~容器$要素のうち`行内level$の内容
— `行内~box$, `不可分な行内$, `~text連なり$など —
を直に包含するものは、`行内~整形~文脈$を確立する。
そのような`塊~容器$は、
`根~行内~box@
も生成する
— それは、`行内level$の内容~すべてを保持する`匿名$な`行内~box$である。
`根~行内~box$は、親の`塊~容器$から~styleを継承する他は，~style不能である。
◎
A block container element that directly contains inline-level content—such as inline boxes, atomic inlines, and text runs—establishes an inline formatting context. The block container also generates a root inline box, which is an anonymous inline box that holds all of its inline-level contents. The root inline box inherits from its parent block container, but is otherwise unstyleable.
</p>

<p>
`行内~整形~文脈$における内容は、`行内-軸$に沿って~lay-outされ，
<a href="~CSSWM#text-direction">~Unicode双方向-~algoとその制御</a>
`CSS-WRITING-MODES-3$r に則って順序付けられ，
`CSS-TEXT-3$r における植字~制御に則って分布される。
`行内-軸$における［
`~margin$, `~border$, `~padding$
］は、`行内level~box$どうしの合間で尊重される（一方で~marginは`相殺-$されない）。
`行内level$の内容が成す行lを形成する~boxたちを包含する矩形な区画は、
`行l~box@
と呼ばれる。
◎
In an inline formatting context, content is laid out along the inline axis, ordered according to the Unicode bidirectional algorithm and its controls [CSS-WRITING-MODES-3] and distributed according to the typesetting controls in [CSS-TEXT-3]. Inline-axis margins, borders, and padding are respected between inline-level boxes (and their margins do not collapse). The rectangular area that contains the boxes that form a line of inline-level content is called a line box.
</p>

<p class="note">注記：
［
`行l~box$, `行内~box$, `行内level~box$
］は、それぞれに異なる。
各種~box型，および関係する各種用語についての詳しい論は、 `CSS-DISPLAY-3$r を見よ。
◎
Note: Line boxes and inline boxes and inline-level boxes are each different things! See [CSS-DISPLAY-3] for an in-depth discussion of box types and related terminology.
</p>

<p>
`行l~box$は、行内~整形~文脈の中で行内levelの内容を保持する必要に応じて作成される。
`行内~box$が［
`行l~box$の`論理-横幅$を超過する／
`強制d行l分断$を包含する
］ときは、いくつかの`断片$ `css-break-3$r
に分割され（ `CSS-TEXT-3$r
<a href="~CSSTEXT#line-breaking">§ 行l分断-法と単語~境界</a>
を見よ），複数の行l~boxにまたがって分布する。
`複柱~layout$における`柱~box$ `CSS-MULTICOL-1$r の様に、`行l~box$は`整形~文脈$により生成される`断片化~容器$であり，~CSS`~box~tree$の一部を成さない。
◎
Line boxes are created as needed to hold inline-level content within an inline formatting context. When an inline box exceeds the logical width of a line box, or contains a forced line break, it is split (see CSS Text 3 §5 Line Breaking and Word Boundaries) into several fragments [css-break-3], which are distributed across multiple line boxes. Like column boxes in multi-column layout [CSS-MULTICOL-1], line boxes are fragmentation containers generated by their formatting context, and are not part of the CSS box tree.
</p>

<p class="note">注記：
行内~boxは、
<a href="~CSSWM#bidi-box-model">双方向-~text処理に因り，同じ行l~boxの中でいくつかの断片に分割される</a>
こともある。
`CSS-WRITING-MODES-3$r を見よ。
◎
Note: Inline boxes can also be split into several fragments within the same line box due to bidirectional text processing. See [CSS-WRITING-MODES-3].
</p>

<p>
行l~boxは、`塊~容器$を成す直な内容として，`塊~flow方向$に堆積され、この容器の中で `align-content$p `css-align-3$r に指定されるように整列される。
したがって，`行内~整形~文脈$は、行l~boxの堆積-を成す。
行l~boxたちは、~~隙間なく堆積され（他所で指定されるものは除けば
— 例： `浮動体$の
<a href="~CSS2VISUREN#clearance">clearance</a>
など），決して重合しない。
◎
Line boxes are stacked as the direct contents of the block container box in the block flow direction and aligned within this container as specified by align-content [css-align-3]. Thus, an inline formatting context consists of a stack of line boxes. Line boxes are stacked with no separation (except as specified elsewhere, e.g. for float clearance) and they never overlap.
</p>

<p>
一般に，行l~boxの［
`行-左端$／`行-右端$
］辺は，その`包含塊$の［
`行-左端$／`行-右端$
］辺に触れる
— したがって，行l~boxの`論理-横幅$は、その包含塊の`内縁の$（すなわち，`塊~容器$の`内容~box$の）`論理-横幅$に等しくなる。
しかしながら，包含塊の辺と行l~boxの辺の合間に浮動体や`先頭字$が来ることもあり、可用な空間を，したがって影響iされる行l~boxの`論理-横幅$を削減する（
<a href="~CSS2VISUREN#inline-formatting">~CSS2 §9.4.2</a>／
<a href="~CSS2VISUREN#floats">~CSS2 §9.5</a> ／
<a href="#initial-letter-styling">§ 先頭字</a>
を見よ。）
◎
In general, the line-left edge of a line box touches the line-left edge of its containing block and the line-right edge touches the line-right edge of its containing block, and thus the logical width of a line box is equal to the inner logical width of its containing block (i.e. the block container’s content box). However, floating boxes or initial letter boxes can come between the containing block edge and the line box edge, reducing space available to, and thus the logical width, of any such impacted line boxes. (See CSS2§9.4.2/CSS2§9.5 and § 5 Initial Letters.)
</p>

<p>
行l~boxの中で，行内level~boxが`塊-軸$沿いに整列される仕方には、いくつかあり，それらの［
上面／下面
］辺が整列されることもあれば，それらの中の~textの基底線が整列されることもある。
`vertical-align$p とその下位propを見よ。
行l~boxの`論理-縦幅$は、
<a href="#line-sizing-property">§ 行l~sizingによる封込め</a>
に与える規則により，その内容が収まるようにされる。
◎
Within the line box, inline-level boxes can be aligned along the block axis in different ways: their over or under edges can be aligned, or the baselines of text within them can be aligned. See vertical-align and its longhands. The logical height of a line box is fitted to its contents by the rules given in § 3.4 Line Sizing Containment: the line-sizing property.
</p>

<p>
行l~boxのうち［
包含する~textは無い
］かつ［
`保全d空白$は無い, かつ
保全d改行文字で終端しない
【したがって、行l分断は含まない】
］かつ［
0 でない［
`~margin$／`~padding$／`~border$
］を伴う`行内~box$は無い
］かつ［
`~flow内$にある内容（`不可分な行内$や`~ruby注釈$など）は無い
］ものは、［
それらの内側にある要素（`絶対位置され$たものなど）の位置を決定する目的
］においては［
`論理-縦幅$が 0 である行l~box
］として，他の目的（~marginを`相殺-$するときなど）においては存在しないものとして，扱うモノトスル。
◎
Line boxes that contain no text, no preserved white space, no inline boxes with non-zero margins, padding, or borders, and no other in-flow content (such as atomic inlines or ruby annotations), and do not end with a preserved newline must be treated as zero-height line boxes for the purposes of determining the positions of any elements inside of them (such as absolutely positioned boxes), and must be treated as not existing for any other purpose (such as collapsing margins).
</p>

	</section>
	<section id="line-height">
<h2 title="Line Heights and Baseline Alignment">3. 行高と基底線~整列</h2>

<p class="issue">
この節は、書き直し中にある。
pretty pictures を求むなら、規範的な~CSS定義については
`CSS2$r の
<a href="~CSS2VISUDET#line-height">§ 10.8</a>
または
<a href="~TR/2002/WD-css3-linebox-20020515/">2002 年 作業草案</a>
を~~参照のこと。
（ただし、古い~textは無視するように。
“その半分” は間違っている。
どの半分かを指定していないが、それが，これから決定するものである。）
<strong>~CSS2仕様が実装の指針とされるべきである。</strong>
◎
This section is being rewritten. Refer to section 10.8 of [CSS2] for the normative CSS definition or the 2002 Working Draft if you want pretty pictures. (But ignore the old text, half of it’s wrong. We’re not specifying which half, that’s to be determined.) The CSS2 specification should be used as the guideline for implementation.
</p>

<p class="issue">
どの基底線が必要とされるのか
CSSWG まで意見を寄せられたし
— 不要なもの，追加する必要のあるもの。
Github `859$issue を見よ。
◎
The CSSWG would like to know which baseline values are necessary: if any can be dropped, or any need to be added. See GitHub issue 859.
</p>

		<section id="dominant-baseline-property">
<h3 title="Dominant Baselines: the dominant-baseline property">3.1. 支配的~基底線： `dominant-baseline^p ~prop</h3>

◎名 `dominant-baseline@p
◎値
`auto$v
| `text-bottom$v
| `alphabetic$v
| `ideographic$v
| `middle$v
| `central$v
| `mathematical$v
| `hanging$v
| `text-top$v

◎初 `auto^v
◎適
`塊~容器$,
`行内~box$,
~table~row,
~table~col,
`格子~容器$,
`~flex容器$
◎
block containers, inline boxes, table rows, table columns, grid containers, and flex containers
◎継 される
◎百 受容しない
◎算 指定された~keyword
◎順 文法に従う
◎ア 離散的
◎表終

<p>
この~propは、~boxの
~text／`行内level$
の内容を整列するために利用される，
`支配的~基底線@
（
<a href="~CSSWM#dominant-baseline">dominant baseline</a>,
`CSS-WRITING-MODES-3$r
）を指定する。
それはまた、~boxの`整列~文脈$において`基底線~整列$に関与している各~box用に既定の`整列~基底線$を指示する。
各種~値の意味は：
◎
This property specifies the dominant baseline, which is the baseline used to align the box’s text and inline-level contents. It is also indicates the default alignment baseline of any boxes participating in baseline alignment in the box’s alignment context. Values have the following meanings:
</p>

<dl>
	<dt>`auto@v</dt>
	<dd>
<p >
`横組み$においては `alphabetic$v に等価になる。
`縦組み$においては、 `text-orientation$p 値に応じて：
</p>
		<ul>
			<li>
［
`sideways^v ／ `sideways-right^v ／ `sideways-left^v
］ならば `alphabetic$v に等価になる。
</li>
			<li>
［
`mixed$v ／ `upright$v
］ならば `central$v に等価になる。
</li>
		</ul>

◎
Equivalent to alphabetic in horizontal writing modes and in vertical writing modes when text-orientation is sideways, sideways-right, or sideways-left. Equivalent to central in vertical writing modes when text-orientation is mixed or upright.
</dd>
	<dd>
ただし， SVG ~textにおいては、~glyphの原点（座標に基づく~glyphの位置決めに利用される）は常に，`縦組み$における `central$v に対するときと同じに取扱われる。
◎
However, in SVG text, the origin point of glyphs (used for coordinate-based glyph positioning) is always handled as for central in vertical writing modes.
</dd>

	<dt>`text-bottom@v</dt>
	<dd>
~em~boxの下端を基底線として利用する。
◎
Use the bottom of the em box as the baseline.
</dd>

	<dt>`alphabetic@v</dt>
	<dd>
~alphabetic基底線を利用する。
◎
Use the alphabetic baseline.
</dd>

	<dt>`ideographic@v</dt>
	<dd>
~boxの~ideographic下側（ `ideographic under-side^en ）基底線を，親~boxのそれに揃える。
これは~OpenTypeにおける `ideo^c 基底線に対応する。
◎
Match the box’s ideographic under-side baseline to that of its parent. This corresponds to the ideo baseline in OpenType.
</dd>

	<dt>`middle@v</dt>
	<dd>
“middle” 基底線
— ~boxの~alphabetic基底線と ex-height 【~x-height？】の中間 —
を利用する。
◎
Use the “middle” baseline: halfway between the alphabetic baseline and the ex-height.
</dd>

	<dt>`central@v</dt>
	<dd>
~central基底線を利用する（~ascentと~descentの中間）。
◎
Use the central baseline (halfway between the ascent and descent).
</dd>

	<dt>`mathematical@v</dt>
	<dd>
~mathematical基底線を利用する。
◎
Use the mathematical baseline.
</dd>

	<dt>`hanging@v</dt>
	<dd>
~hanging（吊下げ）基底線を利用する。
◎
Use the hanging baseline.
</dd>

	<dt>`text-top@v</dt>
	<dd>
~em~boxの上端を基底線として利用する。
◎
Use the top of the em box as the baseline.
</dd>
</dl>

<p class="trans-note">【†
上における “〜 基底線” は、~fontの基底線~tableのそれを指すと見られる。
】</p>

<p>
<!-- 
支配的~基底線については
CSS-WRITING-MODES-3$r
を見よ（
<a href="~CSSWM#dominant-baseline">dominant baseline</a>
）。
 -->
◎
See [CSS-WRITING-MODES-3] for an introduction to dominant baselines.
</p>

<p class="issue">
`text-top^v ／ `text-bottom^v
の代わりに
`text-over^v ／ `text-under^v
【 “上面”, “下面” 】
にするべきか？
旧来の `vertical-align$p との一貫性を得るためには、これらの用語は~~避けた方がよいが。
GitHub `860$issue を見よ。
◎
Should be text-over and text-under instead of text-top and text-bottom, but maybe it’s better not to use those terms for consistency with legacy vertical-align. See GitHub issue 860.
</p>

<p class="issue">
`first^v, `last^v 値を追加する。
この~propにおいては、これらの値を他と組み合わせれるが、
`align/justify-self/content^p ~prop `CSS-ALIGN-3$r
では，そうできないことに注意。
`hyphen vs. space^en か何かに関して構文を~~揃えることは求まれているのか？
GitHub `861$issue を見よ。
◎
Add first and last values. Note, in this property, these are combinatorial, whereas in the align/justify-self/content properties, it’s singular. Do we want to align the syntaxes wrt hyphens vs. spaces or what? See GitHub issue 861.
</p>

		</section>
		<section id="transverse-alignment">
<h3 title="Transverse Box Alignment: the vertical-align property">3.2. 直交方向の~box整列： `vertical-align^p ~prop</h3>

◎名 `vertical-align@p
◎値
`baseline-source$tp || `baseline-shift$tp || `alignment-baseline$tp
◎初 `baseline$v
◎適
`行内level$の~box
◎
inline-level boxes
◎継 されない
◎百 受容しない
◎算 個々の~propを見よ
◎順 文法に従う
◎ア 個々の~propを見よ
◎表終

<p>
この`略式~prop$は、行lの中で`行内level$の~boxが整列される方法を指定する。
値の意味は、後述するこの~propの下位propと同じである。
◎
This shorthand property specifies how an inline-level box is aligned within the line. Values are the same as for its longhand properties, see below.
</p>

<p class="advisement">
作者は、下位propの代わりに この `vertical-align$p ~propを利用するべきである（下位propを独立に~cascadeさせるために必要な場合は別として）。
◎
Authors should use this property (vertical-align) instead of its longhands (unless it is specifically needed to cascade its longhands independently).
</p>

			<section id="baseline-source">
<h4 title="Alignment Baseline Source: the baseline-source longhand">3.2.1. 整列~基底線の情報源： `baseline-source^p 下位prop</h4>

◎名 `baseline-source@p
◎値 `auto$v | `first$v | `last$v
◎初 `auto^v
◎適 `行内level$の~box
◎継 されない
◎百 受容しない
◎算 指定された~keyword
◎順 文法に従う
◎ア 離散的
◎表終

<p class="issue">
これは，大まかな草案であり、実装~用には準備済みでない。
また、改称されるものもあるかもしれない。
◎
This is a rough draft, not ready for implementation. Also might rename stuff.
</p>

<p>
行内level~boxに基底線~用にアリな情報~源が複数あるとき（複行を成す行内~塊や行内~flex容器など）、この~propは，［
`最初の基底線~集合$, `最後の基底線~集合$
］のどちらが整列~用に選好されるか指定する。
各種 値の意味は：
◎
When an inline-level box has more than one possible source for baseline information (such as for a multi-line inline block or inline flex container) this property specifies whether the first baseline set or last baseline set is preferred for alignment. Values have the following meanings:
</p>

<dl>
	<dt>`auto@v</dt>
	<dd>
`inline-block$v 用には`最後の基底線による整列$を指定する。
◎
Specifies last-baseline alignment for inline-block,＼
</dd>
	<dd>
他のもの用には`最初の基底線による整列$を指定する。
◎
first-baseline alignment for everything else.
</dd>

	<dt>`first@v</dt>
	<dd>
`最初の基底線による整列$を指定する。
◎
Specifies first-baseline alignment.
</dd>

	<dt>`last@v</dt>
	<dd>
`最後の基底線による整列$を指定する。
◎
Specifies last-baseline alignment.
</dd>
</dl>

			</section>
			<section id="alignment-baseline-property">
<h4 title="Alignment Baseline Type: alignment-baseline longhand">3.2.2. 整列~基底線の型： `alignment-baseline^p 下位prop</h4>

◎名 `alignment-baseline@p
◎値
`baseline$v
| `text-bottom$v
| `alphabetic$v
| `ideographic$v
| `middle$v
| `central$v
| `mathematical$v
| `text-top$v
| `bottom$v
| `center$v
| `top$v

◎初 `baseline$v
◎適
`行内level$の~box,
`~flex駒$,
`格子~駒$,
~table~cell
◎
inline-level boxes, flex items, grid items, table cells
◎継 されない
◎百 受容しない
◎算 指定された~keyword
◎順 文法に従う
◎ア 離散的
◎表終

<p>
`行内level$の~boxのどの点が，親におけるどの点に整列されるかを指定する。
また、~boxが［
`align-self$p ／`justify-self$p
］で整列されるときの`整列~基底線$を選択する。
◎
Specifies what point of an inline-level box is aligned to what point in the parent. Also selects the alignment baseline of boxes aligned with align-self/justify-self. 
</p>

<p class="issue">
この注釈文を，行内~整形~文脈でない`整列~文脈$を正しく取扱うよう整理する。
◎
Clean up this prose to correctly handle alignment contexts other than inline formatting contexts.
</p>

<p>
各種~値は以下の様に定義される：
◎
Values are defined below:
</p>

<p>
以下の定義における~boxは、［
`不可分な行内$に対しては`~margin~box$ ／
`置換され$ない行内に対しては先頭の（ `leading^en ）~box
］を指すとする。
また、行l~boxの行内-軸に基底線が無い場合は，`合成-$されるそれを~boxの基底線に利用するものとする。
◎
For the following definitions, the margin box is used for atomic inlines, the leading box for non-replaced inlines, and the baselines of the box are synthesized if missing in the line-box’s inline axis:
</p>

<dl>
	<dt>`baseline@v</dt>
	<dd>
~boxにおける［
親~boxの`支配的~基底線$と同じ種類の基底線
］を，親~boxの`支配的~基底線$に揃える。
◎
Use the dominant baseline choice of the parent. Match the box’s corresponding baseline to that of its parent.
</dd>

	<dt>`text-bottom@v</dt>
	<dd>
~boxの下端を，親~boxの`内容~区画$の下端に揃える。
◎
Match the bottom of the box to the bottom of the parent’s content area.
</dd>

	<dt>`alphabetic@v</dt>
	<dd>
~boxの~alphabetic基底線を，親~boxのそれに揃える。
◎
Match the box’s alphabetic baseline to that of its parent.
</dd>

	<dt>`ideographic@v</dt>
	<dd>
~boxの~ideographic文字~face下側（ `ideographic character face under-side^en ）基底線を，親~boxのそれに揃える。
◎
Match the box’s ideographic character face under-side baseline to that of its parent.
</dd>

	<dt>`middle@v</dt>
	<dd>
~boxの縦方向の中点を，［
親~boxの基底線から上方へ，親の~x-heightの半分の所
］に揃える。
【その中点と親~boxの小文字 x の中心を揃える】
<!-- 
<span style="border:solid red 1px;">aBcxg<span style="vertical-align:middle;outline:solid blue 1px;">aBcxg</span></span>
 -->
◎
Align the vertical midpoint of the box with the baseline of the parent box plus half the x-height of the parent.
</dd>

	<dt>`central@v</dt>
	<dd>
~boxの~central基底線を，親~boxの~central基底線に揃える。
◎
Match the box’s central baseline to the central baseline of its parent.
</dd>

	<dt>`mathematical@v</dt>
	<dd>
~boxの~mathematical基底線を，親~boxのそれに揃える。
◎
Match the box’s mathematical baseline to that of its parent.
</dd>

	<dt>`text-top@v</dt>
	<dd>
~boxの上端を，親~boxの`内容~区画$の上端に揃える。
◎
Match the top of the box to the top of the parent’s content area.
</dd>

	<dt>`top@v</dt>
	<dd>
`整列-済み下位tree$の上端と行l~boxの上端とを整列する。
◎
For the following definitions, the alignment subtree is as defined in [CSS2].
◎
Align the top of the aligned subtree with the top of the line box.
</dd>

	<dt>`center@v</dt>
	<dd>
`整列-済み下位tree$の中央と行l~boxの中央とを整列する。
◎
Align the center of the aligned subtree with the center of the line box.
</dd>

	<dt>`bottom@v</dt>
	<dd>
`整列-済み下位tree$の下端と行l~boxの下端とを整列する。
◎
Align the bottom of the aligned subtree with the bottom of the line box.
</dd>
</dl>

<p>
行内~要素の
`整列-済み下位tree@
とは、要素~自身, および［
要素のすべての子~行内~要素のうち［
`alignment-baseline$p の算出d値が［
`top$v ／ `center$v ／ `bottom$v
］でないもの
］それぞれの`整列-済み下位tree$
］からなる下位treeとして（再帰的に）定義される。
`整列-済み下位tree$の［
上端／下端
］は、その下位treeに属する要素たちが生成する~boxのうちの，最も［
高い上端／低い下端
］として定義される。
</p>

<p class="trans-note">【
この “整列-済み下位tree（ `aligned subtree^en ）” の定義は，原文では `CSS2$r による定義（
<a href="~CSS2VISUDET#propdef-vertical-align">`vertical-align^p</a>
節）を参照しているが、この訳では，その定義の複製に新たな値 `center$v も織り込んだ上で ここに記している（元の定義のままだと不正確になるので）。
】</p>

<p>
SVG 実装は、旧来の内容を~supportするためとして，次の別名も~supportしてもヨイ：
◎
SVG implementations may support the following aliases in order to support legacy content:
</p>

<pre>
`text-before-edge@v = `text-top$v
`text-after-edge@v = `text-bottom$v
</pre>

<p>
これらの値は、 `vertical-align$p 略式~propにおいては許容されない。
◎
These values are not allowed in the vertical-align shorthand.
</p>

			</section>
			<section id="baseline-shift-property">
<h4 title="Alignment Shift: the baseline-shift longhand">3.2.3. 整列のズラシ： `baseline-shift^p 下位prop</h4>

◎名 `baseline-shift@p
◎値 `length-percentage$t | `sub$v | `super$v
◎初 `0^v
◎適
`行内level$の~box,
`~flex駒$,
`格子~駒$
◎
inline-level boxes, flex items, grid items
◎継 されない
◎百
`line-height$p の`使用~値$を基準にする
◎
refer to the used value of line-height
◎算 
指定された~keyword ／ 算出された `length-percentage$t 値
◎
the specified keyword and/or a computed &lt;length-percentage&gt; value
◎順 文法に従う
◎ア 離散的
◎表終

<p>
この~propは、~boxが自身の整列点から上方へズラされる量を指定する。
`alignment-baseline$p 値が
`top$v ／ `bottom$v
のときは適用されない。
◎
This property specifies by how much the box is shifted up from its alignment point. It does not apply when alignment-baseline is top or bottom.
</p>

<p class="advisement">
作者は、この~propの代わりに `vertical-align$p 略式~propを利用するべきである。
◎
Authors should use the vertical-align shorthand instead of this property.
</p>

<p>
各種~値の意味は：
◎
Values have the following meanings:
</p>

	
<dl>
	<dt id="valdef-baseline-shift-length">`length$t</dt>
	<dd>
指定された長さだけ，上げる（正な値の場合）か下げる（負な値の場合）。
◎
Raise (positive value) or lower (negative value) by the specified length.
</dd>

	<dt id="valdef-baseline-shift-percentage">`percentage$t</dt>
	<dd>
指定された［
`line-height$p に対する百分率
］だけ，上げる（正な値の場合）か下げる（負な値の場合）
◎
Raise (positive value) or lower (negative value) by the specified percentage of the line-height.
</dd>

	<dt>`sub@v</dt>
	<dd>
親の~boxの下付文字に適切な~offsetだけ下げる。
（~UAは、アリなら，親の~font~dataを利用して この~offsetを見出すべきである）。
◎
Lower by the offset appropriate for subscripts of the parent’s box. (The UA should use the parent’s font data to find this offset whenever possible.)
</dd>

	<dt>`super@v</dt>
	<dd>
親の~boxの上付文字に適切な~offsetだけ上げる。
（~UAは、アリなら，親の~font~dataを利用して この~offsetを見出すべきである）。
◎
Raise by the offset appropriate for superscripts of the parent’s box. (The UA should use the parent’s font data to find this offset whenever possible.)
</dd>
</dl>

<p>
~UAは、旧来の SVG 内容を~supportするために必要とされるなら，~keyword
`baseline@v
を追加的に~supportしてもヨイ
— これは `0^v に算出される。
◎
User agents may additionally support the keyword baseline as computing to 0 if is necessary for them to support legacy SVG content.
</p>

<p class="issue">
`baseline^v 値は除去したい
— それが必要とされるかどうか~SVG~UAからの~feedbackを請う。
◎
We would prefer to remove the baseline value, and are looking for feedback from SVG user agents as to whether it’s necessary.
</p>

			</section>
		</section>
		<section id="line-height-property">
<h3 title="Line Spacing: the line-height property">3.3. 行l間隔法： `line-height^p ~prop</h3>

<p>
~CSS2の
<a href="~CSS2VISUREN#inline-formatting">§ 行内~整形~文脈</a>
にて述べたように、~UAは，行内level~boxたちを縦方向に堆積される`行l~box$たちの中へ~flowする。
行高（行l~boxの縦幅）は、以下に従って決定される：
◎
As described in the section on inline formatting contexts Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification §visuren.html#inline-formatting, user agents flow inline-level boxes into a vertical stack of line boxes. The height of a line box is determined as follows:
</p>

<ol>
	<li>
行l~box内の 各 `行内level~box$の縦幅は、［
`置換され$る／`行内-塊$／`行内-~table$
］要素~用には，その`~margin~box$の縦幅になり、行内~box用には，その `line-height$p になる。
◎
The height of each inline-level box in the line box is calculated. For replaced elements, inline-block elements, and inline-table elements, this is the height of their margin box; for inline boxes, this is their line-height.
</li>
	<li>
<p>
行内level~boxたちは、 `vertical-align$p ~propに則って縦方向に整列される。
◎
The inline-level boxes are aligned vertically according to their vertical-align property.
</p>

<p>
それらが
<!-- `alignment-baseline^p -->
`top$v1 ／ `bottom$v1
に整列される場合、行高（~boxたちが属する行l~boxの縦幅）を最小化するように整列するモノトスル。
そのような~boxたちが十分高い場合、複数の解法があり得る
— ~CSS2は、行l~boxの基底線の位置決め（すなわち、後述の`支柱$の位置決め）は定義しない。
◎
In case they are aligned top or bottom, they must be aligned so as to minimize the line box height. If such boxes are tall enough, there are multiple solutions and CSS 2 does not define the position of the line box’s baseline (i.e., the position of the strut).
</p>
	</li>
	<li>
行高は、【同じ行l~boxの中の】［
各~boxの上端のうち最も上にあるものから，各~boxの下端のうち最も下にあるものまで
］の距離である（これには、下の `line-height$p にて説明される`支柱$も含まれる）。
◎
The line box height is the distance between the uppermost box top and the lowermost box bottom. (This includes the strut, as explained under line-height below.)
</li>
</ol>

<p>
空の行内~要素は，空の行内~boxを生成するが、これらの~boxも，依然として［
~margin, ~padding, ~border, 行高
］を持つので、内容を伴う要素と同じく，これらの計算に波及する。
◎
Empty inline elements generate empty inline boxes, but these boxes still have margins, padding, borders, and a line height, and thus influence these calculations just like elements with content.
</p>

			<section id="leading">
<h4 title="Leading and half-leading">3.3.1. ~leadingと半~leading</h4>

<p>
~CSSにおいては、どの~fontも，基底線より［
上側の高さ, 下側の深さ
］を指定する~font計量を備えるものと見做される。
この節では、（所与の~fontの所与の~sizeに対する）前者を %A, 後者を %D で表す。
【！また、 %AD は上端から下端までの距離 %A ~PLUS %D を表す。】
（
<a href="#sTypoAscender">TrueType／OpenType~fontの %A, %D を見出す方法</a>
を見よ）。
これらは、全体としての~fontの計量であり、個々の~glyphの~ascenderや~descenderに対応する必要はないことに注意。
◎
CSS assumes that every font has font metrics that specify a characteristic height above the baseline and a depth below it. In this section we use A to mean that height (for a given font at a given size) and D the depth. We also define AD = A + D, the distance from the top to the bottom. (See the note below for how to find A and D for TrueType and OpenType fonts.) Note that these are metrics of the font as a whole and need not correspond to the ascender and descender of any individual glyph.
</p>

<p>
~UAは、`置換され$ない行内~box内の~glyphたちを，それらに関連な基底線により互いに整列するモノトスル。
次に、各~glyphに対し， %A, %D を決定する。
同じ要素~内には異なる~fontの~glyphが~~混在し得るので、すべての~glyphが同じ %A, %D になるとは限らないことに注意。
行内~boxが~fallback~fontからの~glyphしか包含しない場合、それは［
要素にて`可用な最初の~font$の %A, %D を伴うような，`支柱$（横幅 0 の不可視な~glyph）
］を包含するものと見なされる。
◎
The User Agent must align the glyphs in a non-replaced inline box to each other by their relevant baselines. Then, for each glyph, determine the A and D. Note that glyphs in a single element may come from different fonts and thus need not all have the same A and D. If the inline box contains no glyphs at all, or if it contains only glyphs from fallback fonts, it is considered to contain a strut (an invisible glyph of zero width) with the A and D of the element’s first available font.
</p>

<p>
`line-height$p ~propの値が `normal$v1 以外の場合，追加される “~leading” %L が［
%L ~EQ `line-height$p ~MINUS
( ( 可用な最初の~fontの %A ) ~PLUS ( 可用な最初の~fontの %D ) )
として決定される。
%L の半分は［
可用な最初の~fontの %A
］の上側に，もう半分は［
可用な最初の~fontの %D
］の下側に追加され、基底線から［
上側の総-高さ %A + %L ÷ 2 ／
下側の総-深さ %D + %L ÷ 2
］を与える。
［
`可用な最初の~font$以外の~fontからの~glyph
］は、［
`normal$v 以外の `line-height$v 値
］用の［
行内~boxの深さや基底線
］には影響iしない。
◎
When the value of the line-height property is something other than normal, determine the leading L to add, where L = line-height - AD of the first available font. Half the leading is added above A of the first available font, and the other half below D of the first available font, giving a total height above the baseline of A' = A + L/2, and a total depth of D' = D + L/2. Glyphs from fonts other than the first available font do not impact the height or baseline of the inline box for line-height values other than normal.
</p>

<p class="note">注記：
%L は負にもなり得る。
◎
Note: L may be negative.
</p>

<p id="inline-box-height">
子~要素の~boxは、この縦幅には波及しない。
◎
Boxes of child elements do not influence this height.
</p>

<p>
`line-height$p ~propの値が `normal$v1 の場合、行内~boxの縦幅は，［
最も高い %A から最も深い %D までにわたる，すべての~glyph
］を封入する。
◎
When the value of the line-height property is normal, the height of the inline box encloses all glyphs, going from the highest A to the deepest D.
</p>

<p>
~UAは、 %A, %D を決定するときに，
— `line-height$p ~propが `normal$v1 か他の値かに依存して —
異なる一連の計量を利用してもヨイ
— 一例として、 `normal^v の事例に限り，外部の~leading計量を織り込むなど。
◎
User Agents may use different sets of font metrics when determining A and D depending on whether the line-height property is normal or some other value, for instance taking external leading metrics into account only in the normal case.
</p>

<p>
`置換され$ない要素の［
~margin ／ ~border ／ ~padding
］は、行l~box計算には関わらないが，依然として，行内~boxの周囲に描画される。
ゆえに、 `line-height$p により指定された縦幅が，要素に包含される~boxの内容~縦幅より小さい場合には、［
~padding／~border
］の背景と色が，連接している行l~boxの中まで “~~拡がり” 得ることになる。
~UAは、各~boxを文書~順序で描画するべきである。
したがって、後続の行lの~borderは，先行する行lの~borderや~textの上に塗られることになる。
◎
Although margins, borders, and padding of non-replaced elements do not enter into the line box calculation, they are still rendered around inline boxes. This means that if the height specified by line-height is less than the content height of contained boxes, backgrounds and colors of padding and borders may "bleed" into adjoining line boxes. User agents should render the boxes in document order. This will cause the borders on subsequent lines to paint over the borders and text of previous lines.
</p>

<p class="note">注記：
~CSS2は、何が行内~boxの`内容~区画$とされるかについては定義しない（
<a href="#line-fill">§ 行内~boxの縦幅</a>
を見よ）。
したがって、背景や~borderが描かれる場所は，~UAにより異なることもある。
◎
Note: CSS 2 does not define what the content area of an inline box is (see § 4.1 Inline Box Heights: the inline-sizing property) and thus different UAs may draw the backgrounds and borders in different places.
</p>

<p id="sTypoAscender" class="note">注記：
OpenType ／ TrueType ~fontを利用する実装は、 %A, %D に対し，
（現在の要素の~font~sizeに拡縮した後の）［
~fontの OS/2 ~tableによる計量
“sTypoAscender”, “sTypoDescender”
］を利用することが推奨される。
これらの計量が不在の下では、［
HHEA ~tableによる計量
“Ascent”, “Descent”
］が利用されるべきである。
◎
Note: It is recommended that implementations that use OpenType or TrueType fonts use the metrics sTypoAscender and sTypoDescender from the font’s OS/2 table for A and D (after scaling to the current element’s font size). In the absence of these metrics, the "Ascent" and "Descent" metrics from the HHEA table should be used.
</p>

◎名 `line-height@p
◎値 `normal$v | `number$vt | `length-percentage$t
◎初 `normal^v
◎適 行内~box
◎継 される
◎百
`1em^v に相対的に算出される
◎
computed relative to 1em
◎算
指定された~keyword ／ 実数 ／ 算出された `length$t 値
◎
the specified keyword, a number, or a computed &lt;length&gt; value
◎順 文法に従う
◎ア 離散的
◎表終


<div class="p">
<p>
内容が`行内level$の~boxから構成される`塊~容器$上では：
</p>
<ul>
	<li>
`line-height$p は，要素の中の各 行l~boxの `最小な^em行高（~boxの縦幅）を指定する。
最小な行高は、基底線の上側の最小~縦幅, 下側の最小~深さの和である
</li>
	<li>
各~行l~boxは、
“`支柱@”
（ `strut^en ）
と呼ばれる~~仮想の~box
— 要素の［
`font-size^p, `line-height$p
］~propを伴う，横幅 0 の行内~box —
から開始されたかのようになる（この名前は TeX に由来する）。
</li>
</ul>
◎
boxes, line-height specifies the minimal height of line boxes within the element. The minimum height consists of a minimum height above the baseline and a minimum depth below it, exactly as if each line box starts with a zero-width inline box with the element’s font and line height properties. We call that imaginary box a strut. (The name is inspired by TeX.).
</div>

<p>
~fontの基底線より［
上側の高さ, 下側の深さ
］は、~fontが包含している計量と見做される。
◎
The height and depth of the font above and below the baseline are assumed to be metrics that are contained in the font.
</p>

<p>
`置換され$ない`行内~box$に対しては、 `line-height$p は，行高の計算に利用される縦幅を指定する。
◎
On a non-replaced inline box, line-height specifies the height that is used in the calculation of the line box height.
</p>

<p>
この~prop用の各種 値の意味は：
◎
Values for this property have the following meanings:
</p>

<dl>
	<dt>`normal@v</dt>
	<dd>
行内~boxの縦幅を，~UAが~font計量に基づいて自動的に決定するようにする。
詳細は上を見よ。
◎
Tells user agents to determine the height of the inline box automatically based on font metrics. See above for details.
</dd>

	<dt id="valdef-line-height-length">`length$t</dt>
	<dd>
指定された長さは、行高の計算に利用される。
負な値は違法。
◎
The specified length is used in the calculation of the line box height. Negative values are illegal.
</dd>

	<dt id="valdef-line-height-number">`number$t</dt>
	<dd>
~propの`使用~値$は、この数を要素の~font~sizeに乗算した結果になる。
負な値は違法。
~propの`算出d値$は`指定d値$と同じになる。
◎
The used value of the property is this number multiplied by the element’s font size. Negative values are illegal. The computed value is the same as the specified value.
</dd>

	<dt id="valdef-line-height-percentage">`percentage$t</dt>
	<dd>
~propの`算出d値$は、この百分率を要素の `font-size$p の`算出d値$に乗算した結果になる。
負な値は違法。
◎
The computed value of the property is this percentage multiplied by the element's computed font-size. Negative values are illegal.
</dd>
</dl>

<div class="example">

<p>
下の例の 3 つの規則による結果の行高は、どれも同じになる：
◎
The three rules in the example below have the same resultant line height:
</p>

<pre class="lang-css">
div { line-height: 1.2; font-size: 10pt }     /* <span class="comment">
実数（ `number^t ）
</span> */
div { line-height: 1.2em; font-size: 10pt }   /* <span class="comment">
長さ（ `length^t ）
</span> */
div { line-height: 120%; font-size: 10pt }    /* <span class="comment">
百分率（ `percentage^t ）
</span> */
</pre>

</div>

<p class="note">注記：
塊~容器~box内のすべての行内~boxにおいて［
（ `normal^v 以外の） `line-height$p 値は互いに同じ
］かつ［
利用している最初に可用な~fontも互いに同じ
］（かつ，容器~内には `置換され$る要素, `行内-塊$, 等も無い）場合、上述により、連続する行lたちの互いの基底線は，正確に `line-height$p ずつ離れるようになる。
これは、例えば~tableなど，~colたちを
— それらの内容~textに，~colごとに異なる~fontが利用されるときでも —
互いに整列させる必要があるときに，重要になる。
◎
Note: When there is only one value of line-height (other than normal) for all inline boxes in a block container box and they all use the same first available font (and there are no replaced elements, inline-block elements, etc.), the above will ensure that baselines of successive lines are exactly line-height apart. This is important when columns of text in different fonts have to be aligned, for example in a table.
</p>

<p class="issue">
百分率が長さに算出される事実は嫌らしい。
`3118$issue, `2165$issue
も見よ。
◎
The fact that percentages compute to lengths is annoying. See also href="https://github.com/w3c/csswg-drafts/issues/3118"&gt;Issue 3118 and Issue 2165.
</p>

			</section>
		</section>
		<section id="line-sizing-property">
<h3 title="Line Sizing Containment: the line-sizing property">3.4. 行l~sizingによる封込め：  `line-sizing^p ~prop</h3>

◎名 `line-sizing@p
◎値 `legacy$v | `normal$v
◎初 `legacy$v
◎適 行内~box
◎継 される
◎百 受容しない
◎算 指定された~keyword
◎順 文法に従う
◎ア 離散的
◎表終

<p class="issue">
これは、提案の大まかな草案であり、 CSSWG からはまだ認可されていない。
`3199$issue,
<a href="https://lists.w3.org/Archives/Public/www-style/2011Mar/0364.html">`Hyatt^en 氏からの~message</a>,
<a href="~dbaronP">`dbaron^en 氏の提案</a>
における論点を見よ。
◎
This is a rought draft of a proposal, and has not yet been approved by the CSSWG. See discussion in Issue 3199, Hyatt’s message, and dbaron’s proposal.
</p>

<p>
この~propは、行l~boxを~sizeする手法を，したがって~textを成す各~行lの合間における間隔法を制御する。
◎
This property controls the method by which line boxes are sized, and thus the spacing between lines of text.
</p>

<p>
各種~値の意味は：
◎
Values have the following meanings:
</p>

<dl>
	<dt>`legacy@v</dt>
	<dd>
行内~boxは、自身の `line-height$p に基づいて，行l~boxの~sizingに寄与する
— `CSS2$r に定義されるように各~box辺に基づくのではなく。
各~行l~boxは、 `CSS2$r にて定義されるように~sizeされ，内容はそれらの中に位置される。
Quirks Mode `QUIRKS$r においては、`行内~box$を成す`断片$のうち［
~border, ~paddingとも 0，かつ
~textも`保全d空白$も直に包含しないもの
`CSS-TEXT-3$r
］は，行l~boxの~sizingにおいては無視される。
◎
The inline box contributes to the sizing of its line box based on its line-height, rather than based on its box edges, as defined in [CSS2]. In Quirks Mode [QUIRKS], any inline box fragment that has zero borders and padding and that does not directly contain text or preserved white space [CSS-TEXT-3] is ignored when sizing the line box.
</dd>
	<dd class="note">注記：
この~modelでは、段落の中で~font計量が変化するたびに縦方向の `rhythm^en は崩れる。
【行l~boxの縦幅がまちまちになる。】
◎
Note: In this model, vertical rhythm is broken any time there is a change in font metrics within a paragraph.
</dd>

	<dt>`normal@v</dt>
	<dd>
行内~boxは、自身の`~margin~box$に基づいて，行l~boxの~sizingに寄与する
—  `line-height$p に基づくのではなく。
`半-~leading$は`内容~box$を成す各~辺の内側に挿入され、［
~padding／~border／~margin
］区画には重合しない。
ただし，正な`半-~leading$は、`根~行内~box$のみに適用される。
負な`半-~leading$は、すべての行内~boxに適用され，内容~boxの~sizeを必要に応じて~~削る。
◎
The inline box contributes to the sizing of its line box based on its margin box, rather than its line-height. Half-leading is inserted inside the content box edges, rather than overlapping the padding/border/margin areas. However, positive half-leading is only applied to the root inline box. Negative half-leading is applied to all inline boxes,- reducing the size of the content box as needed.
</dd>
	<dd class="note">注記：
これは、一貫した行l間隔法を与えることになる
— `根~行内~box$上の`半-~leading$として、［
そのすべての子孫の~ascent／~descent（~leadingは含まない）を収容する大きさ
］に十分な量が追加されている限り。
ただし，行l~boxが~overflowする場合は、行lどうしが重合するのを避けるため，内容を収容するよう~~拡幅されることになる。
◎
Note: This will give consistent line spacing as long as there is some amount of leading added, such that the half-leading on the root inline is large enough to accommodate the unleaded ascent/descent of its descendants. The line box will grow, however, to accommodate content that would otherwise overflow, to avoid overlap between lines.
</dd>
</dl>

<p class="issue">
この~propは、塊~容器, 行内~boxのどっちに適用するベキか？
後者の事例では、個々の行内は，
“`pay attention to me^en”
とも
“`don’t pay attention to me^en”
とも言える【？】。
◎
Should this property apply to block containers or to inline boxes? In the latter case, an individual inline could say "pay attention to me" or "don’t pay attention to me".
</p>

		</section>
		<section id="leading-trim-property">
<h3 title="Leading Control: the leading-trim-over and leading-trim-under properties and leading-trim shorthand">3.5. ~leadingの制御： `leading-trim-over^p, `leading-trim-under^p ~propと `leading-trim^p 略式~prop</h3>

<p class="issue">
これは 提案の大まかな草案であり、設計~批評や利用事例が登録されるに伴い有意に変更されると見込まれる。
ここに挙げる~propやその値の名前は、追加されたり, 落とされたり, 改称され得る。
また、全体的な構文や挙動も変更され得るので、まだ実装しないこと。
CSSWG は、特にどの~font計量が対応する~keyword値を必要とするかについて，~feedbackを待っている。
◎
This is a rought draft of a proposal, and is likely to change significantly as design critiques and use cases are registered. Values and property names may be added, dropped, and/or renamed, and the overall syntax or behavior may change. Do not implement (yet). The CSSWG particularly invites feedback on which font metrics need corresponding keyword values.
</p>

<p>
~text連なりの基本的な事例において一貫した間隔法を確保するため、~CSSによる行l~layoutは，各~行lを成す~text内容の［
上, 下
］両者に~leadingを導入する。
加えて、~font計量の［
~ascent ／ ~descent
］自身も，［
代表的な限界域を［
上／下
］へ超える，ある種の文字や発音区別符
］を収容するために，最も共通な~glyph~sizeの［
上／下
］に余分の空間を含める。
これは、後続の~textが成す行lが互いに重合するのを防止する。
しかしながら，この余分の間隔法は、あらゆる［
視覚的な整列, 実質的な（目に見える）間隔法に対する制御
］に干渉する。
◎
To ensure consistent spacing in the basic case of running text, CSS line layout introduces leading both above and below the text content of each line. In addition, the ascend and descent font metrics themselves include extra space above and below the most common glyph sizes in order to accommodate occasional characters and diacritics which ascend or descend beyond the typical bounds. This prevents subsequent lines of text from overlapping each other. However, all this extra spacing interferes with visual alignment and with control over effective (visually-apparent) spacing.
</p>

<p>
各種 `leading-trim$p ~propは、塊を成す［
最初の行l／最後の行l
］の［
上／下
］における間隔法を精確に制御できるようにする。
さらには、~codeに直書きされた長さではなく，~font計量に依拠することにより、各種~fontにおいて内容を［
~sizeし直して／折返直して
］描画することになっても，間隔法を保守する。
◎
The leading-trim properties allow controlling the spacing above and below the first and last lines of a block. It allows precise control over spacing; moreover, by relying on font metrics rather than hard-coded lengths, it allows content to be resized, rewrapped, and rendered in a variety of fonts while maintaining that spacing.
</p>

<div class="example">

<p>
共通的な問題は縦方向の中央寄せである。
~text容器を ある~iconに対し縦方向に中央寄せにすることは容易であるが、~Latin~textの視覚的な境界は［
~ascent, ~descent
］ではなく［
`~cap-height$, ~alphabetic基底線
］なので，意図される視覚的~効果が得られないことが多い。
◎
A common problem is vertical centering. It’s easy to vertically center the text container to an icon, but because the visual boundaries of Latin text are the cap height and the alphabetic baseline, rather than the ascent and descent, this often doesn’t yield the intended visual effect.
</p>

<figure>`leading-trim-centering-fail^dgm

<figcaption>
~textの［
上端／下端
］を測定した結果は等しくなっても、視覚的な限界域を測定した結果は視覚的に中央寄せにされない。
◎
Measuring to the top/bottom of the text may yield equal results, but measuring to the visual bounds shows that it is not visually centered.
</figcaption></figure>

<p>
~textを視覚的に中央寄せにするためには、［
`~cap-height$／~alphabetic基底線
］が~textの［
上端／下端
］辺を成すと見做すことが必要とされる。
◎
To center the text visually, it’s necessary to asume the cap height and alphabetic baseline as the top and bottom edges of the text, respectively.
</p>

<figure>`leading-trim-centering-goal^dgm

<figcaption>
［
~ascent／~descent
］の代わりに［
`~cap-height$ ／~alphabetic基底線
］を測定して，それらの距離を等しくすることで、~textを視覚的に中央寄せにする。
◎
Measuring to the cap height / alphabetic baseline instead of the ascent / descent and equalizing those distances visually centers the text.
</figcaption></figure>

<p>
`leading-trim$p を利用して［
`~cap-height$の上, ~alphabetic基底線の下
］にある間隔を剥ぎ取ることにより、~boxを中央寄せにしたとき
— どの~fontを利用して描画されるかに関わらず，依拠-可能に —
~textを実際に中央寄せにする。
◎
By using leading-trim to strip out the spacing above the cap height and below the alphabetic baseline, centering the box actually centers the text; and does so reliably, regardless of what font is used to render it.
</p>

<figure>`leading-trim-centering-variants^dgm
<figcaption>
`~cap-height$は~fontごと異なっていても、場当たり的な数ではなく~fontの計量を利用することにより，~fontが変更されても~layoutの意向は満たされる。
◎
Even though different fonts have different cap heights, by using the font’s metric rather than a magic number, the layout intention is met even as the font is changed.
</figcaption></figure></div>

◎名 `leading-trim-over@p
◎値 `normal$v | `text$v | `cap$v | `ex$v | `ideographic$v | `ideographic-ink$v
◎初 `normal$v
◎適 塊~容器
◎継 されない
◎百 受容しない
◎算 指定された~keyword
◎順 文法に従う
◎ア 離散的
◎表終

<p>
`leading-trim-over$p ~propは、~boxの内容~辺と~boxの~text内容とがより良く合致するように，塊~容器~内の最初の行l~boxの`行-上面$側を削る。
この~propは、塊~容器の`整形される最初の行l$のみに影響する
— そのような行lが無い場合、効果は無い。
各種 値の意味は：
◎
The leading-trim-over property trims the line-over side of the first line box in the block container to better match the box’s content edge to its text content. The property affects only the first formatted line of the block container; if there is no such line, it has no effect. Values have the following meanings:
</p>

<dl>
	<dt>`normal@v</dt>
	<dd>
`半-~leading$†は、他の行lと同じように，最初の行lに適用される。
【†行-上面~側の。以下同様】
◎
Half-leading is applied over the first line, just as for every other line.
</dd>

	<dt>`text@v</dt>
	<dd>
`半-~leading$は最初の行lには適用されない
— 行l~boxの上端は`根~行内~box$の~text-top計量に設定される。
◎
Half-leading is not applied over the first line; the top of the line box is set to the text-top metric of the root inline box.
</dd>

	<dt>`cap@v</dt>
	<dd>
`半-~leading$は最初の行lには適用されない
— 行l~boxの上端は`根~行内~box$の`~cap-height$ 計量に設定される。
◎
Half-leading is not applied over the first line; the top of the line box is set to the cap-height metric of the root inline box.
</dd>

	<dt>`ex@v</dt>
	<dd>
`半-~leading$は最初の行lには適用されない
— 行l~boxの上端は`根~行内~box$の~ex-height計量に設定される。
◎
Half-leading is not applied over the first line; the top of the line box is set to the ex-height metric of the root inline box.
</dd>

	<dt>`ideographic@v</dt>
	<dd>
`半-~leading$は最初の行lには適用されない
— 行l~boxの上端は`根~行内~box$の
~ideographic上端（ `idtp^c ）計量に設定される。
◎
Half-leading is not applied over the first line; the top of the line box is set to the ideographic top (idtp) metric of the root inline box.
</dd>

	<dt>`ideographic-ink@v</dt>
	<dd>
`半-~leading$は最初の行lには適用されない
— 行l~boxの上端は`根~行内~box$の~ideographic文字~face上端（ `icft^c ）計量に設定される。
◎
Half-leading is not applied over the first line; the top of the line box is set to the ideographic character face top (icft) metric of the root inline box.
</dd></dl>

◎名 `leading-trim-under@p
◎値 `normal$v | `text$v | `alphabetic$v | `ideographic$v | `ideographic-ink$v
◎初 `normal$v
◎適 塊~容器
◎継 される
◎百 受容しない
◎算 指定された~keyword
◎順 文法に従う
◎ア 離散的
◎表終

<p class="trans-note">【
原文における以下の記述の大部分は，
`leading-trim-over^p ~propの記述から複製されているが、実際には “上下対称” な記述にならないとおかしい。
具体的には、
“最初” は “最後” に,
“上” は “下” に,
等々に読み替える必要がある。
】</p>

<p>
`leading-trim-over^p ~propは、~boxの内容~辺と~boxの~text内容とがより良く合致するように，塊~容器~内の最初の行l~boxの`行-上面$側を削る。
この~propは、塊~容器の`整形される最初の行l$のみに影響する
— そのような行lが無い場合、効果は無い。
各種 値の意味は：
◎
The leading-trim-over property trims the line-over side of the first line box in the block container to better match the box’s content edge to its text content. The property affects only the first formatted line of the block container; if there is no such line, it has no effect. Values have the following meanings:
</p>

<dl>
	<dt>`normal@v</dt>
	<dd>
`半-~leading$は、他の行lと同じように，最初の行lに適用される。
◎
Half-leading is applied over the first line, just as for every other line.
</dd>

	<dt>`text@v</dt>
	<dd>
`半-~leading$は最初の行lには適用されない
— 行l~boxの上端は`根~行内~box$の~text-top計量に設定される。
◎
Half-leading is not applied over the first line; the top of the line box is set to the text-top metric of the root inline box.
</dd>

	<dt>`alphabetic@v</dt>
	<dd>
`半-~leading$は最初の行lには適用されない
— 行l~boxの上端は`根~行内~box$の~alphabetic基底線~計量に設定される。
◎
Half-leading is not applied over the first line; the top of the line box is set to the alphabetic baseline metric of the root inline box.
</dd>

	<dt>`ideographic@v</dt>
	<dd>
`半-~leading$は最初の行lには適用されない
— 行l~boxの上端は`根~行内~box$の~ideographic下端（ `ideo^c ）計量に設定される。
◎
Half-leading is not applied over the first line; the top of the line box is set to the ideographic bottom (ideo) metric of the root inline box.
</dd>

	<dt>`ideographic-ink@v</dt>
	<dd>
`半-~leading$は最初の行lには適用されない
— 行l~boxの上端は`根~行内~box$の~ideographic文字~face上端（ `icfb^c ）計量に設定される。
◎
Half-leading is not applied over the first line; the top of the line box is set to the ideographic character face top (icfb) metric of the root inline box.
</dd>
</dl>

◎名 `leading-trim@p
◎値 `normal^v | `text^v | `cap^v | `ex^v | `ideographic^v | `ideographic-ink^v
◎初 `normal^v
◎適 塊~容器
◎継 されない
◎百 受容しない
◎算 指定された~keyword
◎順 文法に従う
◎ア 離散的
◎表終

<p>
この~propは、［
`leading-trim-over$p, `leading-trim-under$p
］用の`略式~prop$である。
［
`cap^v ／ `ex^v
］が指定された場合、 `leading-trim-over$p はその値に設定され，
`leading-trim-under$p は `alphabetic^v に設定される
— 他の場合、両`下位prop$とも指定された~keywordに設定される。
◎
This property is a shorthand of leading-trim-over and leading-trim-under. If cap or ex is specified, leading-trim-over is set to that value and leading-trim-under is set to alphabetic; otherwise both longhands are set to the specified keyword.
</p>
		</section>
	</section>
	<section id="inline-box-dimensions">
<h2 title="Drawing Inline Boxes">4. 行内~boxの描法</h2>

		<section id="line-fill">
<h3 title="Inline Box Heights: the inline-sizing property">4.1. 行内~boxの縦幅： `inline-sizing^p ~prop</h3>

◎名 `inline-sizing@p
◎値 `normal$v | `stretch$v
◎初 `normal$v
◎適 `行内~box$
◎継 されない
◎百 受容しない
◎算 指定された~keyword
◎順 文法に従う
◎ア 離散的
◎表終

<p>
この~propは、`行内~box$の`内容~区画$の`論理-縦幅$をどう測定するか, その内容をどう整列するかを指定する（これは、~boxの内容の~sizeや位置に対する効果は無い）。
各種~値の意味は：
◎
This property specifies how the logical height of the content area of an inline box is measured and how it is aligned with its contents. (It has no effect on the size or position of the box’s contents.) Values have the following meanings:
</p>

<dl>
	<dt>`normal@v</dt>
	<dd>
`行内~box$の`内容~区画$は、
<a href="~CSS2VISUDET#inline-non-replaced">~CSS2 §10.6.1</a>
にて指定されるように，内容を成す（場合によっては仮の）~textが収まるように~sizeされ, 位置される。
◎
The content area of the inline box is sized and position to fit its (possibly hypothetical) text as specified in CSS2§10.6.1.
</dd>

	<dt>`stretch@v</dt>
	<dd>
`行内~box$の`内容~区画$の`論理-縦幅$は、その行l~boxが~sizeされた後に，行l~boxの中に`収まるよう伸張する$ように計算される
— 行内~boxは、自身の各`~margin辺$が行l~boxの各~辺に一致するよう位置される。
◎
Once the line box has been sized, the final logical height of the inline box’s content area is calculated as the stretch fit into the line box, and it is positioned such that its margin edges coincide with the line box’s edges.
</dd>
</dl>

<p class="issue">
今のうちに、 `normal$v を もっと精確に定義して, ~~見合うものに改称して，場合によっては 必要とされそうな他の値を導入したい。
◎
We might want to use this opportunity to more precisely define normal, rename it to match, and possibly introduce any other values that may seem necessary.
</p>

<p>
【行内~boxには】 `height$p ~propは適用されない。
`内容~区画$の縦幅は~fontに基づくべきであるが、この仕様では，その方法は指定されない。
~UAは、例えば，~fontの最大［
~ascender／~descender
］を利用してもヨイ（これは、~em-boxの上／下に はみ出る~glyphも内容~区画の中に入りきることを確保するが、~boxの~sizeは~fontごとにまちまちになり得る）。
◎
The height property does not apply. The height of the content area should be based on the font, but this specification does not specify how. A UA may, e.g., use the the maximum ascender and descender of the font. (This would ensure that glyphs with parts above or below the em-box still fall within the content area, but leads to differently sized boxes for different fonts.)
</p>

<p>
置換されない行内~boxの縦方向の［
~padding, ~border, ~margin
］は、`内容~区画$の
上端／下端
から開始される
— `line-height$p は、行l~boxの縦幅を計算するときに利用されるだけで，それには関わらない。
◎
The vertical padding, border and margin of an inline, non-replaced box start at the top and bottom of the content area, and has nothing to do with the line-height. But only the line-height is used when calculating the height of the line box.
</p>

<p>
複数の~fontが利用される場合でも（これは、利用する~glyphが異なる~font内に見出されたときに起こる）、`内容~区画$の縦幅は，~fallback~fontの~glyphからは影響されず，`可用な最初の~font$のみに依存する。
◎
If more than one font is used (this could happen when glyphs are found in different fonts), the height of the content area is not affected by the glyphs from the fallback fonts, and only depends on the first available font.
</p>

		</section>
	</section>
	<section id="initial-letter-styling">
<h2 title="Initial Letters">5. 先頭字</h2>

<p class="trans-note">【
この節に現れる`始端$／`終端$は、他が指定されない限り，`行内-軸$のそれを指す。
】</p>

<p class="issue">
非~西欧~用字系における埋没-頭字の例を寄せていただけるとありがたい
— とりわけ
~Arabic, ~Indic
の用字系における。
◎
The editors would appreciate any examples of drop initials in non-western scripts, especially Arabic and Indic scripts.
</p>

		<section id="initial-letter-intro">
<h3 title="An Introduction to Initial Letters">5.1. 先頭字 序論</h3>

~INFORMATIVE

<p>
~textの新たな節を開始する，大きい装飾的な字l（ `letter^en ）は、印刷-法が発明される前から利用されてきた。
事実、それらは，小文字による字lの登場以前から利用されている。
【字lとは、`~typographic字l単位$の略称。】
◎
Large, decorative letters have been used to start new sections of text since before the invention of printing. In fact, their use predates lowercase letters entirely.
</p>

			<section id="drop-initial">
<h4 title="Drop Initial">5.1.1. 埋没-先頭字</h4>

<p>
`埋没~頭字@
（ `dropped initial^en — “`drop initial^en”, “`drop cap^en” とも呼ばれる）とは、［
その`基底線$が，段落の最初の`基底線$より何~行l~分か低い
］ような，［
段落の開始における，通例より大きい字l
］【であって, その~cap-heightが後続する文字たちの~cap-heightに揃えられるもの】
である。
埋没-頭字の~sizeは、通例的にはそれが占める行l~数により指示される。
二行分／三行分
を占める埋没-頭字はごく共通にある。
◎
A dropped initial (or “drop cap”) is a larger-than-usual letter at the start of a paragraph, with a baseline at least one line lower than the first baseline of the paragraph. The size of the drop initial is usually indicated by how many lines it occupies. Two- and three-line drop initials are very common.
</p>

<figure>`Dropcap-E-acute-3line^dgm
<figcaption>図 1.
E acute による三行分の埋没-頭字。
埋没-頭字の`~cap-height$と，~~後続する~textの~cap-heightとが整列するので、~accentは段落の上へ拡幅される。
◎
Three-line drop initial with E acute. Since the cap-height of the drop initial aligns with the cap-height of the main text, the accent extends above the paragraph.
</figcaption></figure>

<p>
`埋没~頭字$の正確な~size／位置は，その~glyphの整列に依存する。
埋没cap上の基準~点は、~text内の基準~点と精確に整列されるモノトスル。
埋没-頭字~用の整列の拘束は、書記体系に依存する。
◎
The exact size and position of a dropped initial depends on the alignment of its glyph. Reference points on the drop cap must align precisely with reference points in the text. The alignment constraints for drop initials depend on the writing system.
</p>

<p>
西欧~用字系においては、上端~基準~点は［
先頭字／
~textの最初の行l
］の`~cap-height$になる。
下端~基準~点は［
先頭字の~alphabetic基底線／
~textの N 本目の行lの`基底線$
］になる。
次の図に，単純な二行分の埋没capを示す。
◎
In Western scripts, the top reference points are the cap height of the initial letter and of the first line of text. The bottom reference points are the alphabetic baseline of the initial letter and the baseline of the Nth line of text. The figure below shows a simple two-line drop cap, with the relevant reference lines marked.
</p>

<figure>`Dropcap-lines^dgm
<figcaption>図 2.
二行分の埋没cap。
緑色~線は `基底線$／
赤色~線は ~cap-height ／
水色~線は ~ascender。
◎
Two-line drop cap showing baselines (green lines), cap-height (red line), and ascender (cyan line).
</figcaption></figure>

<p>
漢字から派生した用字系においては、先頭字は最初の行l上の~glyphの`塊-始端$辺から
N 本目の行l上の~glyphの`塊-終端$辺まで拡幅される。
◎
In Han-derived scripts, the initial letter extends from the block-start edge of the glyphs on the first line to the block-end edge of the glyphs on the Nth line.
</p>

<figure id="f3">`Initial-2line-JapaneseVertical^dgm
<!-- ＊Initial-2line-JapaneseVertical六.png -->

<figcaption>図 3.
縦組みにおける二行分の埋没-頭字
◎
Two-line drop initial in vertical writing mode
</figcaption></figure>

<p>
ある種の~Indic用字系においては、上端~整列点は吊下げ基底線になり,
下端~整列点は text-after-edge になる。
◎
In certain Indic scripts, the top alignment point is the hanging baseline, and the bottom alignment point is the text-after-edge.
</p>

<figure>`Devangari-Initial^dgm
<figcaption>図 4.
吊下げ基底線に整列された~Devanagari`先頭字$。
整列点は赤色で示されている。
<!-- Devangari -->
◎
Devangari initial letter aligned with hanging baseline. Alignment points shown in red.
</figcaption></figure>

			</section>
			<section id="sunk-initial">
<h4 title="Sunken Initial Letters">5.1.2. 沈込み先頭字</h4>

<p>
~textの最初の行lに整列しない~styleによる埋没-頭字もある。
`沈込み頭字@
（ `sunken initial^en — “`sunken cap^en” とも呼ばれる）
は、最初の`基底線$の下へ沈込しつつ, ~textの最初の行lから上へ拡幅する。
◎
Some styles of drop initials do not align with the first line of text. A sunken initial (or “sunken cap”) both sinks below the first baseline, and extends above the first line of text.
</p>

<figure>`SunkenCapA^dgm
<figcaption>
沈込み~cap。
字lは二行分~埋没するが、その~sizeは三行分になる。
◎
Sunken cap. The letter drops two lines, but is the size of a three-line initial letter.
</figcaption></figure>

			</section>
			<section id="raise-initial">
<h4 title="Raised Initial Letters">5.1.3. 持上げ先頭字</h4>

<p>
`持上げ頭字@
（ `raised initial^en — “`raised cap^en”, “`stick-up cap^en” とも呼ばれる）は、最初の~text`基底線$まで
“沈込する” 。
◎
A raised initial (often called a “raised cap” or “stick-up cap”) “sinks” to the first text baseline.
</p>

<p class="note">注記：
適正に持上された頭字には、単に最初の字lの~font~sizeを増やす以上にいくつか利点がある。
まず、段落の残りの部分における行l間隔法は 改められないまま，~textは大きな~descenderの周りに排他されることになる。
また、持上げ頭字の~sizeが行lの整数倍として定義された場合，暗黙的な基底線~格子も保守される。
◎
Note: A proper raised initial has several advantages over simply increasing the font size of a first letter. The line spacing in the rest of the paragraph will not be altered, but text will still be excluded around large descenders. And if the size of raised initial is defined to be an integral number of lines, implicit baseline grids can be maintained.
</p>

<figure>`RaisedCap^dgm
<figcaption>
持上げ~cap。
先頭字は、三行分~頭字の~sizeであるが、沈込しない。
<!-- 埋没しない -->
◎
Raised cap. The initial letter is the size of a 3-line initial, but does not drop.
</figcaption></figure>

			</section>
		</section>
		<section id="selecting-drop-initials">
<h3 title="Selecting Initial Letters">5.2. 先頭字の選択-法</h3>

~INFORMATIVE

<p>
先頭字は、概して単独の字lである
— 利用者からは単独の~typographic単位に見える，約物や文字~並びも含まれるが。
`SELECT$r, `CSS-PSEUDO-4$r にて定義される `first-letter$pe 疑似要素を利用すれば、`先頭字$として整形される文字（たち）を選択できる。
◎
Initial letters are typically a single letter, although they may include punctuation or a sequence of characters which are perceived by the user to be a single typographic unit. The ::first-letter pseudo-element, defined in [SELECT] and [CSS-PSEUDO-4], can be used to select the character(s) to be formatted as initial letters.
</p>

<p>
作者は、先頭字に含ませる文字について更なる制御が必要なとき, あるいは
先頭字の整形を［
`置換され$る要素／複数の単語
］にも適用したいと求めるならば、`塊~容器$の最初の`行内level$の子に
`initial-letters$p ~propを適用することもできる。
◎
Authors who need more control over which characters are included in an initial letter, or who want to apply initial-letters formatting to replaced elements or multiple words can alternately apply the initial-letters property to the first inline-level child of a block container.
</p>

<div class="example">
<pre class="lang-ml">
&lt;p&gt;<mark>当</mark>段落には 埋没される “当” がある。
&lt;p&gt;&lt;img alt="<mark>ここ</mark>" src="illuminated-h.svg"&gt;には 飾り付けられる “ここ” がある。
&lt;p&gt;&lt;span&gt;<mark>段落~始めの単語たち</mark>&lt;/span&gt;にも先頭字~styleをあてがうことができる。
◎
&lt;p&gt;This paragraph has a dropped “T”.
&lt;p&gt;&lt;img alt="H" src="illuminated-h.svg"&gt;ere we have an illuminated “H”.
&lt;p&gt;&lt;span&gt;Words may also&lt;/span&gt; be given initial letter styling at the beginning of a paragraph.
</pre>

<pre class="lang-css">
::first-letter, /* <span class="comment">
最初の段落の “<mark>当</mark>” に~styleをあてがう
◎
style first paragraph’s T
</span> */
img, /* <span class="comment">
飾り付けられた “<mark>ここ</mark>” に~styleをあてがう
◎
style illuminated H
</span> */
span /* <span class="comment">
<mark>span の~~内容</mark>に~styleをあてがう
◎
style phrase inside span
</span> */
{ initial-letters: 2; }
</pre>

</div>

<p>
`first-letter$pe 疑似要素が利用されたときは、最初の字lの前後の約物も選択し，それらの文字も先頭字に含まれることに注意。
◎
Note that since ::first-letter selects punctuation before or after the first letter, these characters are included in the initial-letters when ::first-letter is used.
</p>

<figure>
`initial-letter-punctuation-quote^dgm
<figcaption>
`first-letter$pe 疑似要素は、 "M" に加えて引用符も選択する。
◎
The ::first-letter pseudo-element selects the quotation mark as well as the “M”.
</figcaption></figure>

<p class="issue">
この挙動を任意選択で外す仕方もあるべきか？
Github `310$issue を見よ。
◎
Should there be a way to opt out of this behavior? See Github Issue 310.
</p>

		</section>
		<section id="sizing-drop-initials">
<h3 title="Creating Initial Letters: the initial-letters property">5.3. 先頭字の作成-法： `initial-letters^p ~prop</h3>

◎名 `initial-letters@p
◎値
`normal$v | `number$vt `integer$vt | `number$vt &amp;&amp; [ `drop$v | `raise$v ]?
◎初 `normal$v
◎適
ある種の行内level~box ／
`first-letter$pe ~box ／
`内側に位置された$ `marker$pe ~box
（`注釈文を見よ$）
◎
certain inline-level boxes and ::first-letter and inside ::marker boxes (see prose)
◎継 されない
◎百 受容しない
◎算 ~keyword `normal$v ／ 実数と整数の組
◎
the keyword normal or a number paired with an integer
◎順 文法に従う
◎ア 離散的
◎表終

<p class="issue">
この~propを改称することについて（および，この節の他の内容）、現在
<a href="~CSSissue/2950">討議中にある</a>。
◎
Renaming this property (and the others in this section) is currently under discussion.
</p>

<p>
この~propは、［
埋没／持上げ／沈込み
］`先頭字$が［
`占める行l数$, `沈込する行l数$
］を指定する。
◎
This property specifies the size and sink for dropped, raised, and sunken initial letters as the number of lines spanned.
</p>

<div class="example">
<p>
例えば次の~codeは、 `h2^e の直後にある段落に，二行分の埋没~先頭字を作成することになる：
◎
For example, the following code will create a 2-line dropped initial letter at the beginning of each paragraph that immediately follows a second-level heading:
</p>

<pre class="lang-css">
h2 + p::first-letter { initial-letters: 2; }
</pre>
</div>

<p>
この~propは、次に挙げる値をとる：
◎
It takes the following values:
</p>

<dl>
	<dt>`normal@v</dt>
	<dd>
特別な先頭字~効果はなし。
~textは通常通り挙動する。
◎
No special initial-letters effect. Text behaves as normal.
</dd>

	<dt id="valdef-initial-letters-number">`number$t</dt>
	<dd>
先頭字の~sizeを，それが
`占める行l数@
により定義する。
1 未満の値は 無効とする。
◎
This first argument defines the size of the initial letter in terms of how many lines it occupies. Values less than one are invalid.
</dd>

	<dt id="valdef-initial-letters-integer">`integer$t</dt>
	<dd>
省略可能なこの引数は、先頭字が
`沈込する行l数@
を定義する。
値 1 は `持上げ頭字$を指示する。
1 を超える値は `沈込み頭字$を指示する。
1 未満の値は 無効とする。
◎
This optional second argument defines the number of lines the initial letter should sink. A value of 1 indicates a raised initial; values greater than 1 indiciate a sunken initial. Values less than one are invalid.
</dd>

	<dt>`raise@v</dt>
	<dd>
先頭字が`沈込する行l数$は、 1 に算出される。
◎
Computes to an initial letter sink of 1.
</dd>

	<dt>`drop@v</dt>
	<dd>
先頭字が`沈込する行l数$は、先頭字が`占める行l数$を超えない~最~大な正な整数に算出される。
◎
Computes to an initial letter sink equal to the initial letter size floored to the nearest positive whole number.
</dd>
</dl>

<p>
`沈込する行l数$用の値が省略された場合、 `drop$v があるものと見做される。
◎
If the initial letter sink value is omitted, drop is assumed.
</p>

<p>
`normal$v 以外の値は、影響される~boxを
`先頭字~box@
にする
— それは、`~flow内$にある`行内level~box$であり，特別な~layoutの挙動も伴う。
◎
Values other than normal cause the affected box to become an initial letter box, which is an in-flow inline-level box with special layout behavior.
</p>

<div class="example">

<p>
`initial-letters$p
の用例をいくつか示す：
◎
Here are some examples of initial-letters usage:
</p>

<dl>
 	<dt class="css">`initial-letters$p: `3^v</dt>
 	<dt class="css">`initial-letters$p: `3 3^v</dt>
 	<dt class="css">`initial-letters$p: `3 drop^v</dt>
 	<dt class="css">`initial-letters$p: `drop 3^v</dt>
	<dd>
<p>
高さ三行分, 深さ三行分を表現する`埋没~頭字$：
◎
Represents a dropped initial 3 lines high, 3 lines deep.
</p>
<figure>`InitialLetter33^dgm
</figure>
	</dd>

	<dt class="css">`initial-letters$p: `3 2^v</dt>
	<dd>
<p>
高さ三行分, 深さ二行分を表現する`沈込み頭字$：
◎
Represents a sunken initial 3 lines high, 2 lines deep.
</p>
<figure>`InitialLetter32^dgm
</figure>
	</dd>

	<dt class="css">`initial-letters$p: `3 1^v</dt>
	<dt class="css">`initial-letters$p: `3 raise^v</dt>
	<dt class="css">`initial-letters$p: `raise 3^v</dt>
	<dd>
<p>
高さ三行分, 深さ一行分を表現する`持上げ頭字$：
◎
Represents a raised initial 3 lines high, 1 line deep.
</p>
<figure>`InitialLetter31^dgm
</figure>
	</dd>

	<dt class="css">`initial-letters$p: `2.51 3^v</dt>
	<dd>
<p>
先頭字の~sizeは、一行分の整数倍でない。
この事例では、下端のみが整列される。
◎
The size of the initial letter does not have to be an integral number of lines. In this case only the bottom aligns.
</p>
<figure>`non-integer-initial^dgm
</figure>
	</dd>
</dl>

</div>

<div class="example">

<p>
`initial-letters^p と他の~CSS~propを併用すれば、~textに
“隣接する先頭字”
を作成できる：
◎
In conjunction with other CSS properties, initial-letters can be used to create “adjacent initial letters,” where the initial letter is adjacent to the text:
</p>

<pre class="lang-css">
p::first-letter {
  initial-letters: 3;
  color: red;
  width: 5em;
  text-align: right;
  margin-left: -5em;
}

p {
  margin-left: 5em;
}
</pre>

<figure>`adjacent-initial-letter^dgm
</figure>

</div>

			<section id="first-most-inline-level">
<h4 title="Applicability">5.3.1. 適用能</h4>

<p>
どの文字を`先頭字$として~styleできるかについての制御を 作者にもっと与えるため, および
複数~文字からなる先頭字（最初の単語や句を~styleするためなど）の可能性も許容するため、
`initial-letters$p ~propは
— ~CSS定義な `first-letter$pe 疑似要素のみならず —
最初の行lの始端に配置される［
`内側に位置された$ `marker$pe 疑似要素／行内level~box
］にも適用される。
特定的には、 `initial-letters^p は，次をすべて満たす~boxに適用される：
◎
To give authors more control over which characters can be styled as an initial letter and to allow the possibility of multi-character initial letters (such as for first word or first phrase styling), the initial-letters property applies not just to the CSS-defined ::first-letter pseudo-element, but also to inside-positioned ::marker pseudo-elements and inline-level boxes that are placed at the start of the first line. Specifically, initial-letters applies to＼
</p>

<ul>
	<li>
`行内level~box$である
— ［
`first-letter$pe ／ `marker$pe
］によるそれも含めて。
◎
any inline-level box—including any such ::first-letter or ::marker box—＼
</li>
	<li>
親~boxの最初の子である。
◎
that is the first child of its parent box and＼
</li>
	<li>
先祖のうち, ~boxの`包含塊$の子孫であるものは、どれも，次を満たす
⇒＃
前 2 項の条件を満たす, かつ
`initial-letters^p の`算出d値$は `normal$v1 である
◎
whose ancestors (if any) that are descendants of its containing block are all first-child inline boxes that have a computed initial-letters value of normal.
</li>
</ul>

<div class="example">

<p>
次の例においては、［
`span^e, `em^e, `b^e
］要素が 上述した “始端に配置される行内level~box” に該当し， `strong^e 要素はそうでない：
◎
For example, the &lt;span&gt;, &lt;em&gt;, and &lt;b&gt; elements in the following example are "first-most inline-level descendants" of the &lt;p&gt;, but the &lt;strong&gt; element is not:
</p>

<pre class="lang-ml">
&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;b&gt;この&lt;/b&gt;句&lt;/em&gt;は、&lt;strong&gt;特別に~styleされている&lt;/strong&gt;。&lt;/span&gt;残りの~textは定例の~styleである…

</pre>
<!-- 
<p><span><em><b>This</b> phrase</em> is styled
<strong>specially</strong>.</span> …
-->
<p>
次の規則を適用した場合：
◎
If we apply the following rules:
</p>

<pre class="lang-css">
em { initial-letters: 2; }
b, strong { initial-letters: 3; }
</pre>

<p>
`initial-letters$p ~propの効果は `em^e に限られる。
`b^e 用の~styleは無視される
— その先祖がすでに`先頭字$として~styleされているので。
`strong^e 用の~styleは無視される
— それは 2 個目の同胞なので。
◎
The initial-letters property will take effect only on the &lt;em&gt;. The styling on &lt;b&gt; is ignored, as it has an ancestor already styled as an initial letter; and the styling on &lt;strong&gt; is ignored because it is a second sibling.
</p>

<p>
描画される結果は、次のようになるであろう：
◎
The result might be rendered as
</p>

<figure><!-- firstmost-inline -->
<div style="line-height:1.2; background:white; padding:0.4em; width:32em;">
<div style="font-size:2.4em; float:left; margin-right:0.2em;"><em><b>この</b>句</em></div>
<span>は、<strong>特別に~styleされている</strong>。残りの~textは定例の~styleである…</span>
<div style="clear:left;"></div>
</div>
<figcaption>
二行分の先頭字を伴う~text
◎
text with two-line initial-letter
</figcaption></figure>

</div>

<p>
行内level~boxが［
双向性~並替ng／行内levelの他の内容が先行している
］ことに因り，行lの`始端$に位置しない場合、それに適用される `initial-letters$p の`使用~値$は `normal$v1 になり，~boxは`先頭字$として整形されなくなるとする。
◎
If initial-letters is applied to an inline-level box that is not positioned at the start of the line due to bidi reordering or which is otherwise preceded by other inline-level content, its used value is normal, and it is not formatted as an initial letter.
</p>

<p>
`initial-letters$p ~propの効果は、［
`~ruby$基底~容器~boxの子 ／ `~ruby$容器~box
］に対しては，定義されない。
◎
The effect of the initial-letters property is undefined on children of ruby base container boxes and on ruby container boxes.
</p>

<p class="note">注記：
`initial-letters$p ~propは、［
`float$p が `none^v でない ／
`position$p が `static^v でない
］要素には適用できない。
これらの値は、 `display$p を `block^v に算出させるので。
◎
Note: The initial-letters property cannot apply to any element whose float is not none or position is not static, because these values cause its display to compute to block.
</p>

			</section>
		</section>
		<section id="aligning-initial-letter">
<h3 title="Alignment of Initial Letters: the initial-letters-align property">5.4. 先頭字の整列： `initial-letters-align^p ~prop</h3>

<p>
先に言及したように、先頭字の整列は，利用される用字系に依存する。
`initial-letters-align$p
~propは、適正な整列を指定するときに利用できる。
◎
As mentioned earlier, the alignment of initial letters depends on the script used. The initial-letters-align property can be used to specify the proper alignment.
</p>

◎名 `initial-letters-align@p
◎値
`border-box$v?
[ `alphabetic$v | `ideographic$v | `hebrew$v | `hanging$v ]
| `border-box$v
◎初 `alphabetic$v
◎適
ある種の行内level~box ／
`first-letter$pe ~box ／
`内側に位置された$ `marker$pe ~box
（`注釈文を見よ$）
◎
certain inline-level boxes and ::first-letter and inside ::marker boxes (see prose)
◎継 される
◎百 受容しない
◎算 指定された~keyword（たち）
◎順 文法に従う
◎ア 離散的
◎表終

<p>
この~propは、`先頭字$を
~sizeする／位置する
ために利用される整列点を指定する。
整列点の集合が 2 つ必要とされる：
`先頭字$の
( `上面$, `下面$ )
整列点は、周囲の~textの対応する
( `上面$, `下面$ )
整列点に合致される。
◎
This property specifies the alignment points used to size and position an initial letter. Two sets of alignment points are necessary: the over and under alignment points of the initial letter are matched to corresponding over and under points of the surrounding text.
</p>

<p>
各種~値の意味は：
◎
Values have the following meanings:
</p>

<dl>
	<dt>`alphabetic@v</dt>
	<dd>
周囲の~textの
( ~cap-height, ~alphabetic )
基底線を利用して，`先頭字$を整列する。
◎
Use the cap-height and alphabetic baselines of the surrounding text to align the initial letter.
</dd>

	<dt>`ideographic@v</dt>
	<dd>
周囲の~textの
~ideographic文字~faceの
( 上端~辺, 下端~辺 )
基底線を利用して，`先頭字$を整列する。
◎
Use the ideographic character face top and bottom edge baselines of the surrounding text to align the initial letter.
</dd>

	<dt>`hebrew@v</dt>
	<dd>
周囲の~textの
( ~Hebrew上端, ~alphabetic )
基底線を利用して，`先頭字$を整列する。
◎
Use the Hebrew top and alphabetic baseline of the surrounding text to align the initial letter.
</dd>

	<dt>`hanging@v</dt>
	<dd>
周囲の~textの
( ~hanging, ~alphabetic )
基底線を利用して，`先頭字$を整列する。
◎
Use the hanging and alphabetic baselines of the surrounding text to align the initial letter. 
</dd>

	<dt>`border-box@v</dt>
	<dd>
`先頭字$~boxの
( `行-上面$, `行-下面$ )【！原文：順序が逆】
~border辺を，
( `上面$, `下面$ )
整列点として利用する。
◎
Use the initial letter box’s line-under and line-over border edges as the over and under alignment points, respectively.
</dd>
</dl>

<p class="issue">
~Hebrew “~hanging” 基底線に適正な~typographic用語は，何かある？
◎
Is there a proper typographic term for the hebrew “hanging” baseline?
</p>

<div class="example"><p>
縦組みにおける二行分の埋没~頭字（§ 5.1.1. <a href="#f3">図 3</a> の縦組みの例）は、次の~codeでも可能になる：
◎
The vertical writing mode example earlier (in § 5.1 An Introduction to Initial Letters) could be coded as:
</p>

<pre class="lang-css">
span.initial {
  initial-letters: 2;
  initial-letters-align: ideographic;
}
</pre>
</div>

<div class="example">

<p>
~Hebrewにおける先頭字：
◎
Initial letter in Hebrew
</p>

<pre class="lang-css">
span.initial {
  initial-letters: 2;
  initial-letters-align: hebrew;
}
</pre>

<figure>`hebrew-initial-letter^dgm
</figure>

</div>

<p>
`border-box$v が指定された場合を除いて、`先頭字$の各 整列点は、その内容から自動的に決定される：
◎
Except when border-box is specified, the alignment points of the initial letter are automatically determined from its contents:
</p>

<ol>

	<li>
`先頭字$が`不可分な行内$ならば、内容~boxの
( `上面$, `下面$ )
辺を利用する。
◎
If the initial letter is an atomic inline, use its over and under content-box edges.
</li>
	<li>
他の場合，`先頭字$が［
Han, Hangul, Kana, Yi
］いずれかの`~Unicode用字系$に属する文字を包含するならば、~ideographic文字~faceの
( 上端~辺, 下端~辺 )
基底線を利用する。
◎
Else if the initial letter contains any character from the Han, Hangul, Kana, or Yi Unicode scripts, use the ideographic character face top and bottom edge baselines.
</li>
	<li>
他の場合，`先頭字$が［
Devanagari, Bengali, Gurmukhi
］いずれかの`~Unicode用字系$に属する文字を包含するならば、［
~hangingと~alphabetic
］基底線を利用する。
◎
Else if the initial letter contains any character from the Devanagari, Bengali, and Gurmukhi Unicode scripts, use the hanging and alphabetic baselines.
</li>
	<li>
他の場合，`先頭字$が
~Hebrew `~Unicode用字系$に属する文字を包含するならば、~ideographic文字~faceの
( ~Hebrew上端, ~alphabetic )
基底線を利用する。
◎
Else if the initial letter contains any character from the Hebrew Unicode scripts, use the Hebrew top and alphabetic baselines.
</li>
	<li>
他の場合、
( ~cap-height, ~alphabetic )
基底線を利用する。
◎
Else use the cap-height and alphabetic baselines.
</li>
</ol>

<p class="issue">
Tamil や Telugu など，明示的な~hanging基底線を持たない
South Asian 用字系に適正な整列は何か？
GitHub `864$issue を見よ。
◎
What is the proper alignment for South Asian scripts that do not have the explicit hanging baseline, such as Tamil or Telugu? See GitHub issue 864
</p>

<p class="note">注記：
この~propにおける各~keywordの順序付けは、`先頭字$の整列点を明示的に指定できるようにするため，
`border-box$v が
<span class="prod">[ border-box | alphabetic | ideographic | hebrew | hanging ]</span>
に展開される事例においては，固定される。
【？】
◎
Note: The ordering of keywords in this property is fixed in case border-box is expanded to [ border-box | alphabetic | ideographic | hebrew | hanging ] to allow explicitly specifying the initial letter’s alignment points.
</p>

			<section id="initial-letter-align-defaults">
<h4 title="UA Default Stylesheet for initial-letters-align">5.4.1. `initial-letters-align^p 用の~UAの既定の~stylesheet</h4>

<p>
より良い既定の挙動を供するため、~UAは，自身の既定の~UA~stylesheetに 次の規則を含めるモノトスル：
◎
In order to provide the better behavior by default, UAs must include in their default UA style sheet the following rules:
</p>

<pre class="css">
[lang]:lang(zh, ja, ko, ii) {
  initial-letters-align: ideographic;
}
[lang]:lang(iw, yi, lad, jrb) {
  initial-letters-align: hebrew;
}
[lang]:lang(hi, mr, ne, pi, kok, brx, mai, sd, sa) {
  initial-letters-align: hanging;
}
/* <span class="comment">
用字系~tagは、言語~tagを上書きする：
◎
Script tags override language tags
</span> */
[lang]:lang('*-Latn', '*-Cyrl') {
  initial-letters-align: alphabetic;
}
[lang]:lang('*-Hani', '*-Hant', '*-Hans') {
  initial-letters-align: ideographic;
}
</pre>

<p class="issue">
これは、最も共通的な言語間転写~system（ `cross-linguistic transcription system^en ）しか受持っていない。
他の, あるいは全~用字系~tagを~UA~stylesheetに含めるべきか？
◎
This only covers the most common cross-linguistic transcription systems. Should we include any other / all script tags in the UA style sheet?
</p>

			</section>
		</section>
		<section id="initial-letter-layout">
<h3 title="Initial Letter Layout">5.5. 先頭字の~layout</h3>

<p>
`先頭字~box$は、次の 2 種に大別される：
◎
There are two types of initial letter boxes: those that arise from non-replaced inline boxes and those that arise from atomic inlines.
</p>

<dl class="def-list">
	<dt>`行内~先頭字@</dt>
	<dd>
`可分な行内$（`置換され$ない行内~box）から発生するもの。
~boxとその内容は，それが生じた行lと同じ`行内~整形~文脈$に関与し、期待される~sizingと整列を与えるため，いくつもの特別な規則が適用される。
◎
For the non-atomic inline initial letter, the box and its contents participate in the same inline formatting context as the line on which it occurs, and a lot of special rules apply to give the expected sizing and alignment.
</dd>

	<dt>`不可分な先頭字@</dt>
	<dd>
`不可分な行内$から発生するもの。
不可分な行内は［
`置換され$るか，自身の内容~用に`独立な整形~文脈$を確立する
］ので、~boxの［
~sizing, ~boxの中での内容の~layout
］は，（`塊-軸$における，`自動的~size$は別として）通例の規則に従う。
それは主に、~boxの位置決めを特別にするためにある。
◎
For an atomic initial letter, however, which is either a replaced element or which establishes an independent formatting context for its contents, the sizing of the box (aside from its automatic size in the block axis) and layout of the contents within the box follows the usual rules: it is primarily the positioning of the box which is special.
</dd>
</dl>

			<section id="initial-letter-properties">
<h4 title="Properties Applying to Initial Letters">5.5.1. 先頭字に適用される~prop</h4>

<div>
<p>
`先頭字$には、次に挙げる~propが適用される：
</p>

<ul>
	<li>
各種`~sizing~prop$, `box-sizing$p
`css-sizing-3$r
</li>
	<li>
加えて，`行内~先頭字$に対しては、`行内~box$に適用されるすべての~prop
— ただし、次に挙げるものは除く
⇒＃
`vertical-align$p とその`下位prop$,
`font-size$p,
`line-height$p,
`line-sizing$p,
`inline-sizing$p
</li>
	<li>
また，`不可分な先頭字$に対しては、`不可分な行内$に適用されるすべての~prop
— ただし、次に挙げるものは除く
⇒
`vertical-align$p とその`下位prop$
</li>
</ul>

◎
All properties that apply to an inline box also apply to an inline initial letter except for vertical-align and its sub-properties, font-size, line-height, line-sizing, and inline-sizing. Additionally, all of the sizing properties and box-sizing also apply to initial letters, (see [css-sizing-3]).
◎
All properties that apply to an atomic inline also apply to the atomic inline when styled as an initial letter, except for vertical-align and its sub-properties.
</div>

			</section>
			<section id="initial-letter-box">
<h4 title="Margins, Borders, and Padding">5.5.2. ~margin, ~border, ~padding</h4>

<p>
他の~boxと同じく、先頭字も［
~margin, ~padding, ~border
］で~styleできる。
`initial-letters-align$p が `border-box^v でない限り，その縦方向の
整列／~sizing
には影響されない一方、実質的な排他~区画（および対応する~margin区画）は影響される。
◎
Initial letters can be styled with margins, padding, and borders just like any other box. Unless initial-letters-align is border-box, its vertical alignment and sizing are not affected; however the effective exclusion area is (and corresponds to the margin area).
</p>

<p class="issue">
`box-sizing$p を正しく取扱うよう書き直す。
◎
Reword that to handle box-sizing correctly.
</p>

<p>
~borderも~paddingも 0 の場合、先頭字は字詰され得る（後述）。
◎
When padding and borders are zero, the initial letter may be kerned; see below.
</p>

			</section>
		</section>
		<section id="sizing-initial-letters">
<h3 title="Font Sizing of Initial Letters">5.6. 先頭字の~font~sizing</h3>

<p>
`行内~先頭字$に対しては、`先頭字$を成す内容の~sizingに利用される~font~size（使用~値）は，［
先頭字の `initial-letters-align$p に指定された整列点を起点にする下で，
`initial-letters$p に指定された［
先頭字が`占める行l数$
］を充足する
］ように計算される。
この`使用~値$の計算は、算出d値, ~font計量のみに基づき，~layoutは要求されないことに注意。
この計算は、 `font-size$p の`算出d値$には`影響しない^emので，
`em$u 単位の長さ値, 等々の算出にも効果は無い。
◎
For an inline initial letter, the font size used for sizing the initial letter contents is calculated to fulfill its specified size (see initial-letters) as anchored by its specified alignment points (see initial-letters-align). Note that no layout is required in this calculation: it is based only on computed values and font metrics. These used font size calculations do not affect the computed font-size, and therefore have no effect on the computation of em length values, etc.
</p>

<p class="issue">
子孫への継承についてはどうなる？
◎
What about inheritance to descendants?
</p>

<p>
`不可分な先頭字$用の使用~font~sizeは、通例通り，算出d~font~sizeになる。
◎
For an atomic initial letter, the used font size is the computed font size as usual.
</p>

<p>
これらの計算に利用される行高は、包含塊の `line-height$p である（
または、`基底線~格子$ `CSS-LINE-GRID-1$r が利用されている所では，基底線~格子により要求される［
基底線から次の【行lの】基底線まで
］の間隔法による）。
行lの内容による~span
— それらの高さや位置における変動 —
は、織り込まれない。
◎
The line height used in these calculations is the line-height of the containing block (or, in the case where a baseline grid is in use, the baseline-to-baseline spacing required by the baseline grid [CSS-LINE-GRID-1]). The contents of the lines spanned, and therefore any variation in their heights and positions, is not accounted for.
</p>

<figure>`infinite-text^dgm
</figure>

<p>
西欧~用字系における `N^V 行分の埋没-頭字~用の，字lの~cap-height†は［
( `N^V ~MINUS 1 ) ~MUL 行高 + 周囲の~textの~cap-height
］だけ必要になる。
この高さは、埋没-頭字の~font~sizeではないことに注意。
◎
For an N-line drop initial in a Western script, the cap-height of the letter needs to be (N – 1) times the line-height, plus the cap-height of the surrounding text. Note this height is not the font size of the drop initial.
</p>

<p class="trans-note">【†
`~cap-height@
（ `cap-height^en ）とは、大文字の高さ（~alphabetic基底線から大文字の頭頂までの高さ（
<a href="https://en.wikipedia.org/wiki/Cap_height">Wikipedia</a>
））, または（この仕様では）大文字の頭頂の位置を指す（一般に，~ascentを超えない）。
<a href="#_dgm-Dropcap-lines">§ 5.1.1 の図</a>を見よ。
】</p>

<p>
この~font~sizeの計算-法は実際に込み入っている。
`N^V 行分の埋没-頭字~用の埋没-頭字~font~sizeは、次の式で見出される：
◎
Actually calculating this font size is tricky. For an N-line drop initial, we find the drop initial font size to be:
</p>

<blockquote>
<!-- InitialCapEquation^dgm -->
埋没capの~font~size
= (
	( `N^V ~MINUS 1 ) ~MUL 行高 ~PLUS
	( 段落の~cap-height 比率† ) ~MUL ( 段落の~font~size )
 )
~DIV ( 埋没-頭字~fontの~cap-height 比率 )
◎
Font size of drop cap = ((N-1) * line-height + [cap-height of para] * [font size of paragraph])/[cap-height ratio of drop initial font]
</blockquote>

<p class="trans-note">【†
何に対する比率？
`~cap-height$ ~DIV ~font~size（あるいは em-box ／ 行高 ）？
】</p>

<p class="issue">
この計算を更新する：
(1) 各種［
書記体系や整列点
］にわたって汎用になるよう ／
(2) 整数でない~sizeを取扱うよう。
◎
Update this calculation to be a) generic across writing systems / alignment points and b) handle non-integer sizes.
</p>

<p class="example">
Adobe Minion Pro における三行分の埋没-頭字は、［
~font~size 12pt,
行高 16pt ,
~cap-height 651/1000
］の~textが与えられた下では，約 61.2pt になる（~fontの OS/2 ~tableによる）。
【 61.2pt = ( ( 3 − 1 ) × 16pt + 0.651 × 12pt ) ÷ 0.651 = 32pt ÷ 0.651 + 12pt 】
◎
A three-line drop initial in Adobe Minion Pro would have a font size of 61.2pt given 12pt text, 16pt line-height, and a cap-height of 651/1000 (from the font’s OS/2 table).
</p>

			<section id="initial-letter-shaping">
<h4 title="Shaping and Glyph Selection">5.6.1. ~glyphの選定と形状付け</h4>

<p>
`initial-letters$p が `normal^v でないときでも、`行内~先頭字~box$の境界をまたがる~glyph形状付けは，依然として生じるベキである（
<a href="~CSSTEXT#boundary-shaping">要素~境界をまたがる形状付け</a>
`CSS-TEXT-3$r
を見よ）。
例えば、 2 個の字lからなる~Farsiの単語 `067E;0633^cref の最初の字lの~styleが
<code class="css">`initial-letters$p: `2 1^v</code>
ならば、それぞれの字lは，連結形（ `joined form^en ）で~styleされる
— 頭字形（ `initial-form^en ）の `FB58^cref が`先頭字$として~styleされ，通常に~styleされる尾字形（ `final-form^en ）の `FEB2^cref が後続するように。
◎
When initial-letters is not normal, shaping should still occur across an inline initial letter box’s boundaries. (See CSS Text 3 §7.3 Shaping Across Element Boundaries.) For example, if the first letter of the Farsi word “پس” were styled with initial-letters: 2 1, both letters would be styled in their joined forms, with initial-form “ﭘ” as the initial letter, followed by the normally-styled final-form “ﺲ”. Note that the two letters might not always graphically connect, even when shaped in their joining forms.
</p>

<p class="issue">
ここで考慮する必要があるものは、他にもあるか？
◎
Are there other things we need to consider here?
</p>

			</section>
		</section>
		<section id="initial-letter-box-size">
<h3 title="Sizing the Initial Letter Box">5.7. 先頭字~boxの~sizing</h3>

<p>
`行内~先頭字$に対しては、`先頭字$の［
`選好d横幅$／`選好d縦幅$
］は`確定的$である場合、~boxのその次元には，その値を利用する（必要なら，［
`最小~size~prop$, `最大~size~prop$
］により切詰めた上で, `box-sizing$p も取扱った上で）。
◎
For an inline initial letter, if the initial letter’s preferred width/preferred height is definite, use that value (clamped as required by the min size and max size properties, and handling box-sizing as required) for that dimension of the box.
</p>

<p>
確定的でない場合、その次元は`自動的~size$と見なされ，内容~boxの その次元における［
~size, 位置
］は［
次に該当するものすべてを含む最も小さい矩形
］に一致するようにされる
⇒＃
先頭字を成す~glyphの限界~box — ただし，`吊下がる$ものは除く（ `hanging-punctuation$p を見よ）／
先頭字が包含する`不可分な行内$があれば それらの`~margin~box$
◎
Otherwise it is considered to have an automatic size in that dimension and is sized and positioned to coincide with the smallest rectangle that would include the bounding boxes of all its glyphs—excluding any that hang (see hanging-punctuation)—as well as the margin boxes of any atomic inlines it contains.
</p>

<p class="issue">
代わりに、吊下がる約物も~boxに含めつつ（~border／背景を通して可視にされたとき，~boxが約物の周りに描かれるように），~boxを位置するときに限り含めない（吊下がる約物は適正に吊下がるように，【行lの終端に】接合する先頭字はそうあり続ける）べきか？
<a href="~CSSissue/310">論点</a>
を見よ。
◎
Should the hanging punctuation be included in the box instead (so that the box is drawn around the punctuation when it is made visible through borders/background), but rather only excluded when positioning the box (so that the initial letter remains flush, with the hanging punctuation properly hanging)? See discussion.
</p>

<p>
`不可分な先頭字$用の~sizingは、各~型の`不可分な行内$用の通例の規則に従う。
しかしながら，~boxの`塊~size$については、それが`自動的~size$（ `~autoS$v ）である場合は，
`border-box^v 整列を伴う`行内~先頭字$と同じように決定され，`確定的$になる。
◎
For atomic initial letters, sizing follows the usual rules for that type of atomic inline. However, if the box has an automatic block size (auto), then its block size is determined as for an inline initial letter with border-box alignment, and is definite.
</p>

			<section id="initial-letter-content-align">
<h4 title="Alignment Within an Initial Letter Box">5.7.1. 先頭字~boxの中の整列</h4>

<p>
既定では（すなわち，`自動的~size$の下では）、`行内~先頭字$の内容~boxは，その内容が正確に収まるように~sizeされ、
`text-align$p や `align-content$p の様な整列~propは適用されない。
しかしながら，~boxが自動的に`~sizeされない^em場合：
◎
By default (i.e. under automatic sizing), the content box of an inline initial letter is fitted exactly to its content, and alignment properties like text-align or align-content do not apply. However, if the box is not sized automatically:
</p>

<ul>
	<li>
`行内~size$は`確定的$である場合、［
`行内-軸$において，~boxの中で`先頭字$の内容を整列する
］ときには， `text-align$p は尊守される（それを成す~glyph外形線の限界~boxではなく，通例通り行内-軸~bearing【？】を利用して）。
◎
If the inline size is definite, text-align is honored for aligning the contents of the initial letter within its box in the inline axis (using its inline-axis bearings as usual, not the bounding box of its glyph outlines).
</li>
	<li>
`塊~size$が確定的な場合、［
`塊-軸$において，内容を整列する
］ときには， `align-content$p は尊守される（必要なら，塊-軸の~bearingを合成した上で利用する）。
◎
If the block size is definite, align-content is honored for aligning its contents in the block axis (using its block-axis bearings, synthesizing them if needed).
</li>
</ul>

			</section>
		</section>
		<section id="initial-letter-position">
<h3 title="Initial Letter Positioning and Spacing">5.8. 先頭字の位置決めと間隔法</h3>

			<section id="initial-letter-exclusions">
<h4 title="Space Below Initial Letters">5.8.1. 先頭字の下側の間隔</h4>

<p>
先頭字の~glyph（たち）は、常に，指定された沈込量の中に収まるとは限らない。
例えば、先頭字の~descenderは，~textの `N^V ~PLUS 1 行l目にもぶつかることがある。
これは，望ましくない。
◎
The glyph(s) of an initial letter do not always fit within the specified sink. For example, if an initial letter has a descender, it could crash into the (n+1)th line of text. This is not desirable.
</p>

<figure>`Dropcap-J-3line-crash^dgm
<figcaption>
不正な例：~descenderを伴う三行分の先頭字。
この~fontでは、~~大文字 “J” が基底線（図の赤線）から下へ はっきり拡幅している。
◎
Incorrect: three-line initial letter with descender. In this font, the capital “J” extends well below the baseline (shown in red).
</figcaption></figure>

<p>
したがって、`先頭字$の~glyph限界~boxによる影響iが及ぶすべての行l~boxが，【先頭字~boxから】排他される
— `沈込する行l数$の範囲のみならず。
特定的には，`可分な先頭字$に対しては、要素の内容~boxは，次が収まるように~sizeされる：
◎
Therefore all line boxes impacted by the glyph bounding boxes of an initial letter are excluded, not just those within range of the initial letter sink. Specifically, for non-atomic initial letters, the content box of the element is sized to fit:
</p>

<ul>
	<li>
指定された沈込量（すなわち，上端~整列点から下端~整列点までの距離）。
◎
The specified amount of sink (i.e the distance from the top alignment point to the bottom alignment point).
</li>
	<li>
先頭字が包含する すべての~glyphの実際の［
~ascent＆~descent, および両側の~bearing
］は、先頭字の行内~整形~文脈の一部を成す
— ~glyphが~em~boxの外側に はみ出るときでも。
◎
The actual ascent and descent and side bearings of all the glyphs it contains that are part of its inline formatting context, even if they leak outside their em boxes.
</li>
	<li>
先頭字が包含する すべての`不可分な行内$の`~margin~box$は、先頭字の行内~整形~文脈の一部を成す
— ~boxが先頭字の自前の行高の外側に はみ出るときでも。
◎
The margin boxes of all the atomic inlines it contains that are part of its inline formatting context, even if they leak outside its own line-height.
</li>
</ul>

<p>
しかる後，先頭字は、それが浮動体であったかのように，排他~区画を成す。
詳細は、 `initial-letters-wrap$p を見よ。
◎
The initial letter is then made an exclusion area, the same as if it were a float. See initial-letter-wrap for details.
</p>

<figure>`Dropcap-J-3line-exclude^dgm
<figcaption>
正しい例：
~textは、~glyph限界~boxの周囲に排他される
◎
Correct: text excluded around glyph bounding box
</figcaption></figure>

			</section>
			<section id="initial-letter-block-position">
<h4 title="Block-axis Positioning">5.8.2. 塊-軸における位置決め</h4>

<p>
`塊-軸$においては、`先頭字$は，［
先頭字の `initial-letters-align$p に指定された`下面$ 整列点が、先頭字の `initial-letters$p に指定された`沈込する行l数$だけ沈込む
］ように位置される。
すなわち，［
先頭字の包含塊が，`根~行内~box$の直な内容として［
先頭字~自身と後続する長さ無限な素の~text
］のみを保持している
］と見做すならば、先頭字は［
指定された行l数だけ沈込する, かつ
~~要求された`下面$ 整列点に整列する
］ように，位置される。
◎
In the block axis, the initial letter is positioned as required to satisfy its under alignment point (initial-letters-align) at its specified sink (initial-letters), i.e. it is positioned such that it would sink the number of lines specified by initial-letters’s second argument and align to the requisite under alignment point if it was assumed that its containing block held only the initial letter itself followed by an infinite sequence of plain text as the direct contents of its root inline box.
</p>

<figure>`infinite-text-1^dgm
</figure>

<p>
先頭字の位置は、それが生じる行lを起点にする。【？】
◎
Its position is anchored with respect to the line on which it occurs.
</p>

			</section>
			<section id="initial-letter-inline-position">
<h4 title="Inline Positioning and Kerning">5.8.3. 行内~位置決めと字詰法</h4>

<p>
`行内-軸$における`先頭字$の位置は、［
先頭字の`行内~始端$`~margin辺$と行l~boxの`行内~始端$辺が合致する
］ように与えられる。
<!-- ＊inline letter -->
◎
In the inline axis, the position of the inline letter is given by matching its inline-start margin edge with the inline-start edge of the line box.
</p>

<p>
しかしながら，`先頭字$が次を満たす場合、［
【始端~辺に配置した時点での】先頭字の内容~boxの始端~辺
］から［
先頭字でなかったとするなら，包含塊の始端~辺に配置されることになる地点
］までの距離（すなわち、~glyph限界~boxから~glyphの始端~側~bearingまでの距離）だけ，【さらに】負に~offsetする
⇒＃
`可分な行内$である, かつ
`行内~size$は`自動的~size$である, かつ
~padding, ~borderとも 0 である
◎
However, if the initial letter is a non-atomic inline with an automatic inline size and zero padding and borders, it is negatively offset by the distance from the start edge of its content box to the point in the content that would have been placed at the start edge of the containing block if it were not an initial letter (i.e. the distance between its glyph bounding box and its start side bearing).
</p>
			</section>
		</section>
		<section id="initial-letter-wrapping">
<h3 title="Initial Letter Wrapping: the initial-letters-wrap property">5.9. 先頭字の回込み： `initial-letters-wrap^p ~prop</h3>

<p class="note">注記：
`initial-letters-wrap$p は~risk下にある。
◎
Note: initial-letters-wrap is at risk.
</p>

◎名 `initial-letters-wrap@p
◎値
`none$v | `first$v | `all$v | `grid$v | `length-percentage$t
◎初 `none$v
◎適
ある種の行内level~box ／
`first-letter$pe ~box ／
`内側に位置された$ `marker$pe ~box
（`注釈文を見よ$）
◎
certain inline-level boxes and ::first-letter and inside ::marker boxes (see prose)
◎継 される
◎百
`先頭字$（を成す最後の断片）の`論理-横幅$に相対的
◎
relative to logical width of (last fragment of) initial letter
◎算 指定された~keyword ／ 算出された `length-percentage$t 値
◎順 文法に従う
◎ア 離散的
◎表終

<p>
この~propは、`先頭字$による影響iが及ぶ行lたちは，先頭字の［
矩形な~box,
~glyph外形線による輪郭
］のどちらを沿うように回込むかを指定する。
◎
This property specifies whether lines impacted by an initial letter are shortened to fit the rectangular shape of the initial letter box or follow the contour of its end-edge glyph outline.
</p>

<dl>
	<dt>`none@v</dt>
	<dd>
影響iが及ぶ各~行lは、輪郭に沿うようには回り込まない。
各~行lは、`先頭字$の終端~margin辺に接合するように整列される。
◎
No contour-fitting is performed: each impacted line is aligned flush to the end margin edge of the initial letter.
</dd>

	<dt>`first@v</dt>
	<dd>
`先頭字$の直後の`~typographic文字~単位$が 
`~Unicode一般~字種$ `Zs^uc
【~spaceに類する文字】
に属するならば， `none$v として挙動する。
他の場合、先頭字を包含している塊の［
最初の行lに対しては `all$v  ／
他の行lに対しては `none$v
］として挙動する。
◎
Behaves as none if the first typographic character unit after the initial letter belongs to Unicode General Category Zs. Otherwise behaves as for all on the first line of the block containing the initial letter and as none on the rest.
</dd>

	<dd>
<div class="example">
<p>
最初の行lに対し輪郭に沿う回り込みが必要とされるわけ, および
`先頭字$の直後に~spaceがあるときには そうすべきでないわけを，次の例に示す：
◎
This example shows why contour-fitting the first line is necessary, and why it is dropped when the initial letter is followed by a space:
</p>

<figure>`OpticalKerning^dgm
<figcaption>
上段の段落では，先頭字 "A" の直後に~spaceがあり、
"A" の上端と次の字lとの合間にある隙間は，必要とされる単語~分離を供する。
中段の段落では，先頭字 "A" は最初の単語の一部を成すので、
"A" の上端と次の字lとの合間に隙間が残ると，単語の中に目障りな分断が生じる。
この事例では、~textの最初の行lは，下段の段落に示されているように，先頭字の区画まで字詰されるべきである。
◎
In the top paragraph, the initial letter "A" has a word space after it: the gap between the top of the "A" and the next letter provides the necessary word separation. In the next paragraph, the initial letter "A" is part of the first word, and leaving a gap between the top of the "A" and the next letter would create a jarring visual break within the word. In this case, the first line of text should be kerned into the initial letter’s area, as shown in the bottom paragraph.
</figcaption></figure>

</div>

</dd>

	<dd class="issue">
“無条件の `first^v ”
も必要か？（すなわち、この値を `auto^v に改称して，~spaceの有無を検査しない `first^v 値を追加するべきか？）
GitHub `410$issue を見よ。
◎
Do we need an unconditional first? (I.e. Should we rename this value to auto and add a first value that does not check for spaces?) See GitHub issue 410
</dd>

	<dt>`all@v</dt>
	<dd>
`先頭字$による影響iが及ぶ~textの各~行lの 行l~boxの始端は、先頭字の輪郭から［
先頭字の終端~側の［
~border, ~padding, ~margin
］の合計分
］だけ~~空けた所から開始される。
◎
For each line of text impacted by the initial letter, the line box adjacent to the initial letter starts at the start-most point that touches the ink of the initial letter, plus the amount of the initial letter’s end-side border+padding+margin.
</dd>
	<dd>
`shape-outside$p の値が `none^v でない場合、~glyph外形線に代えて，それによる図形が利用される。
◎
If the value of shape-outside is not none, shape-outside is used instead of the glyph outline.
</dd>
	<dd class="note">注記：
この値は~risk下にある。
◎
Note: This value is at-risk.
</dd>

	<dt>`grid@v</dt>
	<dd>
この値は、次を除いて `none$v と同じになる：
影響iが及ぶ行lたちに対する排他~区画の終端~辺が，文字~gridに~~揃えるために必要に応じて増大される
— すなわち，［
包含塊~上で算出される ( 1 `ic$u ~PLUS `letter-spacing$p )
］の倍数になる。
このときには、 `justify-self$p ~propを利用して，先頭字~boxを排他~区画の中で整列できる。
◎
This value is the same as none, except that the exclusion area of the impacted lines is increased as necessary for its end-edge to land on the character grid, i.e. to be a multiple of (1ic + letter-spacing) as computed on the containing block. The justify-self property can then be used to align the initial letter box within the exclusion area.
</dd>
	<dd>
<figure>`CJK-Initial^dgm
<figcaption>
縦組みにおける日本語~先頭字の図式
◎
Diagram of Japanese initial letter in vertical writing mode
</figcaption></figure>

<p class="note">注記：
この例では、行内-軸~整列を保全するため、埋没-頭字に対する排他~区画が，その~glyphより大きくされている。
◎
Note: In this example, the exclusion area for the drop initial is larger than its glyph in order to preserve inline-axis alignment.
</p>

	</dd>
	<dd class="note">注記：
この値も~risk下にある。
◎
Note: This value is also at-risk.
</dd>

	<dt id="valdef-initial-letters-wrap-length">`length$t</dt>
	<dt id="valdef-initial-letters-wrap-percentage">`percentage$t</dt>
	<dd>
この値の挙動は、最初の行lに対する調整を，~glyph形状から推定するのでなく 明示的に与えることを除いて， `first$v と同じである。
◎
This value behaves the same as first except that the adjustment to the first line is given explicitly instead of being inferred from the glyph shape.
</dd>

	<dd class="issue">
これは、本当は，~fontに相対的な長さが 使用~sizeに相対的になる必要がある。
【~font~sizeの使用~size？】
◎
This really needs font-relative lengths to be relative to the used size.
</dd>

	<dd class="note">注記：
この値が存在するのは、これの方が実装が容易なことによる。
作者には、 `first$v 値を利用することが奨励される
— 間隔法の制御には~marginを設定し、必要なら，~glyph形状を検出できない場合の~fallbackに これを利用して。
◎
Note: This value exists because it is easier to implement. Authors are encouraged to use the first value and to set margins to control spacing, and to use this as a fallback for glyph detection if necessary.
</dd>

	<dd class="example">
<p>
次の例では、
`first$v を~supportする~UAは，~glyph外形線と指定された~marginを利用して 最初の行lを配置することになる一方で、
`length$t ／ `percentage$t
値のみを~supportする~UAは，最初の行lを先頭字の横幅の 40% だけ引き寄せる（その上で，その地点に~marginを追加する）ことになる。
◎
In the following example, UAs that support first will use the glyph outline plus the specified margin in order to place the first line, whereas UAs that only support &lt;length&gt; or &lt;percentage&gt; values will pull in the first line by 40% of the initial letter’s width (and then add the margin to that point).
</p>

<pre class="lang-css">
h1 + p:first-letter {
  initial-letters: 3; /* <span class="comment">
三行分の埋没cap
◎
3-line drop-cap</span> */
  initial-letters-wrap: first;
  margin-right: 0.1em;
}
@supports (not (initial-letters-wrap: first)) {
  /* <span class="comment">
先頭字に合致するように，段落にて自動的に生成される疑似類
◎
Classes auto-generated on paragraphs to match first letter.
</span> */
  p.A:first-letter {
    initial-letters-wrap: -40%; /* <span class="comment">
~glyph外形線の始端
— ~fontは正しいと見做して。
◎
Start of glyph outline, assuming correct font.
</span> */
  }
}
</pre>

	</dd>
</dl>

<p class="issue">
これらの値に関係する煩わしいものは、誰かが Blink に `first$v を~supportするパッチを提出してくれたなら，不要になるであろう。
◎
These values and related annoyance is likely unnecessary if someone submits a patch to Blink to support first.
</p>

<p class="issue">
様々な文脈にて `auto^v がどう挙動するかを示すように図を編集する必要がある。
【 `auto^v 値は削除されたので、この段落も意味をなしていない】
◎
Edit figure to show how auto behaves in varying contexts
</p>

<div class="example">

<pre class="lang-css">
p::first-letter {
  initial-letters: 3;
  initial-letters-wrap: none;
}
</pre>

<figure>`A-wraparound-none^dgm
<figcaption>
~textは、先頭字の輪郭ではなく，矩形な~boxに沿って回り込む。
◎
Ordinary initial letter with no wrapping.
</figcaption></figure>

</div>

<div class="example">

<pre class="lang-css">
p::first-letter {
  initial-letters: 3;
  initial-letters-wrap: all;
}
</pre>

<figure>`A-wraparound^dgm
<figcaption>
先頭字の形状に沿う~text。
各~行l~boxは、丁度，字lの輪郭から 少しだけ間を~~空けた所（~~灰色~boxで表現される）に触れるべきである。
◎
Text follows shape of initial letter. Each line box should just touch the ink of the letter, with some offset (represented by the shaded box).
</figcaption></figure>

</div>

<div class="example">

<pre class="lang-css">
p::first-letter {
  initial-letters: 3;
  initial-letters-wrap: first;
}
</pre>

<figure>`A-wraparound-first^dgm
<figcaption>
最初の行lのみが，先頭字の輪郭の方へ~~寄せられる。
◎
Only the first line is moved up against the ink of the initial letter.
</figcaption></figure>

</div>

<div class="example">

<pre class="lang-css">
p::first-letter {
  initial-letters: 3;
  initial-letters-wrap: all;
}
</pre>

<figure>`V-wraparound^dgm
<figcaption>
埋没cap <samp>V</samp> を回込む~text。
◎
text wrapping around dropcap V
</figcaption></figure>

<figure>`P-wraparound^dgm
<figcaption>
埋没cap <samp>P</samp> を回込む~text。
◎
text wrapping around dropcap P
</figcaption></figure>

<figure>`W-wraparound^dgm
<figcaption>
埋没cap <samp>W</samp> を回込む~text。
◎
text wrapping around dropcap W
</figcaption></figure>

</div>

		</section>
		<section id="initial-letter-line-layout">
<h3 title="Line Layout">5.10. 行lの~layout</h3>

<p>
`先頭字$は、自身が出自にする`行l~box$の内容の一部を成し，その行l~boxが関与する`塊~整形~文脈$の`~flow内$にあるものと見なされる。
縦方向~整列は別として、それは，同じ行lの残りの内容と通常通り相互作用する
— 少数の特定の状況下を除けば…
◎
An initial letter box is considered in-flow in its block formatting context, and is part of the contents of the line box in which it originates. Aside from vertical alignment, its interaction with the rest of the contents of the line is as normal, except in a few specific circumstances…
</p>

			<section id="initial-letter-inline-flow">
<h4 title="Inline Flow Layout: Alignment and Justification">5.10.1. 行内~flow~layout： 整列と両端揃え</h4>

<p>
`持上げ頭字$に対しては、整列と両端揃えに際して特別な考慮点は無く，他の行内level内容と同様に扱われる。
◎
For a raised initial no special consideration is given for alignment and justification: it is treated similar to any other inline-level content.
</p>

<p>
しかしながら，`沈込み頭字$に対しては、その行内-始端~辺は（字下げ後における）行l~boxの行内-始端~辺を起点にすることに加え、~text整列は，残りの空間において行lの残りの内容に影響する
— `先頭字$自身は移動することなく。
◎
However, for a sunken initial its inline-start edge is anchored to the inline-start edge of the line box (after indentation) and text alignment affects the remaining content of the line in the remaining space, without moving the initial letter box itself.
</p>

<p class="note">注記：
CSSWG は、［
始端に整列しない~textと`埋没~頭字$を混在させるための，適理な利用事例
］について気付いてなかった。
これは、提案された挙動のうち最も良さげなものであった。
この挙動は、利用事例から他が要求される場合には，再考されるかもしれない。
◎
Note: The CSSWG was not aware of any reasonable use cases for mixing non-start text alignment with dropped initial letters, and this was the most sensible behavior proposed. This behavior may be reconsidered if use cases require otherwise.
</p>

<p>
加えて，影響iが及ぶすべての行lにわたって一貫した整列を確保するため、［［
`letter-spacing$p や`両端揃え機会$
］のうち［
`沈込み頭字$を成す内容と行lの後続の内容
］の並置により，通常に導入されるもの
］は、抑止される。
（これは、 `word-spacing$p や`単語~分離子$により導入される`両端揃え機会$には影響しないことに注意。
その間隔を供するのは、隣接する文字との並置ではなく，`~typographic文字~単位$のみなので。）
◎
In addition, to ensure consistent alignment of all the impacted lines, any letter-spacing or justification opportunity that would normally be introduced by the juxtaposition of the contents of a sunken initial and the subsequent contents of the line is suppressed. (Note that this does not affect word-spacing or the justification opportunity introduced by a word separator because that space is provided by the typographic character unit alone and not by its juxtaposition with an adjacent character.)
</p>

			</section>
			<section id="initial-letter-indentation">
<h4 title="Edge Effects: Indentation and Hanging Punctuation">5.10.2. 辺における効果：字下げと吊下がり約物</h4>

<p>
`text-indent$p ／ `hanging-punctuation$p
は、先頭字が在る下でも，~textの最初の行lに通常通り適用される。
排他~区画に影響される行lは、浮動体が在るときは，短くされ, 同じ仕方で影響される。
◎
text-indent and hanging-punctuation apply to the first line of text as normal in the presence of initial letters. Lines affected by the exclusion are shortened, as in the presence of floats, and are affected the same way.
</p>

<figure>`InitialLetterWithTextIndent^dgm
<figcaption>
`text-indent^p （字下げ）を伴う先頭字。
◎
Initial letter with text indent.
</figcaption></figure>

<p class="issue">
`initial-letters$p と `hanging-punctuation$p との相互作用は、
<a href="~CSSissue/310#issuecomment-396765893">討議中にある</a>。
◎
The interaction of initial-letters and hanging-punctuation is under discussion.
</p>

			</section>
			<section id="initial-letter-ancestors">
<h4 title="Ancestor Inlines">5.10.3. 先祖の行内</h4>

<p>
`先頭字$を包含している先祖に`行内~box$がある場合、それらの行内~boxの境界は，`先頭字$~boxを排他するように描かれる
— 先頭字が先祖たちの最も始端にある<a>~margin辺</a>の外側にあったかのように。
これは
純粋に幾何的な演算であり、例えば~prop継承や，`先頭字$~boxと後続の内容との合間の実質的な `letter-spacing$p には影響しない。
◎
If the initial letter box is contained by inline box ancestors, the boundaries of those inline boxes are drawn to exclude the initial letter box, as if it were outside their startmost margin edge. This is a purely geometric operation: it does not affect e.g. property inheritance or the effective letter-spacing between the initial letter box and subsequent content.
</p>

			</section>
			<section id="initial-letter-multi-line">
<h4 title="Multi-line Initial Letters">5.10.4. 複行にわたる先頭字</h4>

<p>
先頭字が 1 行lに収まるには長過ぎる場合、（通例の~text折返し規則に則って）折返され, 各~行lは、丁度［
それが最初の行lであって, 先頭字は 後続の通常の~textに収まるには長過ぎる
］かのように，埋められ, 整形される。
先頭字の最後の行l上で，その後に開始される 通常の~textは、丁度［
その行lが最初の行lであった
］かのように影響される。
◎
If an initial letter is too long to fit on one line, it wraps (according to the usual text-wrapping rules), each line filled and formatted exactly as if it were the first line and the initial letter too long to fit any subsequent normal text. Any normal text after the initial letter starts on its last line, affected exactly as if that line were the first line.
</p>

<figure>`Multi-line-initial^dgm
<figcaption>
埋没capは 2 本の行lに拡幅される。
◎
Drop cap extends to two lines.
</figcaption></figure>

			</section>
		</section>
		<section id="initial-letter-paragraphs">
<h3 title="Clearing Initial Letters">5.11. 先頭字の~clear法</h3>

<p class="trans-note">【
所与の~box A, B に対する
“A は B を~clearする”
という句は、 A は
— B のための場所を “~~空けて”, B をよけるように —
B を過ぎた所までズラすことを意味する。
原文では、
`行内~基底~方向$,
`塊~flow方向$
どっちへズラすか言及されていないが，片方だけ指している箇所もある。
これは判り難いので、この訳では必要に応じて注釈を加えている。
】</p>

			<section id="raised-sunken-caps">
<h4 title="Raised and sunken caps">5.11.1. 持上げ／沈込み~cap</h4>

<p>
先頭字は、それを包含している要素の~sizeに，`~margin~box$を供与する。
~textの最初の行lを超えて拡幅する先頭字は、
“持上げ~cap”／ “沈込み~cap”
とも呼ばれ，直上にある要素の中まで拡幅することはない。
先頭字の内容~boxは，すべての~glyph~inkを含むので、先頭字の~cap-heightを上回る~accentその他の~inkが，直上にある要素に突き当ることはないことになる。
◎
The margin box of an initial letter contributes to the size of its containing element. Initial letters that extend above the first line of text, known as “raised caps” or “sunken caps,” do not extend up into previous elements. Since the content box for an initial letter includes all glyph ink, this also means that accents or other ink above the cap height of an initial letter will not impinge on previous elements.
</p>

<figure>`initial-letter-drop-para-compare^dgm
<figcaption>
右図は持上げ~cap（
<code class="css">`initial-letters^p: `3 1^v</code>
）。
いずれも “C” の位置は同じになるが、右図では，後続の~textが，先頭字から相対的に下へ移動されることに注意。
◎
Raised cap (initial-letters: 3 1) on right; note that the position of the “C” is the same in both cases, but on the right all text is moved down relative to the initial letter.
</figcaption></figure>

<p class="issue">
~fontの~cap-heightより上側の~glyphの輪郭を取扱う。
提案：
それを行l~boxと~border~boxに対する排他~区画にする。
先頭字に指定された~marginを，間隔法を制御するための排他~区画の一部に含める。
◎
Handle glyph ink above cap height of font. Proposal: Make it an exclusion area for line boxes and border boxes. Include margin specified on initial-letters as part of exclusion area in order to control spacing.
</p>

<p>
ここに~box~model図式を描く。
先頭字の~marginは その容器と相殺されるか？
◎
Draw a box model diagram here. Does the margin of the initial letter collapse with its container?
</p>

			</section>
			<section id="short-para-initial-letter">
<h4 title="Short paragraphs with initial letters">5.11.2. 先頭字を伴う短い段落</h4>

<p>
先頭字を伴う段落の~text行l数が，先頭字が占めるそれより少ないこともある。
この場合でも、先頭字の上端~整列は，依然として尊守され、
その排他~区画は、後続の塊の中へ継続する。
これは、後続の`行内level$の内容も先頭字を回込むことを強制する
— 丁度［
その塊の~textが，先頭字の包含塊の一部であった
］かのように（これは、浮動体が 後続の塊~boxの内容を回込ませるのと類似する）。
◎
A paragraph with an initial letter can have fewer lines of text than the initial letter occupies. In this case, the initial letter’s top alignment is still honored, and its exclusion area continues into any subsequent blocks. This forces the subsequent inline-level content to wrap around the initial letter—exactly as if that block’s text were part of its own containing block. (This is similar to how floats exclude content in subsequent block boxes.)
</p>

<figure>`initial-letter-short-para^dgm
<figcaption>
赤色~textは、先頭字を伴う短い段落。
後続の段落は、先頭字を伴う段落~内の~textと同様に，先頭字を回込むことに注意。
◎
The red text is a short paragraph with an initial letter. Note the subsequent paragraph wraps around the initial letter just as text in the paragraph with the initial letter does.
</figcaption></figure>

<div class="p">
<p>
後続の塊が，次のいずれかを満たす場合、以前の塊の先頭字を【塊~flow方向に】~clearするモノトスル：
</p>

<ul><li>先頭字で開始されていて, `独立な整形~文脈$を確立している
</li><li>`clear$p を先頭字の包含塊の`始端$方向に指定している
</li></ul>

◎
If the subsequent block starts with an initial letter, establishes an independent formatting context, or specifies clear in the initial letter’s containing block’s start direction, then it must clear the previous block’s initial letter.
</div>

<figure>`initial-letter-short-para-initial^dgm
<figcaption>
赤色~textは、先頭字を伴う短い段落。
後続の段落も先頭字を持つので~clearする。
◎
The red text is a short paragraph with an initial letter. The subsequent paragraph clears because it also has an initial letter.
</figcaption></figure>

			</section>
			<section id="initial-letter-floats">
<h4 title="Interaction with floats">5.11.3. 浮動体との相互作用</h4>

<p>
`先頭字$は、【後続する行内levelの内容が回込む点で，浮動体に似るが】
`浮動体$ではない。
それは、`~flow内$にある`行内level$の内容であり，`行l~box$に属する。
特に：
◎
Initial letters are not floats: they are in-flow inline-level content that belongs to a line box. Therefore:
</p>

<ul>
	<li>
`clear$p ~propは、`先頭字$に関わらない。
それは先頭字には適用されないので、どの浮動体も先頭字の`~clear対象$にはならない。
先頭字は浮動体ではないので、どの先頭字も他の~clear対象にはならない。
◎
The clear property does not care about initial letters: it neither applies to initial letters nor clears them when applied to nearby floats.
</li>
	<li>
`先頭字$は、行l~boxや浮動体と同様に，同じ`塊~整形~文脈$に関与している浮動体の`~margin~box$と重合しないモノトスル
— 先頭字を成す~boxは、重合しない所に収まるまで，内方または下方へズラされることになる。
◎
Like line boxes or floats, initial letter boxes must not overlap the margin boxes of any floats participating in the same block formatting context. An overlapping initial letter box is shifted inward or downward until either it fits without overlapping or there are no more floats present.
</li>
	<li>
浮動体を【方向は問わず】~clearするために，行l~boxの始端~辺が内方／下方へ移動される場合には、行l~boxを出自にしている`先頭字$も伴に移動する。
同様に、浮動体を~clearするために，先頭字が移動される場合も、それに則って［
それが出自にしている行l~box, 後続の行l~boxたち
］も短くなったり移動する。
◎
If a line box’s start edge shifts or moves down to clear a float, an initial letter originating in it moves with it; likewise if an initial letter shifts inward or moves downward to clear a float, its originating line box and subsequent line boxes shorten and/or move accordingly.
</li>
	<li>
<p>
`行内~始端$へ浮動する浮動体は、`先頭字$の【行内~基底~方向に】隣接する内容を成すいずれかの行lを出自にしている場合
— その行lが：
</p>
<ul>
	<li>
最初の行lならば、浮動体は，先頭字を過ぎて包含塊~辺に寄せられる
— 丁度，先頭字が他の行内level内容であったかのように。
</li>
	<li>
他の行lならば（先頭字は沈込している）、先頭字は浮動体を【行内~基底~方向に】~clearするモノトスル。
【原文の “浮動体” と “先頭字” はおそらく逆なので修正している。】
</li>
</ul>
◎
If an inline-start float originates in the first line of content adjacent to an initial letter, then it moves past the initial letter towards the containing block edge, exactly as if the initial letter were any other inline-level content.
◎
However, if such a float originates in subsequent lines of content adjacent to a (sunk) initial letter, then that float must clear the initial letter.
</li>
</ul>

<figure>`float-interaction^dgm
<figcaption>
~textの最初の行lは，先頭字が無いときは青色の浮動体に寄りかかれるが、在るときは，橙色の浮動体を過ぎる所まで移動することが要求される。
◎
In the absence of an initial letter, the first line of text could abut the blue float. But the presence of the initial letter requires that the text move over.
</figcaption></figure>

<p>
浮動体と隣接する内容の~layoutについての情報は、
`CSS2$r の<a href="~CSS2VISUREN#floats">§浮動体</a>を見よ。
◎
See CSS2§9.5 for more information about the layout of floats and adjacent content. [CSS2]
</p>

<p class="issue">
後続の行lを出自にしている行内-終端にある浮動体が，（行内-始端にあるそれと同じく）先頭字を~clearするモノトスルかどうかは、
<a href="https://lists.w3.org/Archives/Public/www-style/2018Jul/0019.html">依然として討議中にある</a>
。
それを要求する審美的な理由は無い
— が、下層の~layout~modelが 2 つの事例をどう判別することになるかは，まだ不明瞭である。
◎
Whether an inline-end float originating in subsequent lines must clear the initial letter (as inline-start floats do) is still under discussion. There is no aesthetic reason to require it; however it’s yet unclear how the underlying layout model would distinguish between the two cases.
</p>

			</section>
			<section id="intial-letter-breaking">
<h4 title="Interaction with Fragmentation (Pagination)">5.11.4. 断片化（~page割り）との相互作用</h4>

<p>
単独の~glyphは，いくつかの`断片化~容器$（~page／柱／~region, 等々）
］に`断片$化できないので、塊-軸における`断片化$（いくつかの断片化~容器に分断すること）の目的においては，`先頭字$は`単体的$と見なされる
`css-break-3$r
。
加えて、先頭字~boxに並んでいる`~flow内$にある行lたちの合間における分断は、避けられる
— `widows$p や `orphans$p により影響されるそれも含めて。
しかしながら，それら行lたちが成す内容のどこかに`強制d分断$がある場合、それが優先される
— そうであっても、先頭字~box自身に対する効果は無い。
◎
Since a single glyph cannot be fragmented across pages (or columns or other fragmentation containers), an initial letter is considered monolithic [css-break-3] for the purpose of block-axis fragmentation (breaking across pages, columns, regions, etc.). Additionally, breaks between the in-flow lines alongside an initial letter box are avoided, much as breaks between line boxes affected be widows and orphans are avoided. However, if there is a forced break alongside the initial letter box, then it takes precedence; but has no effect on the initial letter box itself.
</p>

<p>
他の`単体的$な~objと同じく，`先頭字$は、［
それを包含するには短か過ぎる`断片化~容器$
］の上端に生じている場合には，切落すか, 切分けるかしてもヨイ。
しかしながら，隣接する内容は、`先頭字$とともに［
切落す／切分ける
］ことなく，自前の規則に則って`断片$化されるモノトスル。
◎
As with other monolithic objects, if an initial letter box occurs at the top of a fragmentation container and that fragmentation container is too short to contain it, it may be either truncated or sliced. Adjacent content, however, must be fragmented according to its own rules, not truncated or sliced along with the initial letter.
</p>

			</section>
		</section>
	</section>
	<section id="baseline-synthesis">

<h2 title="Synthesizing Alignment Metrics">付録 A. 整列~計量の合成-法</h2>

		<section id="baseline-synthesis-fonts">
<h3 title="Synthesizing Baselines (and Other Font Metrics) for Text">A.1. ~text用の基底線（および 他の~font計量）の合成-法</h3>

<p>
~fontには、この~moduleに述べた，~textを適正に整列するために必要とされる計量~情報がないこともある。
~UAは、要求される計量がない場合は，次の方策を利用してヨイ：
◎
Some fonts might not contain the metrics information necessary to align text properly as described in this module. User agents may use the following strategies in the absence of a required metric:
</p>

<dl>
	<dt>
~fontを測定する
◎
Measure the font
</dt>

	<dd>
<p>
計量は ~glyphの形状から導出してもヨイ。
例えば：
◎
Metrics may be derived from the glyph shapes. For example,
</p>

		<ol>
			<li>
~mathematical基底線として、~minus符号（ `2212^U ）の中央を~~採用できる。
◎
The center of the minus sign (U+2212) can be taken as the mathematical baseline.
</li>
			<li>
<p>
小文字 “o” の最高点から ~alphabetic基底線を下回る量を減算すれば、
<a href="~CSSVAL#ex">x-height</a>
を測定できる。
◎
The amount by which the lowercase “o” descends below the alphabetic baseline can be subtracted from its highest point to measure the x-height.
</p>

<figure>`measuring-x-height-o^dgm
<figcaption>
~x-heightの測定-法
— 図の［
A ／ B
］は、~alphabetic基底線から字lの［
上端／下端
］までの距離を表す。
◎
Measuring the x height.
</figcaption></figure>

			</li>
			<li>
大文字 “O” の最高点から~alphabetic基底線を下回る量を減算すれば、~cap-heightを測定できる。
◎
The amount by which the uppercase “O” descends below the alphabetic baseline can be subtracted from its highest point to measure the cap-height.
</li>
			<li>
~ideographic文字~faceの周を成す各 辺として `6C38^U `6C38^cref の限界~boxを利用できる。
◎
The bounding box of 永 (U+6C38) can be used to find the ideographic character face edges.
</li>
			<li>
~Hebrew~hanging基底線として、~Hebrew `05BE^U `05BE^cref （ `maqaf^en ）の中央の上端~辺を~~採用できる。
【原文 "U+05B3" はおそらく誤記。】
◎
The top edge of the center of the Hebrew maqaf (U+05B3 “־”) can be taken as the Hebrew hanging baseline.
</li>
			<li>
<p>
~hanging基底線として、字l “Ka” の中央の上端~辺を~~採用できる。
どの “Ka” が利用されるべきかは、`内容~言語$に依存するべきである：
◎
The top edge of the center of the letter Ka can be taken as the hanging baseline. Which Ka is used should depend on the content language:
</p>

<table>
<thead><tr ><th>言語
<th>用字系
<th>字l
</thead>

<tbody><tr><td>
<td>~Devanagari
<td>`0915^cref `0915^U KA

<tr><td>
<td>~Bengali
<td>`0995^cref `0995^U

<tr><td>
<td>~Gurmukhi
<td>`0A15^cref `0A15^U

<tr><td>
<td>~Tibetan
<td>`0F40^cref `0F40^U
</tbody></table>

<!-- 

Language 	Script 	Letter
	Devanagari 	क U+0915 KA
	Bengali 	ক U+0995
	Gurmukhi 	ਕ U+0A15
	Tibetan 	ཀ U+0F40 
-->

<p class="issue">
既定を選ぶ。
◎
Pick a default.
</p>

<figure>`measuring-hanging-baseline-ka^dgm
<figcaption>
~hanging基底線は、文字~inkの上端~辺に~~位置する。
◎
The hanging baseline is at the top edge of the character ink.
</figcaption></figure>

			</li>
			<li class="issue">
もっと注記を追加するか？
◎
Issue: Add more notes here?
</li>
</ol>

<p class="issue">
これらの経験則の健全さを誰か検査してくれないかな。
◎
Somebody sanity-check these heuristics please.
</p>
	</dd>

	<dt>
用字系ごとの経験則を用いる。
◎
Use a heuristic for the script
</dt>
	<dd>
課題：
これは何を意味する？
◎
Issue: What does this mean?
</dd>

	<dt>
~fallback値を利用する
— 次の値を~fallback値に用いる：
◎
Use fallback values
◎
The following fallback values
</dt>
	<dd>
		<ul>
			<li>
~x-heightには `.5em^v
◎
x-height: .5em;
</li>
			<li>
~cap-heightには `.66em^v
◎
cap-height: .66em;
</li>
			<li>
~hanging基底線には `.6em^v
◎
hanging baseline: .6em;
</li>
			<li>
~Hebrew~hanging基底線には： ???
◎
Hebrew hanging baseline: ???
</li>
		</ul>
	</dd>
</dl>

		</section>
		<section id="baseline-synthesis-replaced">
<h3 title="Synthesizing Baselines for Replaced Content">A.2. 置換される要素~用の基底線の合成-法</h3>

<p class="issue">
<a href="~CSSWM#replaced-baselines">CSS Writing Modes</a>
から追加的な基底線~値の~~記述を取り込んで，~~拡張する。
◎
Copy over text from CSS Writing Modes and expand for additional baseline values.
</p>

<p class="note">注記：
（正な／負な）~marginを利用すれば、作者は，`置換され$る内容に対し 行lの中での整列を調整できる。
◎
Note: Authors can use margins (positive or negative) to adjust the alignment of replaced content within a line.
</p>

<div class="example">

<p>
一連の画像を利用して，存在しない文字を表示する例：
◎
In this example, the author is using a set of images to display characters that don’t exist.
</p>

<pre class="lang-css">
img[src^="/text/"] {
  height: 1em; /* <span class="comment">
隣の~textと合致するように~sizeする
◎
Size to match adjacent text
</span> */
  margin-bottom: -0.2em; /* <span class="comment">
基底線を下端から 20% 上にする
◎
Baseline at 20% above bottom
</span> */
}
</pre>
...
<pre class="lang-ml">
&lt;p&gt;<span class="comment">
未だ符号化されていない用字系で書かれた単語による~text
◎
This is some text with words written in an unencoded script:
</span>
  &lt;img src="/text/ch3439.png" alt="..."&gt;
  &lt;img src="/text/ch3440.png" alt="..."&gt;
  &lt;img src="/text/ch3442.png" alt="..."&gt;
</pre>

</div>

<p class="note">注記：
~CSSの将来~levelでは、`置換され$る要素~用に全部的な基底線~tableを指定する仕方が含められるであろう（おそらく，
<span class="prod">[&lt;baseline-keyword&gt; `percentage$t]+</span>
を値に受容する， `baseline-table^p ~propのようなものにより）。
◎
Note: A future level of CSS may include a way of specifying a full baseline table for replaced elements. (This will probably look like a baseline-table property that accepts ''[&lt;baseline-keyword&gt; &lt;percentage&gt;]+''.)
</p>

		</section>
	</section>
	<section id="changes">
<h2 title="Changes">変更点</h2>

<p>
<a href="~TR/2018/WD-css-inline-3-20180808/">2018 年 8 月 8 日 作業草案</a>
からの変更点は：
◎
Changes since the 8 August 2018 Working Draft include:
</p>

<ul>
	<li>
行-間の間隔法を計算する方法を制御する `line-sizing$p ~propを追加した。
（ `3199$issue ）
◎
Added line-sizing property to control how inter-line spacing is calculated. (Issue 3199)
</li>
</ul>

<p>
<a href="~TR/2016/WD-css-inline-3-20160524/">2016 年 5 月 24 日 作業草案</a>
からの変更点は：
◎
Changes since the 24 May 2016 Working Draft include:
</p>

<ul>
	<li>
行内~boxの論理-縦幅を制御する~prop【 `inline-sizing$p 】の~~素描を追加した。
（ `1974$issue ）
◎
Sketched out property to control the logical height of inline boxes. (Issue 1974)
</li>
	<li>
先頭字が他の行内~boxの子孫である場合の取扱いをより良く定義して、［
`marker$pe, 双向性~並替ng, その他の~~複雑さ
］が在るときの適用能を明確化した。
（ `2184$issue, `2705$issue ）
◎
Better defined handling of initial letters that are descendants of other inline boxes and clarified applicability in the presence of ::marker, bidi reordering, and other complications. (Issue 2184, Issue 2705)
</li>
	<li>
先頭字と［
`text-align$p, `letter-spacing$p, 両端揃え
］との相互作用を定義した。
（ `884$issue ）
◎
Defined interaction of initial letters and text-align, letter-spacing, and justification. (Issue 884)
</li>
	<li>
`initial-letter^p を `initial-letters$p に改称した。
（ `862$issue ）
◎
Renamed initial-letter to initial-letters. (Issue 862)
</li>
	<li>
先頭字と浮動体との相互作用をより良く定義した。
（ `360$issue, `689$issue ）
◎
Better defined interaction of initial letters and floats. (Issue 360, Issue 689)
</li>
	<li>
先頭字~用に推奨される既定の~UA~stylesheet規則を改善した。
◎
Improved recommended default UA style sheet rules for initial letters.
</li>
	<li>
先頭字に対する各種~propの適用能を，明示的な~listから行内~boxに適用される~propへの参照（および，少数の例外）に変更した。
（ `2700$issue ）
◎
Changed applicability of properties to initial letters from explicit list to reference to properties applying to inline boxes (with a few exceptions). (Issue 2700)
</li>
	<li>
`~sizing~prop$は、先頭字に適用されるものと定義した。
（ `863$issue ）
◎
Defined sizing properties to apply to initial letters. (Issue 863)
</li>
	<li>
<code class="css">`initial-letters-wrap$p: `all^v</code>
の下では、 `shape-outside$p は先頭字に適用されるものと定義した。
（ `885$issue ）
◎
Defined shape-outside to apply to initial letters with initial-letter-wrap: all. (Issue 885)
</li>
	<li>
~Arabic形状付けは、先頭字と後続の~textの合間にも適用するものと指定した。
（ `2399$issue ）
◎
Specified that Arabic shaping applies between an initial letter and subsequent text. (Issue 2399)
</li>
	<li>
先頭字と断片化との相互作用を定義した。
（ `2404$issue ）
◎
Defined interaction of initial letters and fragmentation. (Issue 2404)
</li>
	<li>
<code class="css">`initial-letters-wrap$p: `grid^v</code>
の定義における数学的な誤りを修正した。
（ `947$issue ）
◎
Fixed math errors in definition of initial-letter-wrap: grid. (Issue 947)
</li>
</ul>

	</section>
	<section id="ack">
<h2 title="Acknowledgments">謝辞</h2>

<p>
初期の策定者 `Eric A. Meyer, Michel Suignard^en 両氏に特別な謝意を。
◎
Special thanks goes to the initial authors, Eric A. Meyer and Michel Suignard.
</p>

<p>
加えて、この仕様は、次の方々からの助力も欠かせなかった：
◎
In additions to the authors, this specification would not have been possible without the help from:
</p>

<p lang="en-x-a0">
David Baron,
David M Brown,
Oriol Brufau,
John Daggett,
Stephen Deach,
Sylvain Galineau,
David Hyatt,
Myles Maxfield,
Shinyu Murakami,
Jan Nicklas,
Tess O’Connor,
Sujal Parikh,
Florian Rivoal,
Alan Stearns,
Weston Thayer,
Bobby Tung,
Chris Wilson,
Grzegorz Zygmunt.
</p>

	</section>
</main></div>

